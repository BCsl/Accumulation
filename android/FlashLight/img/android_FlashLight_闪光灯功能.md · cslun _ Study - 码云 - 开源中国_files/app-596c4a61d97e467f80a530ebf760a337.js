/*
  Implement Github like autocomplete mentions
  http://ichord.github.com/At.js

  Copyright (c) 2013 chord.luo@gmail.com
  Licensed under the MIT license.
*/
function pageName(){return"undefined"==typeof pageFullPath?void 0:pageFullPath.split("/").pop()}function pagePath(){return"undefined"==typeof pageFullPath?void 0:pageFullPath.split("/").slice(0,-1).join("/")}function htmlEscape(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function abspath(e,t){t[0]!="/"&&(t="/"+t,e&&(t="/"+e+t));var i=t.split("/"),n=i.slice(0,-1).join("/"),o=i.pop();return[n,o]}(function(){var e=[].slice;(function(e){return"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)})(function(t){var i,n,o,r,s,a,l,c;return a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13},r={before_save:function(e){var i,n,o,r;if(!t.isArray(e))return e;for(r=[],n=0,o=e.length;o>n;n++)i=e[n],t.isPlainObject(i)?r.push(i):r.push({name:i});return r},matcher:function(e,t){var i,n;return e="(?:^|\\s)"+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp(e+"([A-Za-z0-9_+-]*)$|"+e+"([^\\x00-\\xff]*)$","gi"),i=n.exec(t),i?i[2]||i[1]:null},filter:function(e,t,i){var n,o,r,s;for(s=[],o=0,r=t.length;r>o;o++)n=t[o],~n[i].toLowerCase().indexOf(e)&&s.push(n);return s},remote_filter:null,sorter:function(e,t,i){var n,o,r,s;if(!e)return t;for(s=[],o=0,r=t.length;r>o;o++)n=t[o],n.atwho_order=n[i].toLowerCase().indexOf(e),n.atwho_order>-1&&s.push(n);return s.sort(function(e,t){return e.atwho_order-t.atwho_order})},tpl_eval:function(e,t){try{return e.replace(/\$\{([^\}]*)\}/g,function(e,i){return t[i]})}catch(i){return""}},highlighter:function(e,t){var i;return t?(i=new RegExp(">\\s*(\\w*)("+t.replace("+","\\+")+")(\\w*)\\s*<","ig"),e.replace(i,function(e,t,i,n){return"> "+t+"<strong>"+i+"</strong>"+n+" <"})):e},before_insert:function(e){return e}},l=function(){function e(e,t){this.context=e,this.key=t}var i;return i={},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(e,t){var i,n,o;return i=this.fetch(),n=this.context.get_opt("search_key"),t(i=this.context.callbacks("filter").call(this.context,e,i,n)),i&&i.length>0?void 0:(o=this.context.callbacks("remote_filter"))!=null?o.call(this.context,e,t):void 0},e.prototype.fetch=function(){return i[this.key]||[]},e.prototype.save=function(e){return i[this.key]=this.context.callbacks("before_save").call(this.context,e||[])},e.prototype.load=function(e){return!this.saved()&&e?this._load(e):void 0},e.prototype.reload=function(e){return this._load(e)},e.prototype._load=function(e){var i=this;return"string"==typeof e?t.ajax(e,{dataType:"json"}).done(function(e){return i.save(e)}):this.save(e)},e}(),o=function(){function n(e){this.id=e.id||o(),this.settings={},this.pos=0,this.current_flag=null,this.query=null,this.the_flag={},this._views={},this._models={},this.$inputor=t(e),i.append(this.$el=t("<div id='atwho-ground-"+this.id+"'></div>")),this.listen()}var o,s;return s=0,o=function(){return s+=1},n.prototype.listen=function(){var e=this;return this.$inputor.on("keyup.atwho",function(t){return e.on_keyup(t)}).on("keydown.atwho",function(t){return e.on_keydown(t)}).on("scroll.atwho",function(){var t;return(t=e.view)!=null?t.hide():void 0}).on("blur.atwho",function(){var t;return(t=e.view)!=null?t.hide(e.get_opt("display_timeout")):void 0})},n.prototype.set_context_for=function(e){return e=this.current_flag=this.the_flag[e],this.view=this._views[e],this.model=this._models[e],this},n.prototype.reg=function(e,i){var n;return n=this.settings[e]=t.extend({},this.settings[e]||t.fn.atwho["default"],i),this.set_context_for((n.alias?this.the_flag[n.alias]=e:void 0,e=this.the_flag[e]=e)),(this._models[e]=new l(this,e)).reload(n.data),this._views[e]=new c(this,e),this},n.prototype.trigger=function(e,t){var i,n;return t.push(this),i=this.get_opt("alias"),n=i?""+e+"-"+i+".atwho":""+e+".atwho",this.$inputor.trigger(n,t)},n.prototype.super_call=function(){var i,n;n=arguments[0],i=2<=arguments.length?e.call(arguments,1):[];try{return r[n].apply(this,i)}catch(o){return t.error(""+o+" Or maybe At.js doesn't have function "+n)}},n.prototype.callbacks=function(e){return this.get_opt("callbacks")[e]||r[e]},n.prototype.get_opt=function(e){try{return this.settings[this.current_flag][e]}catch(t){return null}},n.prototype.rect=function(){var e,t;return e=this.$inputor.caret("offset",this.pos-1),t=document.selection?0:2,{left:e.left,top:e.top,bottom:e.top+e.height+t}},n.prototype.catch_query=function(){var e,i,n,o,r,s,a,l=this;return i=this.$inputor.val(),e=this.$inputor.caret("pos"),s=i.slice(0,e),o=null,t.map(this.settings,function(e){var t;return t=l.callbacks("matcher").call(l,e.at,s),null!=t?(o=t,l.set_context_for(e.at)):void 0}),"string"==typeof o&&o.length<=this.get_opt("max_len",20)?(r=e-o.length,n=r+o.length,this.pos=r,o={text:o.toLowerCase(),head_pos:r,end_pos:n},this.trigger("matched",[this.current_flag,o.text])):(a=this.view)!=null&&a.hide(),this.query=o},n.prototype.insert=function(e){var t,i,n,o,r;return t=this.$inputor,e=""+e,n=t.val(),i=this.get_opt("display_flag")?0:this.current_flag.length,o=n.slice(0,(this.query.head_pos||0)-i),r=""+o+e+" "+n.slice(this.query.end_pos||0),t.val(r),t.caret("pos",o.length+e.length+1),t.change()},n.prototype.on_keyup=function(e){switch(e.keyCode){case a.ESC:e.preventDefault(),this.view.hide();break;case a.DOWN:case a.UP:t.noop();break;default:this.look_up()}},n.prototype.on_keydown=function(e){var i;if((i=this.view)!=null?i.visible():void 0)switch(e.keyCode){case a.ESC:e.preventDefault(),this.view.hide();break;case a.UP:e.preventDefault(),this.view.prev();break;case a.DOWN:e.preventDefault(),this.view.next();break;case a.TAB:case a.ENTER:if(!this.view.visible())return;e.preventDefault(),this.view.choose();break;default:t.noop()}},n.prototype.render_view=function(e){var t;return t=this.get_opt("search_key"),e=this.callbacks("sorter").call(this,this.query.text,e.slice(0,1001),t),this.view.render(e.slice(0,this.get_opt("limit")))},n.prototype.look_up=function(){var e,i;if(e=this.catch_query())return i=function(e){return e&&e.length>0?this.render_view(e):this.view.hide()},this.model.query(e.text,t.proxy(i,this))},n}(),c=function(){function e(e,i){this.context=e,this.key=i,this.id=this.context.get_opt("alias")||"at-view-"+this.key.charCodeAt(0),this.$el=t("<div id='"+this.id+"' class='atwho-view'><ul id='"+this.id+"-ul' class='atwho-view-url'></ul></div>"),this.timeout_id=null,this.context.$el.append(this.$el),this.bind_event()}return e.prototype.bind_event=function(){var e,i=this;return e=this.$el.find("ul"),e.on("mouseenter.view","li",function(i){return e.find(".cur").removeClass("cur"),t(i.currentTarget).addClass("cur")}).on("click",function(e){return i.choose(),e.preventDefault()})},e.prototype.visible=function(){return this.$el.is(":visible")},e.prototype.choose=function(){var e;return e=this.$el.find(".cur"),this.context.insert(this.context.callbacks("before_insert").call(this.context,e.data("value"),e)),this.context.trigger("inserted",[e]),this.hide()},e.prototype.reposition=function(){var e,i;return i=this.context.rect(),i.bottom+this.$el.height()-t(window).scrollTop()>t(window).height()&&(i.bottom=i.top-this.$el.height()),e={left:i.left,top:i.bottom},this.$el.offset(e),this.context.trigger("reposition",[e])},e.prototype.next=function(){var e,t;return e=this.$el.find(".cur").removeClass("cur"),t=e.next(),t.length||(t=this.$el.find("li:first")),t.addClass("cur")},e.prototype.prev=function(){var e,t;return e=this.$el.find(".cur").removeClass("cur"),t=e.prev(),t.length||(t=this.$el.find("li:last")),t.addClass("cur")},e.prototype.show=function(){return this.visible()||this.$el.show(),this.reposition()},e.prototype.hide=function(e){var t,i=this;return isNaN(e&&this.visible())?this.$el.hide():(t=function(){return i.hide()},clearTimeout(this.timeout_id),this.timeout_id=setTimeout(t,e))},e.prototype.render=function(e){var i,n,o,r,a,l,c;if(!t.isArray(e||e.length<=0))return this.hide(),void 0;for(this.$el.find("ul").empty(),n=this.$el.find("ul"),a=this.context.get_opt("tpl",s),l=0,c=e.length;c>l;l++)o=e[l],r=this.context.callbacks("tpl_eval").call(this.context,a,o),i=t(this.context.callbacks("highlighter").call(this.context,r,this.context.query.text)),i.data("atwho-info",o),n.append(i);return this.show(),n.find("li:first").addClass("cur")},e}(),s="<li data-value='${name}'>${name}</li>",n={init:function(e){var i,n;return n=(i=t(this)).data("atwho"),n||i.data("atwho",n=new o(this)),n.reg(e.at,e)},load:function(e,t){return this.set_context_for(e),this.model.load(t)},run:function(){return this.look_up()}},i=t("<div id='atwho-container'></div>"),t.fn.atwho=function(e){var o;return o=arguments,t("body").append(i),this.filter("textarea, input").each(function(){var i;return"object"!=typeof e&&e?n[e]?(i=t(this).data("atwho"))?n[e].apply(i,Array.prototype.slice.call(o,1)):void 0:t.error("Method "+e+" does not exist on jQuery.caret"):n.init.apply(this,o)})},t.fn.atwho["default"]={at:void 0,alias:void 0,data:null,tpl:s,callbacks:r,search_key:"name",limit:5,max_len:20,display_flag:!0,display_timeout:300}})}).call(this),/*
  Implement Github like autocomplete mentions
  http://ichord.github.com/At.js

  Copyright (c) 2013 chord.luo@gmail.com
  Licensed under the MIT license.
*/
function(){(function(e){return"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)})(function(e){"use strict";var t,i,n,o;return o="caret",t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getPos=function(){var e,t,i,n,o,r,s,a,l;return i=this.domInputor,i.focus(),document.selection?(s=document.selection.createRange(),r=0,s&&s.parentElement()===i&&(o=i.value.replace(/\r\n/g,"\n"),n=o.length,l=i.createTextRange(),l.moveToBookmark(s.getBookmark()),t=i.createTextRange(),t.collapse(!1),l.compareEndPoints("StartToEnd",t)>-1?a=e=n:(a=-l.moveStart("character",-n),e=-l.moveEnd("character",-n)))):a=i.selectionStart,a},t.prototype.setPos=function(e){var t,i;return t=this.domInputor,document.selection?(i=t.createTextRange(),i.move("character",e),i.select()):t.setSelectionRange(e,e)},t.prototype.getPosition=function(e){var t,n,o,r,s,a,l,c,u;return t=this.$inputor,o=function(e){return e.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,"<br />")},e=e||this.getPos(),l=t.val().slice(0,e),s="<span>"+o(l)+"</span>",s+="<span id='caret'>|</span>",a=new i(t),n=a.create(s).rect(),c=n.left-t.scrollLeft(),u=n.top-t.scrollTop(),r=n.height,{left:c,top:u,height:r}},t.prototype.getOffset=function(t){var i,n,o,r,s,a,l;return i=this.$inputor,document.selection?(s=this.domInputor.createTextRange(),t&&s.move("character",t),a=s.boundingLeft+i.scrollLeft(),l=s.boundingTop+e(window).scrollTop()+i.scrollTop(),n=s.boundingHeight):(o=i.offset(),r=this.getPosition(t),a=o.left+r.left,l=o.top+r.top,n=r.height),{left:a,top:l,height:n}},t}(),i=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["overflowY","height","width","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","fontFamily","borderStyle","borderWidth","wordWrap","fontSize","lineHeight","overflowX","text-align"],t.prototype.mirrorCss=function(){var t,i=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4,"white-space":"pre-wrap"},e.each(this.css_attr,function(e,n){return t[n]=i.$inputor.css(n)}),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,i;return e=this.$mirror.find("#caret"),t=e.position(),i={left:t.left,top:t.top,height:e.height()},this.$mirror.remove(),i},t}(),n={pos:function(e){return e?this.setPos(e):this.getPos()},position:function(e){return this.getPosition(e)},offset:function(e){return this.getOffset(e)}},e.fn.caret=function(i){var o;return o=new t(this),n[i]?n[i].apply(o,Array.prototype.slice.call(arguments,1)):e.error("Method "+i+" does not exist on jQuery.caret")}})}.call(this),function(){var e;(e=window.GitLab)==null&&(window.GitLab={}),GitLab.GfmAutoComplete={dataSource:"",Emoji:{assetBase:"",template:'<li data-value="${insert}">${name} <img alt="${name}" height="20" src="${image}" width="20" /></li>'},Members:{template:'<li data-value="${name}">${name} <small>${username}</small></li>'},Issues:{template:'<li data-value="${id}"><small>#${id}</small> ${title} </li>'},PullRequests:{template:'<li data-value="${id}"><small>!${id}</small> ${title} </li>'},Code:{template:'<li data-value="${id}"><small>!${id}</small> ${title} </li>'},setup:function(){var e,t=this;return e=$(".md-input, .edit_note textarea"),e.atwho({at:":",tpl:this.Emoji.template,callbacks:{before_save:function(e){return $.map(e,function(e){return{name:e,insert:e+":",image:""+t.Emoji.assetBase+"/"+e+".png"}})}}}),e.atwho({at:"@",tpl:this.Members.template,search_key:"search",callbacks:{before_save:function(e){return $.map(e,function(e){return{name:e.name,username:e.username,search:""+e.username+" "+e.name}})}}}),e.atwho({at:"#",alias:"issues",search_key:"search",tpl:this.Issues.template,callbacks:{before_save:function(e){return $.map(e,function(e){return{id:e.iid,title:e.title,search:""+e.iid+" "+e.title}})}}}),e.atwho({at:"!",alias:"pull_requests",search_key:"search",tpl:this.PullRequests.template,callbacks:{before_save:function(e){return $.map(e,function(e){return{id:e.iid,title:e.title,search:""+e.iid+" "+e.title}})}}}),e.atwho({at:"&",alias:"codes",search_key:"search",tpl:this.Code.template,callbacks:{before_save:function(e){return $.map(e,function(e){return{id:e.id,key:e.key,search:""+e.id+" "+e.key}})}}}),e.one("focus",function(){var i,n,o,r,s,a,l,c,u;for(s=[],$("#notes-list .note a.avatar_o, #issue-title a.author").each(function(){return s.push({username:$(this).attr("username"),name:$(this).attr("name")})}),o=[],a=0,c=s.length;c>a;a++){for(n=s[a],r=!1,l=0,u=o.length;u>l;l++)i=o[l],i.username===n.username&&(r=!0);r||o.push(n)}return e.atwho("load","@",o),$.getJSON(t.dataSource).done(function(t){var a,l,c,u,h,d,p,f,m;for(m=t.members,a=0,c=m.length;c>a;a++){for(n=m[a],r=!1,l=0,u=o.length;u>l;l++)i=o[l],i.username===n.username&&(r=!0);r||o.push(n)}for(p=0,h=s.length;h>p;p++){for(n=s[p],r=!1,f=0,d=o.length;d>f;f++)i=o[f],i.username===n.username&&(r=!0);r||o.push(n)}return e.atwho("load","@",o),e.atwho("load","issues",t.issues),e.atwho("load","pull_requests",t.pull_requests),e.atwho("load",":",t.emojis)})})}}}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var e,t;t=this,e=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),e.group_array_index!=null&&t.push("group-option"),e.classes!==""&&t.push(e.classes),i=e.style.cssText!==""?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=(i=e.which)!=null?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e.prototype.container_width=function(){var e;return this.options.width!=null?this.options.width:(e=window.getComputedStyle!=null?parseFloat(window.getComputedStyle(this.form_field).getPropertyValue("width")):"undefined"!=typeof jQuery&&null!==jQuery&&this.form_field_jq!=null?this.form_field_jq.outerWidth():this.form_field.getWidth(),e+"px")},e.browser_is_supported=function(){var e;return window.navigator.appName==="Microsoft Internet Explorer"?null!==(e=document.documentMode)&&e>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t.AbstractChosen=e}.call(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return e.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,r,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),r=e.childNodes,s=[],n=0,o=r.length;o>n;n++)i=r[n],s.push(this.add_option(i,t,e.disabled));return s},e.prototype.add_option=function(e,t,i){return e.nodeName.toUpperCase()==="OPTION"?(e.text!==""?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,n,o,r,s;for(n=new e,s=t.childNodes,o=0,r=s.length;r>o;o++)i=s[o],n.add_node(i);return n.parsed},this.SelectParser=e}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var e,t,i,n,o={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(i){return AbstractChosen.browser_is_supported()?this.each(function(){var n;return n=e(this),n.hasClass("chzn-done")?void 0:n.data("chosen",new t(this,i))}):this}}),t=function(t){function o(){return n=o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},o.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},o.prototype.set_up_html=function(){var t,i;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),i={id:this.container_id,"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>'):this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chzn-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},o.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){e.container_mousedown(t)}),this.container.mouseup(function(t){e.container_mouseup(t)}),this.container.mouseenter(function(t){e.mouse_enter(t)}),this.container.mouseleave(function(t){e.mouse_leave(t)}),this.search_results.mouseup(function(t){e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel DOMMouseScroll",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("liszt:updated",function(t){e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){e.container_mousedown(t)}),this.search_field.blur(function(t){e.input_blur(t)}),this.search_field.keyup(function(t){e.keyup_checker(t)}),this.search_field.keydown(function(t){e.keydown_checker(t)}),this.search_field.focus(function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){e.choices_click(t)}):this.container.click(function(e){e.preventDefault()})},o.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},o.prototype.container_mousedown=function(t){return this.is_disabled||(t&&t.type==="mousedown"&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field())},o.prototype.container_mouseup=function(e){return e.target.nodeName!=="ABBR"||this.is_disabled?void 0:this.results_reset(e)},o.prototype.search_results_mousewheel=function(e){var t,i,n;return t=-((i=e.originalEvent)!=null?i.wheelDelta:void 0)||((n=e.originialEvent)!=null?n.detail:void 0),null!=t?(e.preventDefault(),e.type==="DOMMouseScroll"&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},o.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},o.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},o.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},o.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},o.prototype.results_build=function(){var e,t,n,o,r;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",r=this.results_data,n=0,o=r.length;o>n;n++)t=r[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},o.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},o.prototype.result_do_highlight=function(e){var t,i,n,o,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),o=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(r>i)return this.search_results.scrollTop(i)}},o.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},o.prototype.results_show=function(){if(this.result_single_selected!=null)this.result_do_highlight(this.result_single_selected);else if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;return this.container.addClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},o.prototype.results_hide=function(){return this.result_clear_highlight(),this.container.removeClass("chzn-with-drop"),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.results_showing=!1},o.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},o.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for="+this.form_field.id+"]")),this.form_field_label.length>0?this.form_field_label.click(function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},o.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},o.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},o.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},o.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},o.prototype.choice_build=function(t){var i,n,o,r=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+t.array_index,this.choices+=1,n=t.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(n),o=e("#"+i).find("a").first(),o.click(function(e){return r.choice_destroy_link_click(e)}))},o.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},o.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},o.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},o.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},o.prototype.result_select=function(e){var t,i,n,o;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),o=i.substr(i.lastIndexOf("_")+1),n=this.results_data[o],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale()):void 0},o.prototype.result_activate=function(e){return e.addClass("active-result")},o.prototype.result_deactivate=function(e){return e.removeClass("active-result")},o.prototype.result_deselect=function(t){var i,n;return n=this.results_data[t],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},o.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},o.prototype.winnow_results=function(){var t,i,n,o,r,s,a,l,c,u,h,d,p,f,m,g,v,b;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",r=new RegExp(s+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),b=this.results_data,f=0,g=b.length;g>f;f++)if(i=b[f],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,l=i.dom_id,a=e("#"+l),r.test(i.html))t=!0,c+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||i.html.indexOf("[")===0)&&(o=i.html.replace(/\[|\]/g,"").split(" "),o.length))for(m=0,v=o.length;v>m;m++)n=o[m],r.test(n)&&(t=!0,c+=1);t?(u.length?(h=i.html.search(p),d=i.html.substr(0,h+u.length)+"</em>"+i.html.substr(h+u.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=i.html,a.html(d),this.result_activate(a),i.group_array_index!=null&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},o.prototype.winnow_results_clear=function(){var t,i,n,o,r;for(this.search_field.val(""),i=this.search_results.find("li"),r=[],n=0,o=i.length;o>n;n++)t=i[n],t=e(t),t.hasClass("group-result")?r.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?r.push(void 0):r.push(this.result_activate(t));return r},o.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},o.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},o.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},o.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},o.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},o.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},o.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},o.prototype.keydown_checker=function(e){var t,i;switch(t=(i=e.which)!=null?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},o.prototype.search_field_scale=function(){var t,i,n,o,r,s,a,l;if(this.is_multiple){for(i=0,s=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=r.length;l>a;a++)n=r[a],o+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),s=t.width()+25,t.remove(),this.f_width||(this.f_width=this.container.outerWidth()),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"})}},o.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},o}(AbstractChosen),i.Chosen=t}.call(this),/*
Copyright 2012 Igor Vaynberg

Version: 3.3.2 Timestamp: Mon Mar 25 12:14:18 PDT 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){typeof e.fn.each2=="undefined"&&e.fn.extend({each2:function(t){for(var i=e([0]),n=-1,o=this.length;++n<o&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(e,t){for(var i=0,o=t.length;o>i;i+=1)if(n(e,t[i]))return i;return-1}function n(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function o(t,i){var n,o,r;if(null===t||t.length<1)return[];for(n=t.split(i),o=0,r=n.length;r>o;o+=1)n[o]=e.trim(n[o]);return n}function r(e){return e.outerWidth(!1)-e.width()}function s(i){var n="keyup-change-value";i.bind("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.bind("keyup",function(){var o=e.data(i,n);o!==t&&i.val()!==o&&(e.removeData(i,n),i.trigger("keyup-change"))})}function a(i){i.bind("mousemove",function(i){var n=N;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function l(e,i,n){n=n||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){i.apply(n,t)},e)}}function c(e){var t,i=!1;return function(){return i===!1&&(t=e(),i=!0),t}}function u(e,t){var n=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),e.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function d(e){e.preventDefault(),e.stopPropagation()}function p(e){e.preventDefault(),e.stopImmediatePropagation()}function f(t){if(!A){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);A=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),e("body").append(A)}return A.text(t.val()),A.width()}function m(t,i,n){var o,r,s=[];o=t.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){this.indexOf("select2-")===0&&s.push(this)})),o=i.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(r=n(this),r&&s.push(this))})),t.attr("class",s.join(" "))}function g(e,t,i,n){var o=e.toUpperCase().indexOf(t.toUpperCase()),r=t.length;return 0>o?(i.push(n(e)),void 0):(i.push(n(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(n(e.substring(o,o+r))),i.push("</span>"),i.push(n(e.substring(o+r,e.length))),void 0)}function v(t){var i,n=0,o=null,r=t.quietMillis||100,s=t.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){n+=1;var i=n,r=t.data,c=s,u=t.transport||e.ajax,h=t.type||"GET",d={};r=r?r.call(a,l.term,l.page,l.context):null,c="function"==typeof c?c.call(a,l.term,l.page,l.context):c,null!==o&&o.abort(),t.params&&(e.isFunction(t.params)?e.extend(d,t.params.call(a)):e.extend(d,t.params)),e.extend(d,{url:c,dataType:t.dataType,data:r,type:h,cache:!1,success:function(e){if(!(n>i)){var o=t.results(e,l.page);l.callback(o)}}}),o=u.call(a,d)},r)}}function b(t){var i,n,o=t,r=function(e){return""+e.text};e.isArray(o)&&(n=o,o={results:n}),e.isFunction(o)===!1&&(n=o,o=function(){return n});var s=o();return s.text&&(r=s.text,e.isFunction(r)||(i=o.text,r=function(e){return e[i]})),function(t){var i,n=t.term,s={results:[]};return""===n?(t.callback(o()),void 0):(i=function(o,s){var a,l;if(o=o[0],o.children){a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);a.children=[],e(o.children).each2(function(e,t){i(t,a.children)}),(a.children.length||t.matcher(n,r(a),o))&&s.push(a)}else t.matcher(n,r(o),o)&&s.push(o)},e(o().results).each2(function(e,t){i(t,s.results)}),t.callback(s),void 0)}}function y(i){var n=e.isFunction(i);return function(o){var r=o.term,s={results:[]};e(n?i():i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===r||o.matcher(r,i))&&s.results.push(e?this:{id:this,text:this})}),o.callback(s)}}function x(t){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function _(t){return e.isFunction(t)?t():t}function w(t){var i=0;return e.each(t,function(e,t){t.children?i+=w(t.children):i++}),i}function k(e,i,o,r){var s,a,l,c,u,h=e,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(s=e.substring(0,a),e=e.substring(a+u.length),s.length>0&&(s=r.createSearchChoice(s,i),s!==t&&null!==s&&r.id(s)!==t&&r.id(s)!==null)){for(d=!1,l=0,c=i.length;c>l;l++)if(n(r.id(s),r.id(i[l]))){d=!0;break}d||o(s)}}return h!==e?e:void 0}function C(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var T,S,$,D,E,A,N,M;T={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case T.LEFT:case T.RIGHT:case T.UP:case T.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case T.SHIFT:case T.CTRL:case T.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},M=e(document),E=function(){var e=1;return function(){return e++}}(),M.bind("mousemove",function(e){N={x:e.pageX,y:e.pageY}}),S=C(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,o,r=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&i.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+E()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return i.element.closest("body")}),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(_(i.containerCss)),this.container.addClass(_(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){e(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(_(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(r),this.search=o=this.container.find("input.select2-input"),o.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),a(this.results),this.dropdown.delegate(r,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(r,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&n.mousewheel(function(e,t,i,o){var r=n.scrollTop();o>0&&0>=r-o?(n.scrollTop(0),d(e)):0>o&&n.get(0).scrollHeight-n.scrollTop()+o<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),d(e))}),s(o),o.bind("keyup-change input paste",this.bind(this.updateResults)),o.bind("focus",function(){o.addClass("select2-focused")}),o.bind("blur",function(){o.removeClass("select2-focused")}),this.dropdown.delegate(r,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(i){var r,s,a,l;if(r=i.element,r.get(0).tagName.toLowerCase()==="select"&&(this.select=s=i.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(n,o,r){var s,a=this.opts.id,l=this;s=function(n,o,c){var u,h,d,p,f,m,g,v,b,y;for(n=i.sortResults(n,o,r),u=0,h=n.length;h>u;u+=1)d=n[u],f=d.disabled===!0,p=!f&&a(d)!==t,m=d.children&&d.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(d)),v=e(document.createElement("div")),v.addClass("select2-result-label"),y=i.formatResult(d,v,r,l.opts.escapeMarkup),y!==t&&v.html(y),g.append(v),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),s(d.children,b,c+1),g.append(b)),g.data("select2-data",d),o.append(g)},s(o,n,0)}},e.fn.select2.defaults,i),typeof i.id!="function"&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(i){var o,s,a,l={results:[],more:!1},c=i.term;a=function(e,t){var o;e.is("option")?i.matcher(c,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:n(e.attr("disabled"),"disabled")}):e.is("optgroup")&&(o={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){a(t,o.children)}),o.children.length>0&&t.push(o))},o=r.children(),this.getPlaceholder()!==t&&o.length>0&&(s=o[0],e(s).text()===""&&(o=o.not(s))),o.each2(function(e,t){a(t,l.results)}),i.callback(l)}),i.id=function(e){return e.id},i.formatResultCssClass=function(e){return e.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=v.call(i.element,i.ajax)):"data"in i?i.query=b(i.data):"tags"in i&&(i.query=y(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(e){return{id:e,text:e}}),i.initSelection===t&&(i.initSelection=function(t,r){var s=[];e(o(t.val(),i.separator)).each(function(){var t=this,o=this,r=i.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return n(this.id,t)?(o=this.text,!1):void 0}),s.push({id:t,text:o})}),r(s)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var e,t=this.opts.element;t.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,t;e=this.opts.element.attr("disabled")!=="disabled",t=this.opts.element.attr("readonly")==="readonly",e=e&&!t,this.enabled!==e&&(e?this.enable():this.disable()),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(_(this.opts.containerCssClass)),m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(this.opts.dropdownCssClass))}),t.bind("propertychange.select2 DOMAttrModified.select2",e),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(t){t.forEach(e)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,o=this.container.offset(),r=this.container.outerHeight(!1),s=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),l=e(window).scrollLeft()+e(window).width(),c=e(window).scrollTop()+e(window).height(),u=o.top+r,h=o.left,d=c>=u+a,p=o.top-a>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),m=l>=h+f,g=this.dropdown.hasClass("select2-drop-above");this.body().css("position")!=="static"&&(t=this.body().offset(),u-=t.top,h-=t.left),g?(i=!0,!p&&d&&(i=!1)):(i=!1,!d&&p&&(i=!0)),m||(h=o.left+s-f),i?(u=o.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),n=e.extend({top:u,left:h,width:s},_(this.opts.dropdownCss)),this.dropdown.css(n)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var i,n=this.containerId,o="scroll."+n,r="resize."+n,s="orientationchange."+n;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),i=e("#select2-drop-mask"),i.length==0&&(i=e(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.bind("mousedown touchstart",function(){var t,i=e("#select2-drop");i.length>0&&(t=i.data("select2"),t.opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.css(t()),i.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){e(this).bind(r+" "+o+" "+s,function(){e("#select2-drop-mask").css(t()),a.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,n="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).unbind(i).unbind(n).unbind(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return _(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,n,o,r,s,a,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return l.scrollTop(0),void 0;t=this.findHighlightableChoices(),n=e(t[i]),o=n.offset().top+n.outerHeight(!0),i===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(o=a.offset().top+a.outerHeight(!0))),r=l.offset().top+l.outerHeight(!0),o>r&&l.scrollTop(l.scrollTop()+(o-r)),s=n.offset().top-l.offset().top,0>s&&n.css("display")!="none"&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var o=e(i[n]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var n,o,r=this.findHighlightableChoices();return arguments.length===0?i(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),n=e(r[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=n.data("select2-data"),o&&this.opts.element.trigger({type:"highlight",val:this.id(o),choice:o}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else i.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,o=this,r=this.search.val(),s=this.context;i.length!==0&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:n,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:r,page:n,context:s}),o.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).text(o.opts.formatLoadMore(n+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):i.remove(),o.positionDropdown(),o.resultsPage=n,o.context=e.context)})})))},tokenize:function(){},updateResults:function(i){function o(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function r(e){c.html(e),o()}var s,a,l=this.search,c=this.results,u=this.opts,h=this,d=l.val(),p=e.data(this.container,"select2-last-term");if((i===!0||!p||!n(d,p))&&(e.data(this.container,"select2-last-term",d),i===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(s=this.data(),e.isArray(s)&&s.length>=f&&x(u.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>"),void 0;if(l.val().length<u.minimumInputLength)return x(u.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):r(""),void 0;if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return x(u.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):r(""),void 0;u.formatSearching&&this.findHighlightableChoices().length===0&&r("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=t&&null!=a&&l.val(a),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(s){var a;return this.opened()?(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&l.val()!==""&&(a=this.opts.createSearchChoice.call(null,l.val(),s.results),a!==t&&null!==a&&h.id(a)!==t&&h.id(a)!==null&&e(s.results).filter(function(){return n(h.id(this),h.id(a))}).length===0&&s.results.unshift(a)),s.results.length===0&&x(u.formatNoMatches,"formatNoMatches")?(r("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),void 0):(c.empty(),h.opts.populateResults.call(this,c,s.results,{term:l.val(),page:this.resultsPage,context:null}),s.more===!0&&x(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(s,i),o(),this.opts.element.trigger({type:"loaded",data:s}),void 0)):(this.search.removeClass("select2-active"),void 0)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n&&(this.highlight(t),this.onSelect(n,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function i(){var i,n,o,r,s;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==t)for(n=i.split(";"),r=0,s=n.length;s>r;r+=1)if(o=n[r].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==o&&o.length>=1)return o[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),$=C(S,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),h(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var t,i=this.container,n=this.dropdown,o=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+E()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)return d(e),void 0;switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),d(e),void 0;case T.TAB:case T.ENTER:return this.selectHighlighted(),d(e),void 0;case T.ESC:return this.cancel(e),d(e),void 0}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(e){return!this.enabled||e.which===T.TAB||T.isControl(e)||T.isFunctionKey(e)||e.which===T.ESC?void 0:this.opts.openOnEnter===!1&&e.which===T.ENTER?(d(e),void 0):e.which==T.DOWN||e.which==T.UP||e.which==T.ENTER&&this.opts.openOnEnter?(this.open(),d(e),void 0):e.which==T.DELETE||e.which==T.BACKSPACE?(this.opts.allowClear&&this.clear(),d(e),void 0):void 0})),s(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(e){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),d(e))})),t.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),p(e),this.close(),this.selection.focus())})),t.bind("mousedown",this.bind(function(e){o=!0,this.opened()?this.close():this.enabled&&this.open(),d(e),o=!1})),n.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(e){d(e)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(t,i){var n=t.find(":selected");e.isFunction(i)&&i({id:n.attr("value"),text:n.text(),element:n})}:"data"in t&&(t.initSelection=t.initSelection||function(i,o){var r=i.val(),s=null;t.query({matcher:function(e,i,o){var a=n(r,t.id(o));return a&&(s=o),a},callback:e.isFunction(o)?function(){o(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,t,i){var o=0,r=this,s=!0;if(this.findHighlightableChoices().each2(function(e,t){return n(r.id(t.data("select2-data")),r.opts.element.val())?(o=e,!1):void 0}),i!==!1&&this.highlight(o),t===!0){var a=this.opts.minimumResultsForSearch;s=0>a?!1:w(e.results)>=a,this.showSearch(s)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search")[t?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[t?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(e,t){var i=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),n(i,this.id(e))||this.triggerChange()},updateSelection:function(e){var i,n=this.selection.find("span");this.selection.data("select2-data",e),n.empty(),i=this.opts.formatSelection(e,n),i!==t&&n.append(this.opts.escapeMarkup(i)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,i=!1,n=null,o=this;if(arguments.length===0)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return n={id:t.attr("value"),text:t.text(),element:t.get(0)},!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(i),i&&this.triggerChange(),void 0;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),i&&o.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i;return arguments.length===0?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),void 0)}}),D=C(S,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push({id:t.attr("value"),text:t.text(),element:t[0]})}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var s=o(i.val(),t.separator),a=[];t.query({matcher:function(i,o,r){var l=e.grep(s,function(e){return n(e,t.id(r))}).length;return l&&a.push(r),l},callback:e.isFunction(r)?function(){r(a)}:e.noop})}),t},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i),this.search.attr("id","s2id_autogen"+E()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===T.BACKSPACE&&this.search.val()===""){this.close();var i,n=t.find(".select2-search-choice-focus");if(n.length>0)return this.unselect(n.first()),this.search.width(10),d(e),void 0;i=t.find(".select2-search-choice:not(.select2-locked)"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),d(e),void 0;case T.ENTER:case T.TAB:return this.selectHighlighted(),d(e),void 0;case T.ESC:return this.cancel(e),d(e),void 0}if(e.which!==T.TAB&&!T.isControl(e)&&!T.isFunctionKey(e)&&e.which!==T.BACKSPACE&&e.which!==T.ESC){if(e.which===T.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)&&d(e),e.which===T.ENTER&&d(e)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var e=this;
this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],o=[],r=this;e(t).each(function(){i(r.id(this),n)<0&&(n.push(r.id(this)),o.push(this))}),t=o,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,o=!i.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),a=o?r:s,l=this.id(i),c=this.getVal();n=this.opts.formatSelection(i,a.find("div")),n!=t&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(n)+"</div>"),o&&a.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",i),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,n,o=this.getVal();if(e=e.closest(".select2-search-choice"),e.length===0)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(n=i(this.id(t),o),n>=0&&(o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result"),n=this.results.find(".select2-result-with-children"),o=this;t.each2(function(t,n){var r=o.id(n.data("select2-data"));i(r,e)>=0&&(n.addClass("select2-selected"),n.find(".select2-result-selectable").addClass("select2-selected"))}),n.each2(function(e,t){t.is(".select2-result-selectable")||t.find(".select2-result-selectable:not(.select2-selected)").length!==0||t.addClass("select2-selected")}),this.highlight()==-1&&o.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,t,i,n,o,s=r(this.search);e=f(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,o=i-(t-n)-s,e>o&&(o=i-s),40>o&&(o=i-s),0>=o&&(o=e),this.search.width(o)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},val:function(){var i,n=!1,o=this;if(arguments.length===0)return this.getVal();if(i=arguments[0],arguments.length>1&&(n=arguments[1]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),n&&this.triggerChange(),void 0;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e(t).map(o.id);o.setVal(i),o.updateSelection(t),o.clearSearch(),n&&o.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var i,n=this;return arguments.length===0?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(t||(t=[]),i=e.map(t,function(e){return n.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),void 0)}}),e.fn.select2=function(){var n,o,r,s,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(a.length===0||typeof a[0]=="object")n=a.length===0?{}:e.extend({},a[0]),n.element=e(this),n.element.get(0).tagName.toLowerCase()==="select"?s=n.element.attr("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),o=s?new D:new $,o.init(n);else{if(typeof a[0]!="string")throw"Invalid arguments to select2 plugin: "+a;if(i(a[0],l)<0)throw"Unknown method: "+a[0];if(r=t,o=e(this).data("select2"),o===t)return;if(r=a[0]==="container"?o.container:o[a[0]].apply(o,a.slice(1)),r!==t)return!1}}),r===t?this:r},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var o=[];return g(e.text,i.term,o,n),o.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:l,markMatch:g},"class":{"abstract":S,single:$,multi:D}}}}(jQuery),function(){this.Api={users_path:"/users/search?q=:query",user_path:"/users/search?id=:user_id",projects_path:"/projects/search?q=:query",project_path:"/projects/search?id=:project_id",user:function(e,t){var i;return i=Api.user_path.replace(":user_id",e),$.ajax({url:i,dataType:"json"}).done(function(e){return t(e)})},users:function(e,t){var i;return i=Api.users_path.replace(":query",e),$.ajax({url:i,data:{page:1,per_page:10},dataType:"json"}).done(function(e){return t(e)})},project:function(e,t){var i;return i=Api.project_path.replace(":project_id",e),$.ajax({url:i,dataType:"json"}).done(function(e){return t(e)})},projects:function(e,t){var i;return i=Api.projects_path.replace(":query",e),$.ajax({url:i,data:{page:1,per_page:10},dataType:"json"}).done(function(e){return t(e)})}}}.call(this),function(){$(function(){return $.extend($.fn.select2.defaults,{formatNoMatches:function(){return"没有找到匹配项"},formatInputTooShort:function(e,t){return"请再输入"+(t-e.length)+"个字符"},formatInputTooLong:function(e,t){return"请删掉"+(e.length-t)+"个字符"},formatSelectionTooBig:function(e){return"你只能选择最多"+e+"项"},formatLoadMore:function(){return"加载结果中..."},formatSearching:function(){return"搜索中..."}}),$(".ajax-users-select").select2({placeholder:"搜索用户",multiple:$(".ajax-users-select").hasClass("multiselect"),minimumInputLength:2,query:function(e){return Api.users(e.term,function(t){var i;return i={results:t},e.callback(i)})},formatResult:function(e){var t,i;return t=e.avatar,i="<div class='user-result'>",i+="<div class='user-image'><img class='ui circular image' style='width: 37px; height: 37px; margin-right: 5px;' src='"+t+"'></div>",i+="<div class='user-name'>"+e.name+"</div>",i+="<div class='user-username'>"+e.username+"</div>",i+="</div>"},formatSelection:function(e){return e.name},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(e){return e}}),$(".ajax-projects-select").select2({placeholder:"搜索项目",multiple:$(".ajax-projects-select").hasClass("multiselect"),minimumInputLength:3,query:function(e){return Api.projects(e.term,function(t){var i;return i={results:t},e.callback(i)})},initSelection:function(e,t){var i;return i=$(e).val(),""!==i?Api.project(i,t):void 0},formatResult:function(e){return e.name},formatSelection:function(e){return e.name},dropdownCssClass:"ajax-projects-dropdown"})})}.call(this),function(e){var t;t=e.fn.chosen,e.fn.extend({chosen:function(i){var n;return n={search_contains:"true"},e.extend(n,i),t.apply(this,[n])},disable:function(){return e(this).attr("disabled","disabled").addClass("disabled")},enable:function(){return e(this).removeAttr("disabled").removeClass("disabled")}})}(jQuery),function(){window.Projects=function(){return $(".new_project, .edit_project").on("ajax:before",function(){var e;if(e=$(this).attr("id")==="transfer_form"){if($.trim($("#transfer_form .select2-choice span").text())==="")return;return $(".transfer-project-loader").show(),$(".transfer-commit,.ajax-users-dropdown .select2-input").attr("disabled","disabled").addClass("disabled")}return $(".project_new_holder, .project_edit_holder").hide(),$(".save-project-loader").show()}),$("form #project_default_branch").chosen(),disableButtonIfEmptyField("#project_name",".project-submit")},$(function(){var e,t,i;return i=$(".project_clone_holder"),t=$(".js-zeroclipboard",i),i.length>0&&(t.popup({content:gon.cp,on:"hover",delay:{show:200,hide:200}}),t.zclip({path:"/ZeroClipboard.swf",copy:function(){return $(".js-zeroclipboard").attr("data-clipboard-text")},clickAfter:!1,afterCopy:function(){t.popup({content:gon.aready_cp}),t.popup("show")},beforeCopy:function(){t.popup("hide")}}),$("a, .button.switch",i).click(function(){return $("a, .button.switch",i).removeClass("active"),$(this).addClass("active"),$("#project_clone",i).val($(this).data("clone")),$(".js-zeroclipboard",i).attr("data-clipboard-text",$(this).data("clone")),$(".clone").text("").append("git remote add origin "+$(this).data("clone"))})),$(".project-refs-select").on("change",function(){return $(this).parents("form").submit()}),$("#project_issues_enabled").change(function(){return $(this).is(":checked")===!0?$("#project_issues_tracker").removeAttr("disabled"):$("#project_issues_tracker").attr("disabled","disabled"),$("#project_issues_tracker").change()}),$(".star-container").on("ajax:success",function(e,t){return $(".star-container .social-count").html(t.count),$(".star-container").toggleClass("stared")}),$(".watch-container").on("ajax:success",function(e,t){return $(".watch-container .social-count").html(t.count),$(".watch-container").toggleClass("watched")}),$("input[id='private']").click(function(){return $("input[id='private']").attr("checked")==="checked"?$("div .clearfix[id='language']").hide(500):$("div .clearfix[id='language']").show(500)}),$("div .clearfix#select_app").hide(0),$("input[id='paas']").click(function(){return $("input[id='paas']").attr("checked")==="checked"?$("div .clearfix#select_app").show(500):$("div .clearfix#select_app").hide(500)}),$("div .detail_sonar#sonar_detail_form").hide(0),e=$("#sonar_detail_form"),$("a#sonar_detail").click(function(){return $("#sonar_detail_modal").modal("show")}),$("#sonar_cancel").click(function(){return $("#sonar_detail_modal").modal("hide")}),$("#btn_utest_detail").click(function(){return $("#utest_detail_modal").modal("show")}),$("#utest_cancel").click(function(){return $("#utest_detail_modal").modal("hide")})})}.call(this),function(){function e(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e}function t(){var e,t=arguments.length,i={},n=function(e,t){var i,o;"object"!=typeof e&&(e={});for(o in t)t.hasOwnProperty(o)&&(i=t[o],e[o]=i&&"object"==typeof i&&Object.prototype.toString.call(i)!=="[object Array]"&&typeof i.nodeType!="number"?n(e[o]||{},i):t[o]);return e};for(e=0;t>e;e++)i=n(i,arguments[e]);return i}function i(e,t){return parseInt(e,t||10)}function n(e){return"string"==typeof e}function o(e){return"object"==typeof e}function r(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return"number"==typeof e}function a(e){return dt.log(e)/dt.LN10}function l(e){return dt.pow(10,e)}function c(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function u(e){return e!==W&&null!==e}function h(e,t,i){var r,s;if(n(t))u(i)?e.setAttribute(t,i):e&&e.getAttribute&&(s=e.getAttribute(t));else if(u(t)&&o(t))for(r in t)e.setAttribute(r,t[r]);return s}function d(e){return r(e)?e:[e]}function p(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],"undefined"!=typeof t&&null!==t)return t}function f(t,i){Tt&&i&&i.opacity!==W&&(i.filter="alpha(opacity="+i.opacity*100+")"),e(t.style,i)}function m(t,i,n,o,r){return t=ut.createElement(t),i&&e(t,i),r&&f(t,{padding:0,border:zt,margin:0}),n&&f(t,n),o&&o.appendChild(t),t}function g(t,i){var n=function(){};return n.prototype=new t,e(n.prototype,i),n}function v(e,t,n,o){var r=X.lang,e=+e||0,s=-1===t?(e.toString().split(".")[1]||"").length:isNaN(t=bt(t))?2:t,t=void 0===n?r.decimalPoint:n,o=void 0===o?r.thousandsSep:o,r=0>e?"-":"",n=String(i(e=bt(e).toFixed(s))),a=n.length>3?n.length%3:0;return r+(a?n.substr(0,a)+o:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?t+bt(e-n).toFixed(s).slice(2):"")}function b(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function y(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}}function x(e,t){for(var i,n,o,r,s,a="{",l=!1,c=[];(a=e.indexOf(a))!==-1;){if(i=e.slice(0,a),l){for(n=i.split(":"),o=n.shift().split("."),s=o.length,i=t,r=0;s>r;r++)i=i[o[r]];n.length&&(n=n.join(":"),o=/\.([0-9])/,r=X.lang,s=void 0,/f$/.test(n)?(s=(s=n.match(o))?s[1]:-1,i=v(i,s,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:"")):i=V(n,i))}c.push(i),e=e.slice(a+1),a=(l=!l)?"}":"{"}return c.push(e),c.join("")}function _(e){return dt.pow(10,ft(dt.log(e)/dt.LN10))}function w(e,t,i,n){var o,i=p(i,1);for(o=e/i,t||(t=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?t=[1,2,5,10]:.1>=i&&(t=[1/i]))),n=0;n<t.length&&(e=t[n],!(o<=(t[n]+(t[n+1]||t[n]))/2));n++);return e*=i}function k(e,t){var i,n=t||[[Bt,[1,2,5,10,20,25,50,100,200,500]],[qt,[1,2,5,10,15,30]],[Wt,[1,2,5,10,15,30]],[Gt,[1,2,3,4,6,8,12]],[Ut,[1,2]],[Xt,[1,2]],[Vt,[1,2,3,4,6]],[Yt,null]],o=n[n.length-1],r=Q[o[0]],s=o[1];for(i=0;i<n.length&&(o=n[i],r=Q[o[0]],s=o[1],!(n[i+1]&&e<=(r*s[s.length-1]+Q[n[i+1][0]])/2));i++);return r===Q[Yt]&&5*r>e&&(s=[1,2,5]),n=w(e/r,s,o[0]===Yt?gt(_(e/r),1):1),{unitRange:r,count:n,unitName:o[0]}}function C(t,i,n,o){var r,s=[],a={},l=X.global.useUTC,c=new Date(i),h=t.unitRange,d=t.count;if(u(i)){h>=Q[qt]&&(c.setMilliseconds(0),c.setSeconds(h>=Q[Wt]?0:d*ft(c.getSeconds()/d))),h>=Q[Wt]&&c[rt](h>=Q[Gt]?0:d*ft(c[J]()/d)),h>=Q[Gt]&&c[st](h>=Q[Ut]?0:d*ft(c[et]()/d)),h>=Q[Ut]&&c[at](h>=Q[Vt]?1:d*ft(c[it]()/d)),h>=Q[Vt]&&(c[lt](h>=Q[Yt]?0:d*ft(c[nt]()/d)),r=c[ot]()),h>=Q[Yt]&&(r-=r%d,c[ct](r)),h===Q[Xt]&&c[at](c[it]()-c[tt]()+p(o,1)),i=1,r=c[ot]();for(var o=c.getTime(),f=c[nt](),m=c[it](),g=l?0:(864e5+c.getTimezoneOffset()*6e4)%864e5;n>o;)s.push(o),h===Q[Yt]?o=Z(r+i*d,0):h===Q[Vt]?o=Z(r,f+i*d):l||h!==Q[Ut]&&h!==Q[Xt]?o+=h*d:o=Z(r,f,m+i*d*(h===Q[Ut]?1:7)),i++;s.push(o),ni(oi(s,function(e){return h<=Q[Gt]&&e%Q[Ut]===g}),function(e){a[e]=Ut})}return s.info=e(t,{higherRanks:a,totalRange:h*d}),s}function T(){this.symbol=this.color=0}function S(e,t){var i,n,o=e.length;for(n=0;o>n;n++)e[n].ss_i=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.ss_i-n.ss_i:i}),n=0;o>n;n++)delete e[n].ss_i}function $(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function D(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function E(e,t){for(var i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function A(e){U||(U=m(Ot)),e&&U.appendChild(e),U.innerHTML=""}function N(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;ht.console&&console.log(i)}function M(e){return parseFloat(e.toPrecision(14))}function j(e,t){Y=p(e,t.animation)}function I(){var e=X.global.useUTC,t=e?"getUTC":"get",i=e?"setUTC":"set";Z=e?Date.UTC:function(e,t,i,n,o,r){return new Date(e,t,p(i,1),p(n,0),p(o,0),p(r,0)).getTime()},J=t+"Minutes",et=t+"Hours",tt=t+"Day",it=t+"Date",nt=t+"Month",ot=t+"FullYear",rt=i+"Minutes",st=i+"Hours",at=i+"Date",lt=i+"Month",ct=i+"FullYear"}function L(){}function P(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function F(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}function R(e,t,i,n,o,r){var s=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=o,this.percent="percent"===r,this.alignOptions={align:t.align||(s?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":i?"bottom":"top"),y:p(t.y,s?4:i?14:-6),x:p(t.x,s?i?-6:6:0)},this.textAlign=t.textAlign||(s?i?"right":"left":"center")}function O(){this.init.apply(this,arguments)}function z(){this.init.apply(this,arguments)}function H(e,t){this.init(e,t)}function B(e,t){this.init(e,t)}function q(){this.init.apply(this,arguments)}var W,G,U,X,V,Y,K,Q,Z,J,et,tt,it,nt,ot,rt,st,at,lt,ct,ut=document,ht=window,dt=Math,pt=dt.round,ft=dt.floor,mt=dt.ceil,gt=dt.max,vt=dt.min,bt=dt.abs,yt=dt.cos,xt=dt.sin,_t=dt.PI,wt=2*_t/360,kt=navigator.userAgent,Ct=ht.opera,Tt=/msie/i.test(kt)&&!Ct,St=ut.documentMode===8,$t=/AppleWebKit/.test(kt),Dt=/Firefox/.test(kt),Et=/(Mobile|Android|Windows Phone)/.test(kt),At="http://www.w3.org/2000/svg",Nt=!!ut.createElementNS&&!!ut.createElementNS(At,"svg").createSVGRect,Mt=Dt&&parseInt(kt.split("Firefox/")[1],10)<4,jt=!Nt&&!Tt&&!!ut.createElement("canvas").getContext,It=ut.documentElement.ontouchstart!==W,Lt={},Pt=0,Ft=function(){},Rt=[],Ot="div",zt="none",Ht="rgba(192,192,192,"+(Nt?1e-4:.002)+")",Bt="millisecond",qt="second",Wt="minute",Gt="hour",Ut="day",Xt="week",Vt="month",Yt="year",Kt="stroke-width",Qt={};ht.Highcharts=ht.Highcharts?N(16,!0):{},V=function(t,i,n){if(!u(i)||isNaN(i))return"Invalid date";var o,t=p(t,"%Y-%m-%d %H:%M:%S"),r=new Date(i),s=r[et](),a=r[tt](),l=r[it](),c=r[nt](),h=r[ot](),d=X.lang,f=d.weekdays,r=e({a:f[a].substr(0,3),A:f[a],d:b(l),e:l,b:d.shortMonths[c],B:d.months[c],m:b(c+1),y:h.toString().substr(2,2),Y:h,H:b(s),I:b(s%12||12),l:s%12||12,M:b(r[J]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(r.getSeconds()),L:b(pt(i%1e3),3)},Highcharts.dateFormats);for(o in r)for(;t.indexOf("%"+o)!==-1;)t=t.replace("%"+o,typeof r[o]=="function"?r[o](i):r[o]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},T.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},Q=function(){for(var e=0,t=arguments,i=t.length,n={};i>e;e++)n[t[e++]]=t[e];return n}(Bt,1,qt,1e3,Wt,6e4,Gt,36e5,Ut,864e5,Xt,6048e5,Vt,26784e5,Yt,31556952e3),K={init:function(e,t,i){var n,o,r,t=t||"",s=e.shift,a=t.indexOf("C")>-1,l=a?7:3,t=t.split(" "),i=[].concat(i),c=function(e){for(n=e.length;n--;)e[n]==="M"&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(a&&(c(t),c(i)),e.isArea&&(o=t.splice(t.length-6,6),r=i.splice(i.length-6,6)),s<=i.length/l&&t.length===i.length)for(;s--;)i=[].concat(i).splice(0,l).concat(i);if(e.shift=0,t.length)for(e=i.length;t.length<e;)s=[].concat(t).splice(t.length-l,l),a&&(s[l-6]=s[l-2],s[l-5]=s[l-1]),t=t.concat(s);return o&&(t=t.concat(o),i=i.concat(r)),[t,i]},step:function(e,t,i,n){var o=[],r=e.length;if(1===i)o=n;else if(r===t.length&&1>i)for(;r--;)n=parseFloat(e[r]),o[r]=isNaN(n)?e[r]:i*parseFloat(t[r]-n)+n;else o=t;return o}},function(t){ht.HighchartsAdapter=ht.HighchartsAdapter||t&&{init:function(e){var i,o=t.fx,r=o.step,s=t.Tween,a=s&&s.propHooks;i=t.cssHooks.opacity,t.extend(t.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}}),t.each(["cur","_default","width","height","opacity"],function(e,t){var i,n,l=r;"cur"===t?l=o.prototype:"_default"===t&&s&&(l=a[t],t="set"),(i=l[t])&&(l[t]=function(o){return o=e?o:this,o.prop!=="align"?(n=o.elem,n.attr?n.attr(o.prop,"cur"===t?W:o.now):i.apply(this,arguments)):void 0})}),y(i,"get",function(e,t,i){return t.attr?t.opacity||0:e.call(this,t,i)}),i=function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))},s?a.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i},t.fn.highcharts=function(){var e,t,i="Chart",o=arguments;return n(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),e=o[0],e!==W&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new Highcharts[i](e,o[1]),t=this),e===W&&(t=Rt[h(this[0],"data-highcharts-chart")]),t}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(e,t){for(var i=[],n=0,o=e.length;o>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var o=ut.removeEventListener?"removeEventListener":"detachEvent";ut[o]&&e&&!e[o]&&(e[o]=function(){}),t(e).unbind(i,n)},fireEvent:function(i,n,o,r){var s,a=t.Event(n),l="detached"+n;!Tt&&o&&(delete o.layerX,delete o.layerY),e(a,o),i[n]&&(i[l]=i[n],i[n]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var i=a[t];a[t]=function(){try{i.call(a)}catch(e){"preventDefault"===t&&(s=!0)}}}),t(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),r&&!a.isDefaultPrevented()&&!s&&r(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===W&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,i,n){var o=t(e);e.style||(e.style={}),i.d&&(e.toD=i.d,i.d=1),o.stop(),i.opacity!==W&&e.attr&&(i.opacity+="px"),o.animate(i,n)},stop:function(e){t(e).stop()}}}(ht.jQuery);var Zt=ht.HighchartsAdapter,Jt=Zt||{};Zt&&Zt.init.call(Zt,K);var ei=Jt.adapterRun,ti=Jt.getScript,ii=Jt.inArray,ni=Jt.each,oi=Jt.grep,ri=Jt.offset,si=Jt.map,ai=Jt.addEvent,li=Jt.removeEvent,ci=Jt.fireEvent,ui=Jt.washMouseEvent,hi=Jt.animate,di=Jt.stop,Jt={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};X={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Jt,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Nt,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Et?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var pi=X.plotOptions,Zt=pi.line;I();var fi=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,mi=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,gi=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,vi=function(e){var n,o,r=[];return function(e){e&&e.stops?o=si(e.stops,function(e){return vi(e[1])}):(n=fi.exec(e))?r=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=mi.exec(e))?r=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=gi.exec(e))&&(r=[i(n[1]),i(n[2]),i(n[3]),1])}(e),{get:function(i){var n;return o?(n=t(e),n.stops=[].concat(n.stops),ni(o,function(e,t){n.stops[t]=[n.stops[t][0],e.get(i)]})):n=r&&!isNaN(r[0])?"rgb"===i?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===i?r[3]:"rgba("+r.join(",")+")":e,n},brighten:function(e){if(o)ni(o,function(t){t.brighten(e)});else if(s(e)&&0!==e){var t;for(t=0;3>t;t++)r[t]+=i(255*e),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this}}};L.prototype={init:function(e,t){this.element="span"===t?m(t):ut.createElementNS(At,t),this.renderer=e,this.attrSetters={}},opacity:1,animate:function(e,i,n){i=p(i,Y,!0),di(this),i?(i=t(i),n&&(i.complete=n),hi(this,e,i)):(this.attr(e),n&&n())},attr:function(e,t){var o,r,s,a,l,c,d,f=this.element,m=f.nodeName.toLowerCase(),g=this.renderer,v=this.attrSetters,b=this.shadows,y=this;if(n(e)&&u(t)&&(o=e,e={},e[o]=t),n(e))o=e,"circle"===m?o={x:"cx",y:"cy"}[o]||o:"strokeWidth"===o&&(o="stroke-width"),y=h(f,o)||this[o]||0,"d"!==o&&"visibility"!==o&&"fill"!==o&&(y=parseFloat(y));else{for(o in e)if(l=!1,r=e[o],s=v[o]&&v[o].call(this,r,o),s!==!1){if(s!==W&&(r=s),"d"===o)r&&r.join&&(r=r.join(" ")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0");else if("x"===o&&"text"===m)for(s=0;s<f.childNodes.length;s++)a=f.childNodes[s],h(a,"x")===h(f,"x")&&h(a,"x",r);else if(!this.rotation||"x"!==o&&"y"!==o)if("fill"===o)r=g.color(r,f,o);else if("circle"!==m||"x"!==o&&"y"!==o)if("rect"===m&&"r"===o)h(f,{rx:r,ry:r}),l=!0;else if("translateX"===o||"translateY"===o||"rotation"===o||"verticalAlign"===o||"scaleX"===o||"scaleY"===o)l=d=!0;else if("stroke"===o)r=g.color(r,f,o);else if("dashstyle"===o){if(o="stroke-dasharray",r=r&&r.toLowerCase(),"solid"===r)r=zt;else if(r){for(r=r.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),s=r.length;s--;)r[s]=i(r[s])*p(e["stroke-width"],this["stroke-width"]);r=r.join(",")}}else"width"===o?r=i(r):"align"===o?(o="text-anchor",r={left:"start",center:"middle",right:"end"}[r]):"title"===o&&(s=f.getElementsByTagName("title")[0],s||(s=ut.createElementNS(At,"title"),f.appendChild(s)),s.textContent=r);else o={x:"cx",y:"cy"}[o]||o;else d=!0;if("strokeWidth"===o&&(o="stroke-width"),("stroke-width"===o||"stroke"===o)&&(this[o]=r,this.stroke&&this["stroke-width"]?(h(f,"stroke",this.stroke),h(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===o&&0===r&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(o)&&(c||(this.symbolAttr(e),c=!0),l=!0),b&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(o))for(s=b.length;s--;)h(b[s],o,"height"===o?gt(r-(b[s].cutHeight||0),0):r);("width"===o||"height"===o)&&"rect"===m&&0>r&&(r=0),this[o]=r,"text"===o?(r!==this.textStr&&delete this.bBox,this.textStr=r,this.added&&g.buildText(this)):l||h(f,o,r)}d&&this.updateTransform()}return y},addClass:function(e){var t=this.element,i=h(t,"class")||"";return i.indexOf(e)===-1&&h(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;ni("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){t[i]=p(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":zt)},crisp:function(e,t,i,n,o){var r,s,a={},l={},e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;s=pt(e)%2/2,l.x=ft(t||this.x||0)+s,l.y=ft(i||this.y||0)+s,l.width=ft((n||this.width||0)-2*s),l.height=ft((o||this.height||0)-2*s),l.strokeWidth=e;for(r in l)this[r]!==l[r]&&(this[r]=a[r]=l[r]);return a},css:function(t){var n,o=this.element,r=this.textWidth=t&&t.width&&o.nodeName.toLowerCase()==="text"&&i(t.width),s="",a=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),r&&delete t.width,Tt&&!Nt)f(this.element,t);else{for(n in t)s+=n.replace(/([A-Z])/g,a)+":"+t[n]+";";h(o,"style",s)}return r&&this.added&&this.renderer.buildText(this),this},on:function(e,t){var i=this,n=i.element;return It&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=Date.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(kt.indexOf("Android")===-1||Date.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(t){var i=this.element;
return(i=t&&i.tagName==="SPAN"&&t.width)&&(delete t.width,this.textWidth=i,this.updateTransform()),this.styles=e(this.styles,t),f(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||(e.nodeName==="text"&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,o=this.translateY||0,r=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=a&&"left"!==a,h=this.shadows;if(f(t,{marginLeft:n,marginTop:o}),h&&ni(h,function(e){f(e,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&ni(t.childNodes,function(i){e.invertChild(i,t)}),t.tagName==="SPAN"){var d,m,g,h=this.rotation;d=0;var v,b=1,y=0;g=i(this.textWidth);var x=this.xCorr||0,_=this.yCorr||0,w=[h,a,t.innerHTML,this.textWidth].join(",");w!==this.cTT&&(u(h)&&(d=h*wt,b=yt(d),y=xt(d),this.setSpanRotation(h,y,b)),d=p(this.elemWidth,t.offsetWidth),m=p(this.elemHeight,t.offsetHeight),d>g&&/[ \-]/.test(t.textContent||t.innerText)&&(f(t,{width:g+"px",display:"block",whiteSpace:"normal"}),d=g),g=e.fontMetrics(t.style.fontSize).b,x=0>b&&-d,_=0>y&&-m,v=0>b*y,x+=y*g*(v?1-l:l),_-=b*g*(h?v?l:1-l:1),c&&(x-=d*l*(0>b?-1:1),h&&(_-=m*l*(0>y?-1:1)),f(t,{textAlign:a})),this.xCorr=x,this.yCorr=_),f(t,{left:r+x+"px",top:s+_+"px"}),$t&&(m=t.offsetHeight),this.cTT=w}}else this.alignOnAdd=!0},setSpanRotation:function(e){var t={};t[Tt?"-ms-transform":$t?"-webkit-transform":Dt?"MozTransform":Ct?"-o-transform":""]=t.transform="rotate("+e+"deg)",f(this.element,t)},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,n=this.scaleY,o=this.inverted,r=this.rotation;o&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],o?e.push("rotate(90) scale(-1,1)"):r&&e.push("rotate("+r+" "+(this.x||0)+" "+(this.y||0)+")"),(u(i)||u(n))&&e.push("scale("+p(i,1)+" "+p(n,1)+")"),e.length&&h(this.element,"transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var o,r,s,a,l={};return r=this.renderer,s=r.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!i||n(i))&&(this.alignTo=o=i||"renderer",c(s,this),s.push(this),i=null)):(e=this.alignOptions,t=this.alignByTranslate,o=this.alignTo),i=p(i,r[o],r),o=e.align,r=e.verticalAlign,s=(i.x||0)+(e.x||0),a=(i.y||0)+(e.y||0),("right"===o||"center"===o)&&(s+=(i.width-(e.width||0))/{right:1,center:2}[o]),l[t?"translateX":"x"]=pt(s),("bottom"===r||"middle"===r)&&(a+=(i.height-(e.height||0))/({bottom:1,middle:2}[r]||1)),l[t?"translateY":"y"]=pt(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var t,i=this.bBox,n=this.renderer,o=this.rotation;t=this.element;var r=this.styles,s=o*wt;if(!i){if(t.namespaceURI===At||n.forExport){try{i=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(a){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();n.isSVG&&(n=i.width,t=i.height,Tt&&r&&r.fontSize==="11px"&&t.toPrecision(3)==="22.7"&&(i.height=t=14),o&&(i.width=bt(t*xt(s))+bt(n*yt(s)),i.height=bt(t*yt(s))+bt(n*xt(s)))),this.bBox=i}return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t,n=this.renderer,o=e||n,r=o.element||n.box,s=r.childNodes,a=this.element,l=h(a,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&n.buildText(this),l&&(o.handleZ=!0,l=i(l)),o.handleZ)for(o=0;o<s.length;o++)if(e=s[o],n=h(e,"zIndex"),e!==a&&(i(n)>l||!u(l)&&u(n))){r.insertBefore(a,e),t=!0;break}return t||r.appendChild(a),this.added=!0,ci(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},o=i.shadows,r=i.renderer.isSVG&&n.nodeName==="SPAN"&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,di(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}for(i.safeRemoveChild(n),o&&ni(o,function(e){i.safeRemoveChild(e)});r&&r.div.childNodes.length===0;)n=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=n;i.alignTo&&c(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,t,i){var n,o,r,s,a,l,c=[],u=this.element;if(e){for(s=p(e.width,3),a=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")",n=1;s>=n;n++)o=u.cloneNode(0),r=2*s+1-2*n,h(o,{isShadow:"true",stroke:e.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:zt}),i&&(h(o,"height",gt(h(o,"height")-r,0)),o.cutHeight=r),t?t.element.appendChild(o):u.parentNode.insertBefore(o,u),c.push(o);this.shadows=c}return this}};var bi=function(){this.init.apply(this,arguments)};bi.prototype={Element:L,init:function(e,t,i,n){var o,r,s=location;o=this.createElement("svg").attr({version:"1.1"}),r=o.element,e.appendChild(r),e.innerHTML.indexOf("xmlns")===-1&&h(r,"xmlns",At),this.isSVG=!0,this.box=r,this.boxWrapper=o,this.alignedObjects=[],this.url=(Dt||$t)&&ut.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ut.createTextNode("Created with Highcharts 3.0.7")),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients={},this.setSize(t,i,!1);var a;Dt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){f(e,{left:0,top:0}),a=e.getBoundingClientRect(),f(e,{left:mt(a.left)-a.left+"px",top:mt(a.top)-a.top+"px"})},t(),ai(ht,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),E(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&li(ht,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,n=this,o=n.forExport,r=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=t.childNodes,a=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=h(t,"x"),u=e.styles,d=e.textWidth,m=u&&u.lineHeight,g=s.length;g--;)t.removeChild(s[g]);d&&!e.added&&this.box.appendChild(t),r[r.length-1]===""&&r.pop(),ni(r,function(r,s){var p,g=0,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");p=r.split("|||"),ni(p,function(r){if(""!==r||p.length===1){var v,b={},y=ut.createElementNS(At,"tspan");if(a.test(r)&&(v=r.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(y,"style",v)),l.test(r)&&!o&&(h(y,"onclick",'location.href="'+r.match(l)[1]+'"'),f(y,{cursor:"pointer"})),r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==r&&(y.appendChild(ut.createTextNode(r)),g?b.dx=0:b.x=c,h(y,b),!g&&s&&(!Nt&&o&&f(y,{display:"block"}),h(y,"dy",m||n.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:u.fontSize).h,$t&&y.offsetHeight)),t.appendChild(y),g++,d))for(var x,_,r=r.replace(/([^\^])-/g,"$1- ").split(" "),b=e._clipHeight,w=[],k=i(m||16),C=1;r.length||w.length;)delete e.bBox,x=e.getBBox(),_=x.width,!Nt&&n.forExport&&(_=n.measureSpanWidth(y.firstChild.data,e.styles)),x=_>d,x&&r.length!==1?(y.removeChild(y.firstChild),w.unshift(r.pop())):(r=w,w=[],r.length&&(C++,b&&C*k>b?(r=["..."],e.attr("title",e.textStr)):(y=ut.createElementNS(At,"tspan"),h(y,{dy:k,x:c}),v&&h(y,"style",v),t.appendChild(y),_>d&&(d=_)))),r.length&&y.appendChild(ut.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,o,r,s,a,l,c,u){var h,d,p,f,m,g,v=this.label(i,n,o,u,null,null,null,null,"button"),b=0,i={x1:0,y1:0,x2:0,y2:1},s=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return p=s.style,delete s.style,a=t(s,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),f=a.style,delete a.style,l=t(s,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l.style,delete l.style,c=t(s,{style:{color:"#CCC"}},c),g=c.style,delete c.style,ai(v.element,Tt?"mouseover":"mouseenter",function(){3!==b&&v.attr(a).css(f)}),ai(v.element,Tt?"mouseout":"mouseleave",function(){3!==b&&(h=[s,a,l][b],d=[p,f,m][b],v.attr(h).css(d))}),v.setState=function(e){(v.state=b=e)?2===e?v.attr(l).css(m):3===e&&v.attr(c).css(g):v.attr(s).css(p)},v.on("click",function(){3!==b&&r.call(v)}).attr(s).css(e({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=pt(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=pt(e[2])+t%2/2),e},path:function(t){var i={fill:zt};return r(t)?i.d=t:o(t)&&e(i,t),this.createElement("path").attr(i)},circle:function(e,t,i){return e=o(e)?e:{x:e,y:t,r:i},this.createElement("circle").attr(e)},arc:function(e,t,i,n,r,s){return o(e)&&(t=e.y,i=e.r,n=e.innerR,r=e.start,s=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:n||0,start:r||0,end:s||0}),e.r=i,e},rect:function(e,t,i,n,r,s){return r=o(e)?e.r:r,r=this.createElement("rect").attr({rx:r,ry:r,fill:zt}),r.attr(o(e)?e:r.crisp(s,e,t,gt(i,0),gt(n,0)))},setSize:function(e,t,i){var n=this.alignedObjects,o=n.length;for(this.width=e,this.height=t,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:e,height:t});o--;)n[o].align()},g:function(e){var t=this.createElement("g");return u(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,i,n,o,r){var s={preserveAspectRatio:zt};return arguments.length>1&&e(s,{x:i,y:n,width:o,height:r}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):s.element.setAttribute("hc-svg-href",t),s},symbol:function(t,i,n,o,r,s){var a,l,c,u=this.symbols[t],u=u&&u(pt(i),pt(n),o,r,s),h=/^url\((.*?)\)$/;return u?(a=this.path(u),e(a,{symbolName:t,x:i,y:n,width:o,height:r}),s&&e(a,s)):h.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(pt((o-t[0])/2),pt((r-t[1])/2)))},l=t.match(h)[1],t=Lt[l],a=this.image(l).attr({x:i,y:n}),a.isImg=!0,t?c(a,t):(a.attr({width:0,height:0}),m("img",{onload:function(){c(a,Lt[l]=[this.width,this.height])},src:l}))),a},symbols:{circle:function(e,t,i,n){var o=.166*i;return["M",e+i/2,t,"C",e+i+o,t,e+i+o,t+n,e+i/2,t+n,"C",e-o,t+n,e-o,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,o){var r=o.start,i=o.r||i||n,s=o.end-.001,n=o.innerR,a=o.open,l=yt(r),c=xt(r),u=yt(s),s=xt(s),o=o.end-r<_t?0:1;return["M",e+i*l,t+i*c,"A",i,i,0,o,1,e+i*u,t+i*s,a?"M":"L",e+n*u,t+n*s,"A",n,n,0,o,0,e+n*l,t+n*c,a?"":"Z"]}},clipRect:function(e,t,i,n){var o="highcharts-"+Pt++,r=this.createElement("clipPath").attr({id:o}).add(this.defs),e=this.rect(e,t,i,n,0).add(r);return e.id=o,e.clipPath=r,e},color:function(e,i,n){var o,s,a,l,c,d,p,f,m=this,g=/^rgba/,v=[];if(e&&e.linearGradient?s="linearGradient":e&&e.radialGradient&&(s="radialGradient"),s){n=e[s],a=m.gradients,c=e.stops,i=i.radialReference,r(n)&&(e[s]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&i&&!u(n.gradientUnits)&&(n=t(n,{cx:i[0]-i[2]/2+n.cx*i[2],cy:i[1]-i[2]/2+n.cy*i[2],r:n.r*i[2],gradientUnits:"userSpaceOnUse"}));for(f in n)"id"!==f&&v.push(f,n[f]);for(f in c)v.push(c[f]);return v=v.join(","),a[v]?e=a[v].id:(n.id=e="highcharts-"+Pt++,a[v]=l=m.createElement(s).attr(n).add(m.defs),l.stops=[],ni(c,function(e){g.test(e[1])?(o=vi(e[1]),d=o.get("rgb"),p=o.get("a")):(d=e[1],p=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(l),l.stops.push(e)})),"url("+m.url+"#"+e+")"}return g.test(e)?(o=vi(e),h(i,n+"-opacity",o.get("a")),o.get("rgb")):(i.removeAttribute(n+"-opacity"),e)},text:function(e,t,i,n){var o=X.chart.style,r=jt||!Nt&&this.forExport;return n&&!this.forExport?this.html(e,t,i):(t=pt(p(t,0)),i=pt(p(i,0)),e=this.createElement("text").attr({x:t,y:i,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),r&&e.css({position:"absolute"}),e.x=t,e.y=i,e)},html:function(t,i,n){var o=X.chart.style,r=this.createElement("span"),s=r.attrSetters,a=r.element,l=r.renderer;return s.text=function(e){return e!==a.innerHTML&&delete this.bBox,a.innerHTML=e,!1},s.x=s.y=s.align=function(e,t){return"align"===t&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform(),!1},r.attr({text:t,x:pt(i),y:pt(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:o.fontFamily,fontSize:o.fontSize}),r.css=r.htmlCss,l.isSVG&&(r.add=function(t){var i,n=l.box.parentNode,o=[];if(this.parentGroup=t){if(i=t.div,!i){for(;t;)o.push(t),t=t.parentGroup;ni(o.reverse(),function(t){var o;i=t.div=t.div||m(Ot,{className:h(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},i||n),o=i.style,e(t.attrSetters,{translateX:function(e){o.left=e+"px"},translateY:function(e){o.top=e+"px"},visibility:function(e,t){o[t]=e}})})}}else i=n;return i.appendChild(a),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r},fontMetrics:function(e){var e=i(e||11),e=24>e?e+4:pt(1.2*e),t=pt(.8*e);return{h:e,b:t}},label:function(i,n,o,r,s,a,l,c,h){function d(){var e,i;e=S.element.style,v=(void 0===b||void 0===y||T.styles.textAlign)&&S.getBBox(),T.width=(b||v.width||0)+2*D+E,T.height=(y||v.height||0)+2*D,w=D+C.fontMetrics(e&&e.fontSize).b,k&&(g||(e=pt(-$*D),i=c?-w:0,T.box=g=r?C.symbol(r,e,i,T.width,T.height,N):C.rect(e,i,T.width,T.height,0,N[Kt]),g.add(T)),g.isImg||g.attr(t({width:T.width,height:T.height},N)),N=null)}function p(){var e,t=T.styles,t=t&&t.textAlign,i=E+D*(1-$);e=c?0:w,!u(b)||"center"!==t&&"right"!==t||(i+={center:.5,right:1}[t]*(b-v.width)),(i!==S.x||e!==S.y)&&S.attr({x:i,y:e}),S.x=i,S.y=e}function f(e,t){g?g.attr(e,t):N[e]=t}function m(){S.add(T),T.attr({text:i,x:n,y:o}),g&&u(s)&&T.attr({anchorX:s,anchorY:a})}var g,v,b,y,x,_,w,k,C=this,T=C.g(h),S=C.text("",0,0,l).attr({zIndex:1}),$=0,D=3,E=0,A=0,N={},l=T.attrSetters;ai(T,"add",m),l.width=function(e){return b=e,!1},l.height=function(e){return y=e,!1},l.padding=function(e){return u(e)&&e!==D&&(D=e,p()),!1},l.paddingLeft=function(e){return u(e)&&e!==E&&(E=e,p()),!1},l.align=function(e){return $={left:0,center:.5,right:1}[e],!1},l.text=function(e,t){return S.attr(t,e),d(),p(),!1},l[Kt]=function(e,t){return k=!0,A=e%2/2,f(t,e),!1},l.stroke=l.fill=l.r=function(e,t){return"fill"===t&&(k=!0),f(t,e),!1},l.anchorX=function(e,t){return s=e,f(t,e+A-x),!1},l.anchorY=function(e,t){return a=e,f(t,e-_),!1},l.x=function(e){return T.x=e,e-=$*((b||v.width)+D),x=pt(e),T.attr("translateX",x),!1},l.y=function(e){return _=T.y=pt(e),T.attr("translateY",_),!1};var M=T.css;return e(T,{css:function(e){if(e){var i={},e=t(e);ni("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(t){e[t]!==W&&(i[t]=e[t],delete e[t])}),S.css(i)}return M.call(T,e)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(e){return g&&g.shadow(e),T},destroy:function(){li(T,"add",m),li(T.element,"mouseenter"),li(T.element,"mouseleave"),S&&(S=S.destroy()),g&&(g=g.destroy()),L.prototype.destroy.call(T),T=C=d=p=f=m=null}})}},G=bi;var yi;if(!Nt&&!jt){Highcharts.VMLElement=yi={init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o=t===Ot;("shape"===t||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),t&&(i=o||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=m(i)),this.renderer=e,this.attrSetters={}},add:function(e){var t=this.renderer,i=this.element,n=t.box,n=e?e.element||e:n;return e&&e.inverted&&t.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),ci(this,"add"),this},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(e,t,i){f(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-t,", M21=",t,", M22=",i,", sizingMethod='auto expand')"].join(""):zt})},pathToVML:function(e){for(var t,i=e.length,n=[];i--;)s(e[i])?n[i]=pt(e[i]*10)-5:e[i]==="Z"?n[i]="x":(n[i]=e[i],!e.isArc||e[i]!=="wa"&&e[i]!=="at"||(t=e[i]==="wa"?1:-1,n[i+5]===n[i+7]&&(n[i+7]-=t),n[i+6]===n[i+8]&&(n[i+8]-=t)));return n.join(" ")||"x"},attr:function(e,t){var i,o,r,a,l,c=this.element||{},d=c.style,p=c.nodeName,f=this.renderer,g=this.symbolName,v=this.shadows,b=this.attrSetters,y=this;if(n(e)&&u(t)&&(i=e,e={},e[i]=t),n(e))i=e,y="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in e)if(o=e[i],l=!1,r=b[i]&&b[i].call(this,o,i),r!==!1&&null!==o){if(r!==W&&(o=r),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))a||(this.symbolAttr(e),a=!0),l=!0;else if("d"===i){if(o=o||[],this.d=o.join(" "),c.path=o=this.pathToVML(o),v)for(r=v.length;r--;)v[r].path=v[r].cutOff?this.cutOffPath(o,v[r].cutOff):o;l=!0}else if("visibility"===i){if(v)for(r=v.length;r--;)v[r].style[i]=o;"DIV"===p&&(o="hidden"===o?"-999em":0,St||(d[i]=o?"visible":"hidden"),i="top"),d[i]=o,l=!0}else"zIndex"===i?(o&&(d[i]=o),l=!0):ii(i,["x","y","width","height"])!==-1?(this[i]=o,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:o=gt(0,o),this.updateClipping?(this[i]=o,this.updateClipping()):d[i]=o,l=!0):"class"===i&&"DIV"===p?c.className=o:"stroke"===i?(o=f.color(o,c,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(c.stroked=o?!0:!1,i="strokeweight",this[i]=o,s(o)&&(o+="px")):"dashstyle"===i?((c.getElementsByTagName("stroke")[0]||m(f.prepVML(["<stroke/>"]),null,null,c))[i]=o||"solid",this.dashstyle=o,l=!0):"fill"===i?"SPAN"===p?d.color=o:"IMG"!==p&&(c.filled=o!==zt?!0:!1,o=f.color(o,c,i,this),i="fillcolor"):"opacity"===i?l=!0:"shape"===p&&"rotation"===i?(this[i]=c.style[i]=o,c.style.left=-pt(xt(o*wt)+1)+"px",c.style.top=pt(yt(o*wt))+"px"):"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=o,this.updateTransform(),l=!0):"text"===i&&(this.bBox=null,c.innerHTML=o,l=!0);l||(St?c[i]=o:h(c,i,o))}return y},clip:function(e){var t,i=this;return e?(t=e.members,c(t,i),t.push(i),i.destroyClip=function(){c(t,i)},e=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),e={clip:St?"inherit":"rect(auto)"}),i.css(e)},css:L.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&A(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=ht.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);return n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=i(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var o,r,s,a,l,c,u,h=[],d=this.element,f=this.renderer,g=d.style,v=d.path;if(v&&typeof v.value!="string"&&(v="x"),l=v,e){for(c=p(e.width,3),u=(e.opacity||.15)/c,o=1;3>=o;o++)a=2*c+1-2*o,n&&(l=this.cutOffPath(v.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],r=m(f.prepVML(s),null,{left:i(g.left)+p(e.offsetX,1),top:i(g.top)+p(e.offsetY,1)}),n&&(r.cutOff=a+1),s=['<stroke color="',e.color||"black",'" opacity="',u*o,'"/>'],m(f.prepVML(s),null,null,r),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),h.push(r);this.shadows=h}return this}},yi=g(L,yi);var xi={Element:yi,isIE8:kt.indexOf("MSIE 8.0")>-1,init:function(e,t,i){var n,o;if(this.alignedObjects=[],n=this.createElement(Ot),o=n.element,o.style.position="relative",e.appendChild(n.element),this.isVML=!0,this.box=o,this.boxWrapper=n,this.setSize(t,i,!1),!ut.namespaces.hcv){ut.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ut.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(r){ut.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,i,n,r){var s=this.createElement(),a=o(t);return e(s,{members:[],left:(a?t.x:t)+1,top:(a?t.y:i)+1,width:(a?t.width:n)-1,height:(a?t.height:r)-1,getCSS:function(t){var i=t.element,n=i.nodeName,t=t.inverted,o=this.top-("shape"===n?i.offsetTop:0),r=this.left,i=r+this.width,s=o+this.height,o={clip:"rect("+pt(t?r:o)+"px,"+pt(t?s:i)+"px,"+pt(t?i:s)+"px,"+pt(t?o:r)+"px)"};return!t&&St&&"DIV"===n&&e(o,{width:i+"px",height:s+"px"}),o},updateClipping:function(){ni(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,i,n){var o,r,s,a=this,l=/^rgba/,c=zt;if(e&&e.linearGradient?s="gradient":e&&e.radialGradient&&(s="pattern"),s){var u,h,d,p,f,g,v,b,y=e.linearGradient||e.radialGradient,x="",e=e.stops,_=[],w=function(){r=['<fill colors="'+_.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',s,'" ',x,'focus="100%" method="any" />'],m(a.prepVML(r),null,null,t)};if(d=e[0],b=e[e.length-1],d[0]>0&&e.unshift([0,d[1]]),b[0]<1&&e.push([1,b[1]]),ni(e,function(e,t){l.test(e[1])?(o=vi(e[1]),u=o.get("rgb"),h=o.get("a")):(u=e[1],h=1),_.push(e[0]*100+"% "+u),t?(f=h,g=u):(p=h,v=u)}),"fill"===i)if("gradient"===s)i=y.x1||y[0]||0,e=y.y1||y[1]||0,d=y.x2||y[2]||0,y=y.y2||y[3]||0,x='angle="'+(90-dt.atan((y-e)/(d-i))*180/_t)+'"',w();else{var k,c=y.r,C=2*c,T=2*c,S=y.cx,$=y.cy,D=t.radialReference,c=function(){D&&(k=n.getBBox(),S+=(D[0]-k.x)/k.width-.5,$+=(D[1]-k.y)/k.height-.5,C*=D[2]/k.width,T*=D[2]/k.height),x='src="'+X.global.VMLRadialGradientURL+'" size="'+C+","+T+'" origin="0.5,0.5" position="'+S+","+$+'" color2="'+v+'" ',w()};n.added?c():ai(n,"add",c),c=g}else c=u}else l.test(e)&&t.tagName!=="IMG"?(o=vi(e),r=["<",i,' opacity="',o.get("a"),'"/>'],m(this.prepVML(r),null,null,t),c=o.get("rgb")):(c=t.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:bi.prototype.html,path:function(t){var i={coordsize:"10 10"};return r(t)?i.d=t:o(t)&&e(i,t),this.createElement("shape").attr(i)},circle:function(e,t,i){var n=this.symbol("circle");return o(e)&&(i=e.r,t=e.y,e=e.x),n.isCircle=!0,n.r=i,n.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Ot).attr(t)},image:function(e,t,i,n,o){var r=this.createElement("img").attr({src:e});return arguments.length>1&&r.attr({x:t,y:i,width:n,height:o}),r},rect:function(e,t,i,n,r,s){var a=this.symbol("rect");return a.r=o(e)?e.r:r,a.attr(o(e)?e:a.crisp(s,e,t,gt(i,0),gt(n,0)))},invertChild:function(e,t){var n=t.style;f(e,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,i,n,o){var r=o.start,s=o.end,a=o.r||i||n,i=o.innerR,n=yt(r),l=xt(r),c=yt(s),u=xt(s);return 0===s-r?["x"]:(r=["wa",e-a,t-a,e+a,t+a,e+a*n,t+a*l,e+a*c,t+a*u],o.open&&!i&&r.push("e","M",e,t),r.push("at",e-i,t-i,e+i,t+i,e+i*c,t+i*u,e+i*n,t+i*l,"x","e"),r.isArc=!0,r)},circle:function(e,t,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,o){var r,s=e+i,a=t+n;return u(o)&&o.r?(r=vt(o.r,i,n),s=["M",e+r,t,"L",s-r,t,"wa",s-2*r,t,s,t+2*r,s-r,t,s,t+r,"L",s,a-r,"wa",s-2*r,a-2*r,s,a,s,a-r,s-r,a,"L",e+r,a,"wa",e,a-2*r,e+2*r,a,e+r,a,e,a-r,"L",e,t+r,"wa",e,t,e+2*r,t+2*r,e,t+r,e+r,t,"x","e"]):s=bi.prototype.symbols.square.apply(0,arguments),s}}};Highcharts.VMLRenderer=yi=function(){this.init.apply(this,arguments)},yi.prototype=t(bi.prototype,xi),G=yi}bi.prototype.measureSpanWidth=function(e,t){var i=ut.createElement("span"),n=ut.createTextNode(e);return i.appendChild(n),f(i,t),this.box.appendChild(i),i.offsetWidth};var _i;jt&&(Highcharts.CanVGRenderer=yi=function(){At="http://www.w3.org/1999/xhtml"},yi.prototype.symbols={},_i=function(){function e(){var e,i=t.length;for(e=0;i>e;e++)t[e]();t=[]}var t=[];return{push:function(i,n){t.length===0&&ti(n,e),t.push(i)}}}(),G=yi),P.prototype={addLabel:function(){var t,i=this.axis,n=i.options,o=i.chart,r=i.horiz,a=i.categories,c=i.names,h=this.pos,d=n.labels,f=i.tickPositions,r=r&&a&&!d.step&&!d.staggerLines&&!d.rotation&&o.plotWidth/f.length||!r&&(o.margin[3]||o.chartWidth*.33),m=h===f[0],g=h===f[f.length-1],c=a?p(a[h],c[h],h):h,a=this.label,v=f.info;i.isDatetimeAxis&&v&&(t=n.dateTimeLabelFormats[v.higherRanks[h]||v.unitName]),this.isFirst=m,this.isLast=g,n=i.labelFormatter.call({axis:i,chart:o,isFirst:m,isLast:g,dateTimeLabelFormat:t,value:i.isLog?M(l(c)):c}),h=r&&{width:gt(1,pt(r-2*(d.padding||10)))+"px"},h=e(h,d.style),u(a)?a&&a.attr({text:n}).css(h):(t={align:i.labelAlign},s(d.rotation)&&(t.rotation=d.rotation),r&&d.ellipsis&&(t._clipHeight=i.len/f.length),this.label=u(n)&&d.enabled?o.renderer.text(n,0,0,d.useHTML).attr(t).css(h).add(i.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.labelAlign]-e.options.labels.x;return[-e,t-e]},handleOverflow:function(e,t){var i=!0,n=this.axis,o=n.chart,r=this.isFirst,s=this.isLast,a=t.x,l=n.reversed,c=n.tickPositions;if(r||s){var u=this.getLabelSides(),h=u[0],u=u[1],o=o.plotLeft,d=o+n.len,c=(n=n.ticks[c[e+(r?1:-1)]])&&n.label.xy&&n.label.xy.x+n.getLabelSides()[r?0:1];r&&!l||s&&l?o>a+h&&(a=o-h,n&&a+u>c&&(i=!1)):a+u>d&&(a=d-u,n&&c>a+h&&(i=!1)),t.x=a}return i},getPosition:function(e,t,i,n){var o=this.axis,r=o.chart,s=n&&r.oldChartHeight||r.chartHeight;return{x:e?o.translate(t+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:e?s-o.bottom+o.offset-(o.opposite?o.height:0):s-o.translate(t+i,null,null,n)-o.transB}},getLabelPosition:function(e,t,i,n,o,r,s,a){var l=this.axis,c=l.transA,h=l.reversed,d=l.staggerLines,p=l.chart.renderer.fontMetrics(o.style.fontSize).b,f=o.rotation,e=e+o.x-(r&&n?r*c*(h?-1:1):0),t=t+o.y-(r&&!n?r*c*(h?1:-1):0);return f&&l.side===2&&(t-=p-p*yt(f*wt)),!u(o.y)&&!f&&(t+=p-i.getBBox().height/2),d&&(t+=s/(a||1)%d*(l.labelOffset/d)),{x:e,y:t}},getMarkPath:function(e,t,i,n,o,r){return r.crispLine(["M",e,t,"L",e+(o?0:-i),t+(o?i:0)],n)},render:function(e,t,i){var n=this.axis,o=n.options,r=n.chart.renderer,s=n.horiz,a=this.type,l=this.label,c=this.pos,u=o.labels,h=this.gridLine,d=a?a+"Grid":"grid",f=a?a+"Tick":"tick",m=o[d+"LineWidth"],g=o[d+"LineColor"],v=o[d+"LineDashStyle"],b=o[f+"Length"],d=o[f+"Width"]||0,y=o[f+"Color"],x=o[f+"Position"],f=this.mark,_=u.step,w=!0,k=n.tickmarkOffset,C=this.getPosition(s,c,k,t),T=C.x,C=C.y,S=s&&T===n.pos+n.len||!s&&C===n.pos?-1:1,$=n.staggerLines;this.isActive=!0,m&&(c=n.getPlotLinePath(c+k,m*S,t,!0),h===W&&(h={stroke:g,"stroke-width":m},v&&(h.dashstyle=v),a||(h.zIndex=1),t&&(h.opacity=0),this.gridLine=h=m?r.path(c).attr(h).add(n.gridGroup):null),!t&&h&&c&&h[this.isNew?"attr":"animate"]({d:c,opacity:i})),d&&b&&("inside"===x&&(b=-b),n.opposite&&(b=-b),t=this.getMarkPath(T,C,b,d*S,s,r),f?f.animate({d:t,opacity:i}):this.mark=r.path(t).attr({stroke:y,"stroke-width":d,opacity:i}).add(n.axisGroup)),l&&!isNaN(T)&&(l.xy=C=this.getLabelPosition(T,C,l,s,u,k,e,_),this.isFirst&&!this.isLast&&!p(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(o.showLastLabel,1)?w=!1:!$&&s&&u.overflow==="justify"&&!this.handleOverflow(e,C)&&(w=!1),_&&e%_&&(w=!1),w&&!isNaN(C.y)?(C.opacity=i,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){E(this,this.axis)}},F.prototype={render:function(){var e,i=this,n=i.axis,o=n.horiz,r=(n.pointRange||0)/2,s=i.options,l=s.label,c=i.label,h=s.width,d=s.to,f=s.from,m=u(f)&&u(d),g=s.value,v=s.dashStyle,b=i.svgElem,y=[],x=s.color,_=s.zIndex,w=s.events,k=n.chart.renderer;if(n.isLog&&(f=a(f),d=a(d),g=a(g)),h)y=n.getPlotLinePath(g,h),r={stroke:x,"stroke-width":h},v&&(r.dashstyle=v);else{if(!m)return;f=gt(f,n.min-r),d=vt(d,n.max+r),y=n.getPlotBandPath(f,d,s),r={fill:x},s.borderWidth&&(r.stroke=s.borderColor,r["stroke-width"]=s.borderWidth)}if(u(_)&&(r.zIndex=_),b)y?b.animate({d:y},null,b.onGetPath):(b.hide(),b.onGetPath=function(){b.show()},c&&(i.label=c=c.destroy()));else if(y&&y.length&&(i.svgElem=b=k.path(y).attr(r).add(),w))for(e in s=function(e){b.on(e,function(t){w[e].apply(i,[t])})},w)s(e);return l&&u(l.text)&&y&&y.length&&n.width>0&&n.height>0?(l=t({align:o&&m&&"center",x:o?!m&&4:10,verticalAlign:!o&&m&&"middle",y:o?m?16:10:m?6:-4,rotation:o&&!m&&90},l),c||(i.label=c=k.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:_}).css(l.style).add()),n=[y[1],y[4],p(y[6],y[1])],y=[y[2],y[5],p(y[7],y[2])],o=$(n),m=$(y),c.align(l,!1,{x:o,y:m,width:D(n)-o,height:D(y)-m}),c.show()):c&&c.hide(),i},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,E(this)}},R.prototype={destroy:function(){E(this,this.axis)},render:function(e){var t=this.options,i=t.format,i=i?x(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var i=this.axis,n=i.chart,o=n.inverted,r=this.isNegative,s=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=bt(s-i),a=n.xAxis[0].translate(this.x)+e,l=n.plotHeight,r={x:o?r?s:s-i:a,y:o?l-a-t:r?l-s-i:l-s,width:o?i:t,height:o?t:i};(o=this.label)&&(o.align(this.alignOptions,null,r),r=o.alignAttr,o.attr({visibility:this.options.crop===!1||n.isInsidePlot(r.x,r.y)?Nt?"inherit":"visible":"hidden"}))}},O.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Jt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Jt.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(e,t){var i=t.isX;this.horiz=e.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=t.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(t);var n=this.options,o=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===o,this.names=[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=u(n.linkedTo),this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null;var r,n=this.options.events;ii(this,e.axes)===-1&&(e.axes.push(this),e[i?"xAxis":"yAxis"].push(this)),this.series=this.series||[],e.inverted&&i&&this.reversed===W&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)ai(this,r,n[r]);this.isLog&&(this.val2lin=a,this.lin2val=l)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(X[this.isXAxis?"xAxis":"yAxis"],e))
},update:function(i,n){var o=this.chart,i=o.options[this.xOrY+"Axis"][this.options.index]=t(this.userOptions,i);this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(o,e(i,{events:W})),o.isDirtyBox=!0,p(n,!0)&&o.redraw()},remove:function(e){var t=this.chart,i=this.xOrY+"Axis";ni(this.series,function(e){e.remove(!1)}),c(t.axes,this),c(t[i],this),t.options[i].splice(this.options.index,1),ni(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var e,t=this.axis,i=this.value,n=t.categories,o=this.dateTimeLabelFormat,r=X.lang.numericSymbols,s=r&&r.length,a=t.options.labels.format,t=t.isLog?i:t.tickInterval;if(a)e=x(a,this);else if(n)e=i;else if(o)e=V(o,i);else if(s&&t>=1e3)for(;s--&&e===W;)n=Math.pow(1e3,s+1),t>=n&&r[s]!==null&&(e=v(i/n,-1)+r[s]);return e===W&&(e=i>=1e3?v(i,0):v(i,-1)),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.stackExtremes={},e.buildStacks(),ni(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var o;e.hasVisibleSeries=!0,e.isLog&&0>=n&&(n=null),e.isXAxis?(n=i.xData,n.length&&(e.dataMin=vt(p(e.dataMin,n[0]),$(n)),e.dataMax=gt(p(e.dataMax,n[0]),D(n)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,u(i)&&u(o)&&(e.dataMin=vt(p(e.dataMin,i),i),e.dataMax=gt(p(e.dataMax,o),o)),u(n)&&(e.dataMin>=n?(e.dataMin=n,e.ignoreMinPadding=!0):e.dataMax<n&&(e.dataMax=n,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,i,n,o,r){var a=this.len,l=1,c=0,u=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,h=this.minPixelPadding,o=(this.options.ordinal||this.isLog&&o)&&this.lin2val;return u||(u=this.transA),i&&(l*=-1,c=a),this.reversed&&(l*=-1,c-=l*a),t?(e=e*l+c,e-=h,e=e/u+n,o&&(e=this.lin2val(e))):(o&&(e=this.val2lin(e)),"between"===r&&(r=.5),e=l*(e-n)*u+c+l*h+(s(r)?u*r*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n){var o,r,s,a,l=this.chart,c=this.left,u=this.top,e=this.translate(e,null,null,i),h=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;return o=this.transB,i=r=pt(e+o),o=s=pt(h-e-o),isNaN(e)?a=!0:this.horiz?(o=u,s=h-this.bottom,(c>i||i>c+this.width)&&(a=!0)):(i=c,r=d-this.right,(u>o||o>u+this.height)&&(a=!0)),a&&!n?null:l.renderer.crispLine(["M",i,o,"L",r,s],t||0)},getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t),n=this.getPlotLinePath(e);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(e,t,i){for(var n,t=M(ft(t/e)*e),i=M(mt(i/e)*e),o=[];i>=t&&(o.push(t),t=M(t+e),t!==n);)n=t;return o},getLogTickPositions:function(e,t,i,n){var o=this.options,r=this.len,s=[];if(n||(this._minorAutoInterval=null),e>=.5)e=pt(e),s=this.getLinearTickPositions(e,t,i);else if(e>=.08)for(var c,u,h,d,f,r=ft(t),o=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>r&&!f;r++)for(u=o.length,c=0;u>c&&!f;c++)h=a(l(r)*o[c]),h>t&&(!n||i>=d)&&s.push(d),d>i&&(f=!0),d=h;else t=l(t),i=l(i),e=o[n?"minorTickInterval":"tickInterval"],e=p("auto"===e?null:e,this._minorAutoInterval,(i-t)*(o.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),e=w(e,null,_(e)),s=si(this.getLinearTickPositions(e,t,i),a),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),s},getMinorTickPositions:function(){var e,t=this.options,i=this.tickPositions,n=this.minorTickInterval,o=[];if(this.isLog)for(e=i.length,t=1;e>t;t++)o=o.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&t.minorTickInterval==="auto")o=o.concat(C(k(n),this.min,this.max,t.startOfWeek)),o[0]<this.min&&o.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)o.push(i);return o},adjustForMinRange:function(){var e,t,i,n,o,r,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===W&&!this.isLog&&(u(s.min)||u(s.max)?this.minRange=null:(ni(this.series,function(e){for(o=e.xData,i=r=e.xIncrement?1:o.length-1;i>0;i--)n=o[i]-o[i-1],(t===W||t>n)&&(t=n)}),this.minRange=vt(5*t,this.dataMax-this.dataMin))),l-a<this.minRange){var h=this.minRange;e=(h-l+a)/2,e=[a-e,p(s.min,a-e)],c&&(e[2]=this.dataMin),a=D(e),l=[a+h,p(s.max,a+h)],c&&(l[2]=this.dataMax),l=$(l),h>l-a&&(e[0]=l-h,e[1]=p(s.min,l-h),a=D(e))}this.min=a,this.max=l},setAxisTranslation:function(e){var t,i=this.max-this.min,o=0,r=0,s=0,a=this.linkedParent,l=this.transA;this.isXAxis&&(a?(r=a.minPointOffset,s=a.pointRangePadding):ni(this.series,function(e){var a=e.pointRange,l=e.options.pointPlacement,c=e.closestPointRange;a>i&&(a=0),o=gt(o,a),r=gt(r,n(l)?0:a/2),s=gt(s,"on"===l?0:a),!e.noSharedTooltip&&u(c)&&(t=u(t)?vt(t,c):c)}),a=this.ordinalSlope&&t?this.ordinalSlope/t:1,this.minPointOffset=r*=a,this.pointRangePadding=s*=a,this.pointRange=vt(o,i),this.closestPointRange=t),e&&(this.oldTransA=l),this.translationSlope=this.transA=l=this.len/(i+s||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=l*r},setTickPositions:function(e){var t,i=this,n=i.chart,o=i.options,r=i.isLog,s=i.isDatetimeAxis,l=i.isXAxis,c=i.isLinked,h=i.options.tickPositioner,d=o.maxPadding,f=o.minPadding,m=o.tickInterval,g=o.minTickInterval,v=o.tickPixelInterval,b=i.categories;c?(i.linkedParent=n[l?"xAxis":"yAxis"][o.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),o.type!==i.linkedParent.options.type&&N(11,1)):(i.min=p(i.userMin,o.min,i.dataMin),i.max=p(i.userMax,o.max,i.dataMax)),r&&(!e&&vt(i.min,p(i.dataMin,i.min))<=0&&N(10,1),i.min=M(a(i.min)),i.max=M(a(i.max))),i.range&&(i.userMin=i.min=gt(i.min,i.max-i.range),i.userMax=i.max,e)&&(i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!b&&!i.usePercentage&&!c&&u(i.min)&&u(i.max)&&(n=i.max-i.min)&&(u(o.min)||u(i.userMin)||!f||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*f),u(o.max)||u(i.userMax)||!d||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*d)),i.min===i.max||i.min===void 0||i.max===void 0?i.tickInterval=1:c&&!m&&v===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(m,b?1:(i.max-i.min)*v/gt(i.len,v)),!u(m)&&i.len<v&&!this.isRadial&&(t=!0,i.tickInterval/=4)),l&&!e&&ni(i.series,function(e){e.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=gt(i.pointRange,i.tickInterval)),!m&&i.tickInterval<g&&(i.tickInterval=g),s||r||m||(i.tickInterval=w(i.tickInterval,null,_(i.tickInterval),o)),i.minorTickInterval=o.minorTickInterval==="auto"&&i.tickInterval?i.tickInterval/5:o.minorTickInterval,i.tickPositions=e=o.tickPositions?[].concat(o.tickPositions):h&&h.apply(i,[i.min,i.max]),e||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>gt(2*i.len,200)&&N(19,!0),e=s?(i.getNonLinearTimeTicks||C)(k(i.tickInterval,o.units),i.min,i.max,o.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):r?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),t&&e.splice(1,e.length-2),i.tickPositions=e),c||(r=e[0],s=e[e.length-1],c=i.minPointOffset||0,o.startOnTick?i.min=r:i.min-c>r&&e.shift(),o.endOnTick?i.max=s:i.max+c<s&&e.pop(),e.length===1&&(i.min-=.001,i.max+=.001))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(t[n]||0)&&this.options.alignTicks!==!1&&(t[n]=i.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,i=this.chart.maxTicks;if(i&&i[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var n=this.tickAmount,o=t.length;if(this.tickAmount=e=i[e],e>o){for(;t.length<e;)t.push(M(t[t.length-1]+this.tickInterval));this.transA*=(o-1)/(e-1),this.max=t[t.length-1]}u(n)&&e!==n&&(this.isDirty=!0)}},setScale:function(){var e,t,i,n,o=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,ni(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in o)for(t in o[e])o[e][t].total=null,o[e][t].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(o=this.stacks=this.oldStacks);for(e in o)for(t in o[e])o[e][t].cum=o[e][t].total}this.setMaxTicks()},setExtremes:function(t,i,n,o,r){var s=this,a=s.chart,n=p(n,!0),r=e(r,{min:t,max:i});ci(s,"setExtremes",r,function(){s.userMin=t,s.userMax=i,s.eventArgs=r,s.isDirtyExtremes=!0,n&&a.redraw(o)})},zoom:function(e,t){return this.allowZoomOutside||(u(this.dataMin)&&e<=this.dataMin&&(e=W),u(this.dataMax)&&t>=this.dataMax&&(t=W)),this.displayBtn=e!==W||t!==W,this.setExtremes(e,t,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var e,t,i=this.chart,n=this.options,o=n.offsetLeft||0,r=n.offsetRight||0,s=this.horiz;this.left=t=p(n.left,i.plotLeft+o),this.top=e=p(n.top,i.plotTop),this.width=o=p(n.width,i.plotWidth-o+r),this.height=n=p(n.height,i.plotHeight),this.bottom=i.chartHeight-n-e,this.right=i.chartWidth-o-t,this.len=gt(s?o:n,0),this.pos=s?t:e},getExtremes:function(){var e=this.isLog;return{min:e?M(l(this.min)):this.min,max:e?M(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?l(this.min):this.min,t=t?l(this.max):this.max;return i>e||null===e?e=i:e>t&&(e=t),this.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new F(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},autoLabelAlign:function(e){return e=(p(e,0)-this.side*90+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},getOffset:function(){var e,t,i,n,o,r,s,a=this,l=a.chart,c=l.renderer,h=a.options,d=a.tickPositions,f=a.ticks,m=a.horiz,g=a.side,v=l.inverted?[1,0,3,2][g]:g,b=0,y=0,x=h.title,_=h.labels,w=0,k=l.axisOffset,C=l.clipOffset,T=[-1,1,1,-1][g],S=1,$=p(_.maxStaggerLines,5);if(a.hasData=e=a.hasVisibleSeries||u(a.min)&&u(a.max)&&!!d,a.showAxis=l=e||p(h.showEmpty,!0),a.staggerLines=a.horiz&&_.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:h.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:h.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:_.zIndex||7}).add()),e||a.isLinked){if(a.labelAlign=p(_.align||a.autoLabelAlign(_.rotation)),ni(d,function(e){f[e]?f[e].addLabel():f[e]=new P(a,e)}),a.horiz&&!a.staggerLines&&$&&!_.rotation){for(i=a.reversed?[].concat(d).reverse():d;$>S;){for(e=[],n=!1,_=0;_<i.length;_++)o=i[_],r=(r=f[o].label&&f[o].label.getBBox())?r.width:0,s=_%S,r&&(o=a.translate(o),e[s]!==W&&o<e[s]&&(n=!0),e[s]=o+r);if(!n)break;S++}S>1&&(a.staggerLines=S)}ni(d,function(e){(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)&&(w=gt(f[e].getLabelSize(),w))}),a.staggerLines&&(w*=a.staggerLines,a.labelOffset=w)}else for(i in f)f[i].destroy(),delete f[i];x&&x.text&&x.enabled!==!1&&(a.axisTitle||(a.axisTitle=c.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).css(x.style).add(a.axisGroup),a.axisTitle.isNew=!0),l&&(b=a.axisTitle.getBBox()[m?"height":"width"],y=p(x.margin,m?5:10),t=x.offset),a.axisTitle[l?"show":"hide"]()),a.offset=T*p(h.offset,k[g]),a.axisTitleMargin=p(t,w+y+(2!==g&&w&&T*h.labels[m?"y":"x"])),k[g]=gt(k[g],a.axisTitleMargin+b+T*a.offset),C[v]=gt(C[v],ft(h.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,n=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine(["M",o?this.left:r,o?n:this.top,"L",o?t.chartWidth-this.right:r,o?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,o=this.len,r=this.options.title,s=e?t:n,a=this.opposite,l=this.offset,c=i(r.style.fontSize||12),o={low:s+(e?0:o),middle:s+o/2,high:s+(e?o:0)}[r.align],t=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(this.side===2?c:0);return{x:e?o:t+(a?this.width:0)+l+(r.x||0),y:e?t-(a?this.height:0)+l:o+(r.y||0)}},render:function(){var e,t=this,i=t.chart,n=i.renderer,o=t.options,r=t.isLog,s=t.isLinked,a=t.tickPositions,c=t.axisTitle,h=t.stacks,d=t.ticks,p=t.minorTicks,f=t.alternateBands,m=o.stackLabels,g=o.alternateGridColor,v=t.tickmarkOffset,b=o.lineWidth,y=i.hasRendered&&u(t.oldMin)&&!isNaN(t.oldMin);e=t.hasData;var x,_,w=t.showAxis;if(ni([d,p,f],function(e){for(var t in e)e[t].isActive=!1}),(e||s)&&(t.minorTickInterval&&!t.categories&&ni(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new P(t,e,"minor")),y&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),a.length&&(ni(a.slice(1).concat([a[0]]),function(e,i){i=i===a.length-1?0:i+1,(!s||e>=t.min&&e<=t.max)&&(d[e]||(d[e]=new P(t,e)),y&&d[e].isNew&&d[e].render(i,!0),d[e].render(i,!1,1))}),v&&t.min===0&&(d[-1]||(d[-1]=new P(t,-1,null,!0)),d[-1].render(-1))),g&&ni(a,function(e,i){0===i%2&&e<t.max&&(f[e]||(f[e]=new F(t)),x=e+v,_=a[i+1]!==W?a[i+1]+v:t.max,f[e].options={from:r?l(x):x,to:r?l(_):_,color:g},f[e].render(),f[e].isActive=!0)}),t._addedPlotLB||(ni((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)),ni([d,p,f],function(e){var t,n,o=[],r=Y?Y.duration||500:0,s=function(){for(n=o.length;n--;)e[o[n]]&&!e[o[n]].isActive&&(e[o[n]].destroy(),delete e[o[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,o.push(t));e!==f&&i.hasRendered&&r?r&&setTimeout(s,r):s()}),b&&(e=t.getLinePath(b),t.axisLine?t.axisLine.animate({d:e}):t.axisLine=n.path(e).attr({stroke:o.lineColor,"stroke-width":b,zIndex:7}).add(t.axisGroup),t.axisLine[w?"show":"hide"]()),c&&w&&(c[c.isNew?"attr":"animate"](t.getTitlePosition()),c.isNew=!1),m&&m.enabled){var k,C,o=t.stackTotalGroup;o||(t.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop);for(k in h)for(C in n=h[k])n[C].render(o)}t.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=t.length;o--;)t[o].id===e&&t[o].destroy();ni([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(o=t.length;o--;)t[o].id===e&&c(t,t[o])})},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this.chart.pointer;e.reset&&e.reset(!0),this.render(),ni(this.plotLinesAndBands,function(e){e.render()}),ni(this.series,function(e){e.isDirty=!0})},buildStacks:function(){var e=this.series,t=e.length;if(!this.isXAxis){for(;t--;)e[t].setStackedPoints();if(this.usePercentage)for(t=0;t<e.length;t++)e[t].setPercentStacks()}},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(e){var t,i=this,n=i.stacks,o=i.plotLinesAndBands;e||li(i);for(t in n)E(n[t]),n[t]=null;for(ni([i.ticks,i.minorTicks,i.alternateBands],function(e){E(e)}),e=o.length;e--;)o[e].destroy();ni("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(e){i[e]&&(i[e]=i[e].destroy())})}},z.prototype={init:function(e,t){var n=t.borderWidth,o=t.style,r=i(o.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:r,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-999}),jt||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){ni(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,i,n,o){var r=this,s=r.now,a=r.options.animation!==!1&&!r.isHidden;e(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+i)/2:i,anchorX:a?(2*s.anchorX+n)/3:n,anchorY:a?(s.anchorY+o)/2:o}),r.label.attr(s),a&&(bt(t-s.x)>1||bt(i-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,i,n,o)},32))},hide:function(){var e,t=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(this.options.hideDelay,500)),e&&ni(e,function(e){e.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ni(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var i,n,o=this.chart,r=o.inverted,s=o.plotTop,a=0,l=0,e=d(e);return i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===W&&(t=o.pointer.normalize(t)),i=[t.chartX-o.plotLeft,t.chartY-s]),i||(ni(e,function(e){n=e.series.yAxis,a+=e.plotX,l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!r&&n?n.top-s:0)}),a/=e.length,l/=e.length,i=[r?o.plotWidth-l:a,this.shared&&!r&&e.length>1&&t?t.chartY-s:r?o.plotHeight-a:l]),si(i,pt)},getPosition:function(e,t,i){var n,o=this.chart,r=o.plotLeft,s=o.plotTop,a=o.plotWidth,l=o.plotHeight,c=p(this.options.distance,12),u=i.plotX,i=i.plotY,o=u+r+(o.inverted?c:-e-c),h=i-t+s+15;return 7>o&&(o=r+gt(u,0)+c),o+e>r+a&&(o-=o+e-(r+a),h=i-t+s-c,n=!0),s+5>h&&(h=s+5,n&&i>=h&&h+t>=i&&(h=i+s+c)),h+t>s+l&&(h=gt(s,s+l-t-c)),{x:o,y:h}},defaultFormatter:function(e){var t,i=this.points||d(this),n=i[0].series;return t=[n.tooltipHeaderFormatter(i[0])],ni(i,function(e){n=e.series,t.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),t.push(e.options.footerFormat||""),t.join("")},refresh:function(e,t){var i,n,o,r=this.chart,s=this.label,l=this.options,c={},u=[];o=l.formatter||this.defaultFormatter;var h,c=r.hoverPoints,f=l.crosshairs,m=this.shared;if(clearTimeout(this.hideTimer),this.followPointer=d(e)[0].series.tooltipOptions.followPointer,n=this.getAnchor(e,t),i=n[0],n=n[1],!m||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(r.hoverPoints=e,c&&ni(c,function(e){e.setState()}),ni(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=u,e=e[0]),o=o.call(c,this),c=e.series,o===!1?this.hide():(this.isHidden&&(di(s),s.attr("opacity",1).show()),s.attr({text:o}),h=l.borderColor||e.color||c.color||"#606060",s.attr({stroke:h}),this.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),f)for(f=d(f),s=f.length;s--;)m=e.series,l=m[s?"yAxis":"xAxis"],f[s]&&l&&(c=s?p(e.stackY,e.y):e.x,l.isLog&&(c=a(c)),1===s&&m.modifyValue&&(c=m.modifyValue(c)),l=l.getPlotLinePath(c,1),this.crosshairs[s]?this.crosshairs[s].attr({d:l,visibility:"visible"}):(c={"stroke-width":f[s].width||1,stroke:f[s].color||"#C0C0C0",zIndex:f[s].zIndex||2},f[s].dashStyle&&(c.dashstyle=f[s].dashStyle),this.crosshairs[s]=r.renderer.path(l).attr(c).add()));ci(r,"tooltipRefresh",{text:o,x:i+r.plotLeft,y:n+r.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(pt(i.x),pt(i.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}},H.prototype={init:function(e,t){var i,n=t.chart,o=n.events,r=jt?"":n.zoomType,n=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!n||r&&n,this.zoomVert=r&&!n||i&&n,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},t.tooltip.enabled&&(e.tooltip=new z(e,t.tooltip)),this.setDOMEvents()},normalize:function(t,i){var n,o,t=t||ht.event;return t.target||(t.target=t.srcElement),t=ui(t),o=t.touches?t.touches.item(0):t,i||(this.chartPosition=i=ri(this.chart.container)),o.pageX===W?(n=gt(t.x,t.clientX-i.left),o=t.y):(n=o.pageX-i.left,o=o.pageY-i.top),e(t,{chartX:pt(n),chartY:pt(o)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return ni(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,i,n,o=this.chart,r=o.series,s=o.tooltip,a=o.hoverPoint,l=o.hoverSeries,c=o.chartWidth,u=this.getIndex(e);if(s&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(t=[],i=r.length,n=0;i>n;n++)r[n].visible&&r[n].options.enableMouseTracking!==!1&&!r[n].noSharedTooltip&&r[n].tooltipPoints.length&&(o=r[n].tooltipPoints[u])&&o.series&&(o._dist=bt(u-o.clientX),c=vt(c,o._dist),t.push(o));for(i=t.length;i--;)t[i]._dist>c&&t.splice(i,1);t.length&&t[0].clientX!==this.hoverX&&(s.refresh(t,e),this.hoverX=t[0].clientX)}l&&l.tracker?(o=l.tooltipPoints[u])&&o!==a&&o.onMouseOver(e):s&&s.followPointer&&!s.isHidden&&(e=s.getAnchor([{}],e),s.updatePosition({plotX:e[0],plotY:e[1]}))},reset:function(e){var t=this.chart,i=t.hoverSeries,n=t.hoverPoint,o=t.tooltip,t=o&&o.shared?t.hoverPoints:n;(e=e&&o&&t)&&d(t)[0].plotX===W&&(e=!1),e?o.refresh(t):(n&&n.onMouseOut(),i&&i.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(e,t){var i,n=this.chart;ni(n.series,function(o){i=e||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(t?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},pinchTranslate:function(e,t,i,n,o,r,s,a){e&&this.pinchTranslateDirection(!0,i,n,o,r,s,a),t&&this.pinchTranslateDirection(!1,i,n,o,r,s,a)},pinchTranslateDirection:function(e,t,i,n,o,r,s,a){var l,c,u,h=this.chart,d=e?"x":"y",p=e?"X":"Y",f="chart"+p,m=e?"width":"height",g=h["plot"+(e?"Left":"Top")],v=a||1,b=h.inverted,y=h.bounds[e?"h":"v"],x=t.length===1,_=t[0][f],w=i[0][f],k=!x&&t[1][f],C=!x&&i[1][f],i=function(){!x&&bt(_-k)>20&&(v=a||bt(w-C)/bt(_-k)),c=(g-w)/v+_,l=h["plot"+(e?"Width":"Height")]/v};i(),t=c,t<y.min?(t=y.min,u=!0):t+l>y.max&&(t=y.max-l,u=!0),u?(w-=.8*(w-s[d][0]),x||(C-=.8*(C-s[d][1])),i()):s[d]=[w,C],b||(r[d]=c-g,r[m]=l),r=b?1/v:v,o[m]=l,o[d]=t,n[b?e?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*g+(w-r*_)},pinch:function(t){var i=this,n=i.chart,o=i.pinchDown,r=n.tooltip&&n.tooltip.options.followTouchMove,s=t.touches,a=s.length,l=i.lastValidTouch,c=i.zoomHor||i.pinchHor,u=i.zoomVert||i.pinchVert,h=c||u,d=i.selectionMarker,p={},f=1===a&&(i.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),m={};(h||r)&&!f&&t.preventDefault(),si(s,function(e){return i.normalize(e)}),t.type==="touchstart"?(ni(s,function(e,t){o[t]={chartX:e.chartX,chartY:e.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],ni(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,o=e.toPixels(e.dataMin),r=e.toPixels(e.dataMax),s=vt(o,r),o=gt(o,r);t.min=vt(e.pos,s-i),t.max=gt(e.pos+e.len,o+i)}})):o.length&&(d||(i.selectionMarker=d=e({destroy:Ft},n.plotBox)),i.pinchTranslate(c,u,o,s,p,d,m,l),i.hasPinched=h,i.scaleGroups(p,m),!h&&r&&1===a&&this.runPointActions(i.normalize(t)))},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i=this.chart,n=i.options.chart,o=e.chartX,r=e.chartY,s=this.zoomHor,a=this.zoomVert,l=i.plotLeft,c=i.plotTop,u=i.plotWidth,h=i.plotHeight,d=this.mouseDownX,p=this.mouseDownY;l>o?o=l:o>l+u&&(o=l+u),c>r?r=c:r>c+h&&(r=c+h),this.hasDragged=Math.sqrt(Math.pow(d-o,2)+Math.pow(p-r,2)),this.hasDragged>10&&(t=i.isInsidePlot(d-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,s?1:u,a?1:h,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(o-=d,this.selectionMarker.attr({width:bt(o),x:(o>0?0:o)+d})),this.selectionMarker&&a&&(o=r-p,this.selectionMarker.attr({height:bt(o),y:(o>0?0:o)+p})),t&&!this.selectionMarker&&n.panning&&i.pan(e,n.panning))},drop:function(t){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.x,l=s.y;(this.hasDragged||n)&&(ni(i.axes,function(e){if(e.zoomEnabled){var t=e.horiz,i=e.toValue(t?a:l),t=e.toValue(t?a+s.width:l+s.height);!isNaN(i)&&!isNaN(t)&&(r[e.xOrY+"Axis"].push({axis:e,min:vt(i,t),max:gt(i,t)}),o=!0)}}),o&&ci(i,"selection",r,function(t){i.zoom(e(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition,n=t.hoverSeries,e=this.normalize(e,i);i&&n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart,e=this.normalize(e);e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=h(e,"class")){if(i.indexOf(t)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;!t||t.options.stickyTracking||this.inClass(e.toElement||e.relatedTarget,"highcharts-tooltip")||t.onMouseOut()},onContainerClick:function(t){var i,n,o,r=this.chart,s=r.hoverPoint,a=r.plotLeft,l=r.plotTop,c=r.inverted,t=this.normalize(t);t.cancelBubble=!0,r.cancelClick||(s&&this.inClass(t.target,"highcharts-tracker")?(i=this.chartPosition,n=s.plotX,o=s.plotY,e(s,{pageX:i.left+a+(c?r.plotWidth-o:n),pageY:i.top+l+(c?r.plotHeight-n:o)}),ci(s.series,"click",e(t,{point:s})),r.hoverPoint&&s.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),r.isInsidePlot(t.chartX-a,t.chartY-l)&&ci(r,"click",t)))},onContainerTouchStart:function(e){var t=this.chart;e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e,t=this,i=t.chart.container;this._events=e=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[ut,"mousemove","onDocumentMouseMove"],[ut,"mouseup","onDocumentMouseUp"]],It&&e.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[ut,"touchend","onDocumentTouchEnd"]),ni(e,function(e){t["_"+e[2]]=function(i){t[e[2]](i)},e[1].indexOf("on")===0?e[0][e[1]]=t["_"+e[2]]:ai(e[0],e[1],t["_"+e[2]])})},destroy:function(){var e=this;ni(e._events,function(t){t[1].indexOf("on")===0?t[0][t[1]]=null:li(t[0],t[1],e["_"+t[2]])}),delete e._events,clearInterval(e.tooltipTimeout)}},B.prototype={init:function(e,n){var o=this,r=n.itemStyle,s=p(n.padding,8),a=n.itemMarginTop||0;this.options=n,n.enabled&&(o.baseline=i(r.fontSize)+3+a,o.itemStyle=r,o.itemHiddenStyle=t(r,n.itemHiddenStyle),o.itemMarginTop=a,o.padding=s,o.initialItemX=s,o.initialItemY=s-5,o.maxItemWidth=0,o.chart=e,o.itemHeight=0,o.lastLineHeight=0,o.render(),ai(o.chart,"endResize",function(){o.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n=this.options,o=e.legendItem,r=e.legendLine,s=e.legendSymbol,a=this.itemHiddenStyle.color,n=t?n.itemStyle.color:a,l=t?e.color:a,a=e.options&&e.options.marker,c={stroke:l,fill:l};if(o&&o.css({fill:n,color:n}),r&&r.attr({stroke:l}),s){if(a&&s.isMarker)for(i in a=e.convertAttribs(a))o=a[i],o!==W&&(c[i]=o);s.attr(c)}},positionItem:function(e){var t=this.options,i=t.symbolPadding,t=!t.rtl,n=e._legendItemPos,o=n[0],n=n[1],r=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?o:this.legendWidth-o-2*i-4,n),r&&(r.x=o,r.y=n)},destroyItem:function(e){var t=e.checkbox;ni(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&A(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,ni(this.allItems,function(o){var r,s=o.checkbox;s&&(r=t+s.y+(e||0)+3,f(s,{left:i.translateX+o.legendItemWidth+s.x-20+"px",top:r+"px",display:r>t-6&&t+n-6>r?"":zt}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(e){var i,n=this,o=n.chart,r=o.renderer,s=n.options,a=s.layout==="horizontal",l=s.symbolWidth,c=s.symbolPadding,u=n.itemStyle,h=n.itemHiddenStyle,d=n.padding,f=a?p(s.itemDistance,8):0,g=!s.rtl,v=s.width,b=s.itemMarginBottom||0,y=n.itemMarginTop,_=n.initialItemX,w=e.legendItem,k=e.series||e,C=k.options,T=C.showCheckbox,S=s.useHTML;!w&&(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),k.drawLegendSymbol(n,e),e.legendItem=w=r.text(s.labelFormat?x(s.labelFormat,e):s.labelFormatter.call(e),g?l+c:-c,n.baseline,S).css(t(e.visible?u:h)).attr({align:g?"left":"right",zIndex:2}).add(e.legendGroup),(S?w:e.legendGroup).on("mouseover",function(){e.setState("hover"),w.css(n.options.itemHoverStyle)}).on("mouseout",function(){w.css(e.visible?u:h),e.setState()}).on("click",function(t){var i=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,i):ci(e,"legendItemClick",t,i)}),n.colorizeItem(e,e.visible),C&&T)&&(e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,o.container),ai(e.checkbox,"click",function(t){ci(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})),r=w.getBBox(),i=e.legendItemWidth=s.itemWidth||l+c+r.width+f+(T?20:0),s=i,n.itemHeight=l=r.height,a&&n.itemX-_+s>(v||o.chartWidth-2*d-_)&&(n.itemX=_,n.itemY+=y+n.lastLineHeight+b,n.lastLineHeight=0),n.maxItemWidth=gt(n.maxItemWidth,s),n.lastItemY=y+n.itemY+b,n.lastLineHeight=gt(l,n.lastLineHeight),e._legendItemPos=[n.itemX,n.itemY],a?n.itemX+=s:(n.itemY+=y+l+b,n.lastLineHeight=l),n.offsetWidth=v||gt((a?n.itemX-_-f:s)+d,n.offsetWidth)},render:function(){var t,i,n,o,r=this,s=r.chart,a=s.renderer,l=r.group,c=r.box,u=r.options,h=r.padding,d=u.borderWidth,f=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(l),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),t=[],ni(s.series,function(e){var i=e.options;p(i.showInLegend,i.linkedTo===W?W:!1,!0)&&(t=t.concat(e.legendItems||(i.legendType==="point"?e.data:e)))}),S(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),u.reversed&&t.reverse(),r.allItems=t,r.display=i=!!t.length,ni(t,function(e){r.renderItem(e)}),n=u.width||r.offsetWidth,o=r.lastItemY+r.lastLineHeight+r.titleHeight,o=r.handleOverflow(o),(d||f)&&(n+=h,o+=h,c?n>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,n,o)),c.isNew=!1):(r.box=c=a.rect(0,0,n,o,u.borderRadius,d||0).attr({stroke:u.borderColor,"stroke-width":d||0,fill:f||zt}).add(l).shadow(u.shadow),c.isNew=!0),c[i?"show":"hide"]()),r.legendWidth=n,r.legendHeight=o,ni(t,function(e){r.positionItem(e)}),i&&l.align(e({width:n,height:o},u),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,i=this.chart,n=i.renderer,o=this.options,r=o.y,r=i.spacingBox.height+(o.verticalAlign==="top"?-r:r)-this.padding,s=o.maxHeight,a=this.clipRect,l=o.navigation,c=p(l.animation,!0),u=l.arrowSize||12,h=this.nav;return o.layout==="horizontal"&&(r/=2),s&&(r=vt(r,s)),e>r&&!o.useHTML?(this.clipHeight=i=r-20-this.titleHeight,this.pageCount=mt(e/i),this.currentPage=p(this.currentPage,1),this.fullHeight=e,a||(a=t.clipRect=n.clipRect(0,0,9999,0),t.contentGroup.clip(a)),a.attr({height:i}),h||(this.nav=h=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,u,u).on("click",function(){t.scroll(-1,c)
}).add(h),this.pager=n.text("",15,10).css(l.style).add(h),this.down=n.symbol("triangle-down",0,0,u,u).on("click",function(){t.scroll(1,c)}).add(h)),t.scroll(0),e=r):h&&(a.attr({height:i.chartHeight}),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i=this.pageCount,n=this.currentPage+e,o=this.clipHeight,r=this.options.navigation,s=r.activeColor,a=r.inactiveColor,r=this.pager,l=this.padding;n>i&&(n=i),n>0&&(t!==W&&j(t,this.chart),this.nav.attr({translateX:l,translateY:o+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===n?a:s}).css({cursor:1===n?"default":"pointer"}),r.attr({text:n+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:s}).css({cursor:n===i?"default":"pointer"}),o=-vt(o*(n-1),this.fullHeight-o+l)+1,this.scrollGroup.animate({translateY:o}),r.attr({text:n+"/"+i}),this.currentPage=n,this.positionCheckboxes(o))}},/Trident\/7\.0/.test(kt)&&y(B.prototype,"positionItem",function(e,t){var i=this,n=function(){e.call(i,t)};i.chart.renderer.forExport?n():setTimeout(n)}),q.prototype={init:function(e,i){var n,o=e.series;e.series=null,n=t(X,e),n.series=e.series=o,o=n.chart,this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var r=o.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var s,a=this;if(a.index=Rt.length,Rt.push(a),o.reflow!==!1&&ai(a,"load",function(){a.initReflow()}),r)for(s in r)ai(a,s,r[s]);a.xAxis=[],a.yAxis=[],a.animation=jt?!1:p(o.animation,!0),a.pointCount=0,a.counters=new T,a.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Qt[e.type||t.type||t.defaultSeriesType])||N(17,!0),t=new t,t.init(this,e),t},addSeries:function(e,t,i){var n,o=this;return e&&(t=p(t,!0),ci(o,"addSeries",{options:e},function(){n=o.initSeries(e),o.isDirtyLegend=!0,o.linkSeries(),t&&o.redraw(i)})),n},addAxis:function(e,i,n,o){var r=i?"xAxis":"yAxis",s=this.options;new O(this,t(e,{index:this[r].length,isX:i})),s[r]=d(s[r]||{}),s[r].push(e),p(n,!0)&&this.redraw(o)},isInsidePlot:function(e,t,i){var n=i?t:e,e=i?e:t;return n>=0&&n<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ni(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var i,n,o=this.axes,r=this.series,s=this.pointer,a=this.legend,l=this.isDirtyLegend,c=this.isDirtyBox,u=r.length,h=u,d=this.renderer,p=d.isHidden(),f=[];for(j(t,this),p&&this.cloneRenderTo(),this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(i=!0,t.isDirty)){n=!0;break}if(n)for(h=u;h--;)t=r[h],t.options.stacking&&(t.isDirty=!0);ni(r,function(e){e.isDirty&&e.options.legendType==="point"&&(l=!0)}),l&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),i&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,ni(o,function(e){e.setScale()})),this.adjustTickAmounts(),this.getMargins(),ni(o,function(e){e.isDirty&&(c=!0)}),ni(o,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){ci(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(c||i)&&t.redraw()})),c&&this.drawChartBox(),ni(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),s&&s.reset&&s.reset(!0),d.draw(),ci(this,"redraw"),p&&this.cloneRenderTo(!0),ni(f,function(e){e.call()})},showLoading:function(t){var i=this.options,n=this.loadingDiv,o=i.loading;n||(this.loadingDiv=n=m(Ot,{className:"highcharts-loading"},e(o.style,{zIndex:10,display:zt}),this.container),this.loadingSpan=m("span",null,o.labelStyle,n)),this.loadingSpan.innerHTML=t||i.lang.loading,this.loadingShown||(f(n,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),hi(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&hi(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:zt})}}),this.loadingShown=!1},get:function(e){var t,i,n=this.axes,o=this.series;for(t=0;t<n.length;t++)if(n[t].options.id===e)return n[t];for(t=0;t<o.length;t++)if(o[t].options.id===e)return o[t];for(t=0;t<o.length;t++)for(i=o[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=d(t.xAxis||{}),t=t.yAxis=d(t.yAxis||{});ni(i,function(e,t){e.index=t,e.isX=!0}),ni(t,function(e,t){e.index=t}),i=i.concat(t),ni(i,function(t){new O(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return ni(this.series,function(t){e=e.concat(oi(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return oi(this.series,function(e){return e.selected})},getStacks:function(){var e=this;ni(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),ni(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+p(t.options.stack,""))})},showResetZoom:function(){var e=this,t=X.lang,i=e.options.chart.resetZoomButton,n=i.theme,o=n.states,r=i.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var e=this;ci(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,n=this.pointer,r=!1;!e||e.resetSelection?ni(this.axes,function(e){t=e.zoom()}):ni(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,o=i.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&o(i)&&(this.resetZoomButton=i.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var i,n=this,o=n.hoverPoints;o&&ni(o,function(e){e.setState()}),ni("xy"===t?[1,0]:[1],function(t){var o=e[t?"chartX":"chartY"],r=n[t?"xAxis":"yAxis"][0],s=n[t?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),c=r.toValue(s-o,!0)+a,s=r.toValue(s+n[t?"plotWidth":"plotHeight"]-o,!0)-a;r.series.length&&c>vt(l.dataMin,l.min)&&s<gt(l.dataMax,l.max)&&(r.setExtremes(c,s,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),f(n.container,{cursor:"move"})},setTitle:function(e,i){var n,o,r=this,s=r.options;o=s.title=t(s.title,e),n=s.subtitle=t(s.subtitle,i),s=n,ni([["title",e,o],["subtitle",i,s]],function(e){var t=e[0],i=r[t],n=e[1],e=e[2];i&&n&&(r[t]=i=i.destroy()),e&&e.text&&!i&&(r[t]=r.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),r.layOutTitles()},layOutTitles:function(){var t=0,i=this.title,n=this.subtitle,o=this.options,r=o.title,o=o.subtitle,s=this.spacingBox.width-44;!i||(i.css({width:(r.width||s)+"px"}).align(e({y:15},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(t=i.getBBox().height,t>=18&&25>=t&&(t=15)),n&&(n.css({width:(o.width||s)+"px"}).align(e({y:t+r.margin},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(t=mt(t+n.getBBox().height))),this.titleOffset=t},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=ei(t,"width"),this.containerHeight=ei(t,"height"),this.chartWidth=gt(0,e.width||this.containerWidth||600),this.chartHeight=gt(0,p(e.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),A(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:"absolute",top:"-9999px",display:"block"}),ut.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var t,o,r,s,a=this.options.chart;this.renderTo=t=a.renderTo,s="highcharts-"+Pt++,n(t)&&(this.renderTo=t=ut.getElementById(t)),t||N(13,!0),o=i(h(t,"data-highcharts-chart")),!isNaN(o)&&Rt[o]&&Rt[o].destroy(),h(t,"data-highcharts-chart",this.index),t.innerHTML="",t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),o=this.chartWidth,r=this.chartHeight,this.container=t=m(Ot,{className:"highcharts-container"+(a.className?" "+a.className:""),id:s},e({position:"relative",overflow:"hidden",width:o+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=a.forExport?new bi(t,o,r,!0):new G(t,o,r),jt&&this.renderer.create(this,t,o,r)},getMargins:function(){var e,t=this.spacing,i=this.legend,n=this.margin,o=this.options.legend,r=p(o.margin,10),s=o.x,a=o.y,l=o.align,c=o.verticalAlign,h=this.titleOffset;this.resetMargins(),e=this.axisOffset,h&&!u(n[0])&&(this.plotTop=gt(this.plotTop,h+this.options.title.margin+t[0])),i.display&&!o.floating&&("right"===l?u(n[1])||(this.marginRight=gt(this.marginRight,i.legendWidth-s+r+t[1])):"left"===l?u(n[3])||(this.plotLeft=gt(this.plotLeft,i.legendWidth+s+r+t[3])):"top"===c?u(n[0])||(this.plotTop=gt(this.plotTop,i.legendHeight+a+r+t[0])):"bottom"!==c||u(n[2])||(this.marginBottom=gt(this.marginBottom,i.legendHeight-a+r+t[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&ni(this.axes,function(e){e.getOffset()}),u(n[3])||(this.plotLeft+=e[3]),u(n[0])||(this.plotTop+=e[0]),u(n[2])||(this.marginBottom+=e[2]),u(n[1])||(this.marginRight+=e[1]),this.setChartSize()},initReflow:function(){function e(e){var r=n.width||ei(o,"width"),s=n.height||ei(o,"height"),e=e?e.target:ht;i.hasUserSize||!r||!s||e!==ht&&e!==ut||((r!==i.containerWidth||s!==i.containerHeight)&&(clearTimeout(t),i.reflowTimeout=t=setTimeout(function(){i.container&&(i.setSize(r,s,!1),i.hasUserSize=null)},100)),i.containerWidth=r,i.containerHeight=s)}var t,i=this,n=i.options.chart,o=i.renderTo;i.reflow=e,ai(ht,"resize",e),ai(i,"destroy",function(){li(ht,"resize",e)})},setSize:function(e,t,i){var n,o,r,s=this;s.isResizing+=1,r=function(){s&&ci(s,"endResize",null,function(){s.isResizing-=1})},j(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,u(e)&&(s.chartWidth=n=gt(0,pt(e)),s.hasUserSize=!!n),u(t)&&(s.chartHeight=o=gt(0,pt(t))),f(s.container,{width:n+"px",height:o+"px"}),s.setChartSize(!0),s.renderer.setSize(n,o,i),s.maxTicks=null,ni(s.axes,function(e){e.isDirty=!0,e.setScale()}),ni(s.series,function(e){e.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(i),s.oldChartHeight=null,ci(s,"resize"),Y===!1?r():setTimeout(r,Y&&Y.duration||500)},setChartSize:function(e){var t,i,n,o,r=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=t=pt(this.plotLeft),this.plotTop=i=pt(this.plotTop),this.plotWidth=n=gt(0,pt(a-t-this.marginRight)),this.plotHeight=o=gt(0,pt(l-i-this.marginBottom)),this.plotSizeX=r?o:n,this.plotSizeY=r?n:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:t,y:i,width:n,height:o},a=2*ft(this.plotBorderWidth/2),r=mt(gt(a,h[3])/2),s=mt(gt(a,h[0])/2),this.clipBox={x:r,y:s,width:ft(this.plotSizeX-gt(a,h[1])/2-r),height:ft(this.plotSizeY-gt(a,h[2])/2-s)},e||ni(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=p(t[0],e[0]),this.marginRight=p(t[1],e[1]),this.marginBottom=p(t[2],e[2]),this.plotLeft=p(t[3],e[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,n=this.chartWidth,o=this.chartHeight,r=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,h=t.plotBackgroundColor,d=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,x=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(r?r.animate(r.crisp(null,null,null,n-e,o-e)):(r={fill:u||zt},c&&(r.stroke=t.borderColor,r["stroke-width"]=c),this.chartBackground=i.rect(e/2,e/2,n-e,o-e,t.borderRadius,c).attr(r).add().shadow(t.shadow))),h&&(s?s.animate(b):this.plotBackground=i.rect(f,m,g,v,0).attr({fill:h}).add().shadow(t.plotShadow)),d&&(l?l.animate(b):this.plotBGImage=i.image(d,f,m,g,v).add()),y?y.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(a?a.animate(a.crisp(null,f,m,g,v)):this.plotBorder=i.rect(f,m,g,v,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,o=n.options.chart,r=n.options.series;ni(["inverted","angular","polar"],function(s){for(e=Qt[o.type||o.defaultSeriesType],i=n[s]||o[s]||e&&e.prototype[s],t=r&&r.length;!i&&t--;)(e=Qt[r[t].type])&&e.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var e=this,t=e.series;ni(t,function(e){e.linkedSeries.length=0}),ni(t,function(t){var i=t.options.linkedTo;n(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&(i.linkedSeries.push(t),t.linkedParent=i)})},render:function(){var t,n=this,o=n.axes,r=n.renderer,s=n.options,a=s.labels,l=s.credits;n.setTitle(),n.legend=new B(n,s.legend),n.getStacks(),ni(o,function(e){e.setScale()}),n.getMargins(),n.maxTicks=null,ni(o,function(e){e.setTickPositions(!0),e.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&ni(o,function(e){e.render()}),n.seriesGroup||(n.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),ni(n.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),a.items&&ni(a.items,function(t){var o=e(a.style,t.style),s=i(o.left)+n.plotLeft,l=i(o.top)+n.plotTop+12;delete o.left,delete o.top,r.text(t.html,s,l).attr({zIndex:2}).css(o).add()}),l.enabled&&!n.credits&&(t=l.href,n.credits=r.text(l.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var e,t=this,i=t.axes,n=t.series,o=t.container,r=o&&o.parentNode;for(ci(t,"destroy"),Rt[t.index]=W,t.renderTo.removeAttribute("data-highcharts-chart"),li(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();ni("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),o&&(o.innerHTML="",li(o),r&&A(o));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Nt&&ht==ht.top&&ut.readyState!=="complete"||jt&&!ht.canvg?(jt?_i.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ut.attachEvent("onreadystatechange",function(){ut.detachEvent("onreadystatechange",e.firstRender),ut.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),ci(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),ni(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),ci(e,"beforeRender"),e.pointer=new H(e,t),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),ni(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),ci(e,"load"))},splashArray:function(e,t){var i=t[e],i=o(i)?i:[i,i,i,i];return[p(t[e+"Top"],i[0]),p(t[e+"Right"],i[1]),p(t[e+"Bottom"],i[2]),p(t[e+"Left"],i[3])]}},q.prototype.callbacks=[];var wi=function(){};wi.prototype={init:function(e,t,i){return this.series=e,this.applyOptions(t,i),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,i){var n=this.series,o=n.pointValKey,t=wi.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,o&&(this.y=this[o]),this.x===W&&n&&(this.x=i===W?n.autoIncrement():i),this},optionsToObject:function(e){var t={},i=this.series,n=i.pointArrayMap||["y"],o=n.length,s=0,a=0;if("number"==typeof e||null===e)t[n[0]]=e;else if(r(e))for(e.length>o&&(i=typeof e[0],"string"===i?t.name=e[0]:"number"===i&&(t.x=e[0]),s++);o>a;)t[n[a++]]=e[s++];else"object"==typeof e&&(t=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;t.pointCount--,i&&(this.setState(),c(i,this),!i.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(li(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var i=this,n=i.series,o=n.chart,e=p(e,!i.selected);i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[ii(i,n.data)]=i.options,i.setState(e&&"select"),t||ni(o.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[ii(e,n.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o!==this&&o.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this,e),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;t&&ii(this,t)!==-1||(this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null)},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=p(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return ni(t.pointArrayMap||["y"],function(t){t="{point."+t,(o||r)&&(e=e.replace(t+"}",o+t+"}"+r)),e=e.replace(t+"}",t+":,."+n+"f}")}),x(e,{point:this,series:this.series})},update:function(e,t,i){var n,r=this,s=r.series,a=r.graphic,l=s.data,c=s.chart,u=s.options,t=p(t,!0);r.firePointEvent("update",{options:e},function(){r.applyOptions(e),o(e)&&(s.getAttribs(),a)&&(e&&e.marker&&e.marker.symbol?r.graphic=a.destroy():a.attr(r.pointAttr[r.state||""])),n=ii(r,l),s.xData[n]=r.x,s.yData[n]=s.toYData?s.toYData(r):r.y,s.zData[n]=r.z,u.data[n]=r.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),u.legendType==="point"&&c.legend.destroyItem(r),t&&c.redraw(i)})},remove:function(e,t){var i,n=this,o=n.series,r=o.points,s=o.chart,a=o.data;j(t,s),e=p(e,!0),n.firePointEvent("remove",null,function(){i=ii(n,a),a.length===r.length&&r.splice(i,1),a.splice(i,1),o.options.data.splice(i,1),o.xData.splice(i,1),o.yData.splice(i,1),o.zData.splice(i,1),n.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&s.redraw()})},firePointEvent:function(e,t,i){var n=this,o=this.series.options;(o.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(i=function(e){n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),ci(this,e,t,i)},importEvents:function(){if(!this.hasImportedEvents){var e,i=t(this.series.options.point,this.options).events;this.events=i;for(e in i)ai(this,e,i[e]);this.hasImportedEvents=!0}},setState:function(e){var i=this.plotX,n=this.plotY,o=this.series,r=o.options.states,s=pi[o.type].marker&&o.options.marker,a=s&&!s.enabled,l=s&&s.states[e],c=l&&l.enabled===!1,u=o.stateMarkerGraphic,h=this.marker||{},d=o.chart,p=this.pointAttr,e=e||"";e===this.state||this.selected&&"select"!==e||r[e]&&r[e].enabled===!1||e&&(c||a&&!l.enabled)||e&&h.states&&h.states[e]&&h.states[e].enabled===!1||(this.graphic?(r=s&&this.graphic.symbolName&&p[e].r,this.graphic.attr(t(p[e],r?{x:i-r,y:n-r,width:2*r,height:2*r}:{}))):(e&&l&&(r=l.radius,h=h.symbol||o.symbol,u&&u.currentSymbol!==h&&(u=u.destroy()),u?u.attr({x:i-r,y:n-r}):(o.stateMarkerGraphic=u=d.renderer.symbol(h,i-r,n-r,2*r,2*r).attr(p[e]).add(o.markerGroup),u.currentSymbol=h)),u&&u[e&&d.isInsidePlot(i,n)?"show":"hide"]()),this.state=e)}};var ki=function(){};ki.prototype={isCartesian:!0,type:"line",pointClass:wi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(t,i){var n,o,r=t.series;this.chart=t,this.options=i=this.setOptions(i),this.linkedSeries=[],this.bindAxes(),e(this,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),jt&&(i.animation=!1),o=i.events;for(n in o)ai(this,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(t.hasCartesianSeries=!0),r.push(this),this._i=r.length-1,S(r,function(e,t){return p(e.options.index,e._i)-p(t.options.index,e._i)}),ni(r,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,n=t.chart;t.isCartesian&&ni(["xAxis","yAxis"],function(o){ni(n[o],function(n){e=n.options,(i[o]===e.index||i[o]!==W&&i[o]===e.id||i[o]===W&&e.index===0)&&(n.series.push(t),t[o]=n,n.isDirty=!0)}),t[o]||N(18,!0)})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,i=[],n=this.points,o=n.length;if(o)if(this.options.connectNulls){for(e=o;e--;)n[e].y===null&&n.splice(e,1);n.length&&(i=[n])}else ni(n,function(e,r){e.y===null?(r>t+1&&i.push(n.slice(t+1,r)),t=r):r===o-1&&i.push(n.slice(t+1,r+1))});this.segments=i},setOptions:function(e){var i=this.chart.options,n=i.plotOptions,o=n[this.type];return this.userOptions=e,e=t(o,n.series,e),this.tooltipOptions=t(i.tooltip,e.tooltip),o.marker===null&&delete e.marker,e},getColor:function(){var e,t=this.options,i=this.userOptions,n=this.chart.options.colors,o=this.chart.counters;e=t.color||pi[this.type].color,e||t.colorByPoint||(u(i._colorIndex)?t=i._colorIndex:(i._colorIndex=o.color,t=o.color++),e=n[t]),this.color=e,o.wrapColor(n.length)},getSymbol:function(){var e=this.userOptions,t=this.options.marker,i=this.chart,n=i.options.symbols,i=i.counters;this.symbol=t.symbol,this.symbol||(u(e._symbolIndex)?e=e._symbolIndex:(e._symbolIndex=i.symbol,e=i.symbol++),this.symbol=n[e]),/^url/.test(this.symbol)&&(t.radius=0),i.wrapSymbol(n.length)},drawLegendSymbol:function(e){var t,i=this.options,n=i.marker,o=e.options;t=o.symbolWidth;var r=this.chart.renderer,s=this.legendGroup,e=e.baseline-pt(r.fontMetrics(o.itemStyle.fontSize).b*.3);i.lineWidth&&(o={"stroke-width":i.lineWidth},i.dashStyle&&(o.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,e,"L",t,e]).attr(o).add(s)),n&&n.enabled&&(i=n.radius,this.legendSymbol=t=r.symbol(this.symbol,t/2-i,e-i,2*i,2*i).add(s),t.isMarker=!0)},addPoint:function(e,t,i,n){var o,r=this.options,s=this.data,a=this.graph,l=this.area,c=this.chart,u=this.xData,h=this.yData,d=this.zData,f=this.xAxis&&this.xAxis.names,m=a&&a.shift||0,g=r.data;if(j(n,c),i&&ni([a,l,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=m+1)}),l&&(l.isArea=!0),t=p(t,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[e]),a=n.x,l=u.length,this.requireSorting&&a<u[l-1])for(o=!0;l&&u[l-1]>a;)l--;u.splice(l,0,a),h.splice(l,0,this.toYData?this.toYData(n):n.y),d.splice(l,0,n.z),f&&(f[a]=n.name),g.splice(l,0,e),o&&(this.data.splice(l,0,null),this.processData()),r.legendType==="point"&&this.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),u.shift(),h.shift(),d.shift(),g.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),c.redraw())},setData:function(e,t){var i,o=this.points,a=this.options,l=this.chart,c=null,u=this.xAxis,h=u&&u.names;this.xIncrement=null,this.pointRange=u&&u.categories?1:a.pointRange,this.colorCounter=0;var d=[],f=[],m=[],g=e?e.length:[];i=p(a.turboThreshold,1e3);var v=this.pointArrayMap,v=v&&v.length,b=!!this.toYData;if(i&&g>i){for(i=0;null===c&&g>i;)c=e[i],i++;if(s(c)){for(h=p(a.pointStart,0),a=p(a.pointInterval,1),i=0;g>i;i++)d[i]=h,f[i]=e[i],h+=a;this.xIncrement=h}else if(r(c))if(v)for(i=0;g>i;i++)a=e[i],d[i]=a[0],f[i]=a.slice(1,v+1);else for(i=0;g>i;i++)a=e[i],d[i]=a[0],f[i]=a[1];else N(12)}else for(i=0;g>i;i++)e[i]!==W&&(a={series:this},this.pointClass.prototype.applyOptions.apply(a,[e[i]]),d[i]=a.x,f[i]=b?this.toYData(a):a.y,m[i]=a.z,h&&a.name)&&(h[a.x]=a.name);for(n(f[0])&&N(14,!0),this.data=[],this.options.data=e,this.xData=d,this.yData=f,this.zData=m,i=o&&o.length||0;i--;)o[i]&&o[i].destroy&&o[i].destroy();u&&(u.minRange=u.userMinRange),this.isDirty=this.isDirtyData=l.isDirtyBox=!0,p(t,!0)&&l.redraw(!1)},remove:function(e,t){var i=this,n=i.chart,e=p(e,!0);i.isRemoving||(i.isRemoving=!0,ci(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),e&&n.redraw(t)})),i.isRemoving=!1},processData:function(e){var t,i=this.xData,n=this.yData,o=i.length;t=0;var r,s,a=this.xAxis,l=this.options,c=l.cropThreshold,u=this.isCartesian;if(u&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&this.sorted&&(!c||o>c||this.forceCrop)&&(e=a.min,a=a.max,i[o-1]<e||i[0]>a?(i=[],n=[]):(i[0]<e||i[o-1]>a)&&(t=this.cropData(this.xData,this.yData,e,a),i=t.xData,n=t.yData,t=t.start,r=!0)),a=i.length-1;a>=0;a--)o=i[a]-i[a-1],o>0&&(s===W||s>o)?s=o:0>o&&this.requireSorting&&N(15);this.cropped=r,this.cropStart=t,this.processedXData=i,this.processedYData=n,l.pointRange===null&&(this.pointRange=s||1),this.closestPointRange=s},cropData:function(e,t,i,n){var o,r=e.length,s=0,a=r,l=p(this.cropShoulder,1);for(o=0;r>o;o++)if(e[o]>=i){s=gt(0,o-l);break}for(;r>o;o++)if(e[o]>n){a=o+l;break}return{xData:e.slice(s,a),yData:t.slice(s,a),start:s,end:a}},generatePoints:function(){var e,t,i,n,o=this.options.data,r=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,h=this.hasGroupedData,p=[];for(r||h||(r=[],r.length=o.length,r=this.data=r),n=0;c>n;n++)t=u+n,h?p[n]=(new l).init(this,[s[n]].concat(d(a[n]))):(r[t]?i=r[t]:o[t]!==W&&(r[t]=i=(new l).init(this,o[t],s[n])),p[n]=i);if(r&&(c!==(e=r.length)||h))for(n=0;e>n;n++)n===u&&!h&&(n+=c),r[n]&&(r[n].destroyElements(),r[n].plotX=W);this.data=r,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,o,r=this.processedXData,s=this.processedYData,a=[],l=s.length,c=this.options,u=c.threshold,h=c.stack,c=c.stacking,d=this.stackKey,p="-"+d,f=this.negStacks,m=this.yAxis,g=m.stacks,v=m.oldStacks;for(i=0;l>i;i++)n=r[i],o=s[i],t=(e=f&&u>o)?p:d,g[t]||(g[t]={}),g[t][n]||(v[t]&&v[t][n]?(g[t][n]=v[t][n],g[t][n].total=null):g[t][n]=new R(m,m.options.stackLabels,e,n,h,c)),t=g[t][n],t.points[this.index]=[t.cum||0],"percent"===c?(e=e?d:p,f&&g[e]&&g[e][n]?(e=g[e][n],t.total=e.total=gt(e.total,t.total)+bt(o)||0):t.total+=bt(o)||0):t.total+=o||0,t.cum=(t.cum||0)+(o||0),t.points[this.index].push(t.cum),a[i]=t.cum;"percent"===c&&(m.usePercentage=!0),this.stackedYData=a,m.oldStacks={}}},setPercentStacks:function(){var e=this,t=e.stackKey,i=e.yAxis.stacks;ni([t,"-"+t],function(t){for(var n,o,r,s=e.xData.length;s--;)o=e.xData[s],n=(r=i[t]&&i[t][o])&&r.points[e.index],(o=n)&&(r=r.total?100/r.total:0,o[0]=M(o[0]*r),o[1]=M(o[1]*r),e.stackedYData[s]=o[1])})},getExtremes:function(){var e,t,i,n,o=this.yAxis,r=this.processedXData,s=this.stackedYData||this.processedYData,a=s.length,l=[],c=0,u=this.xAxis.getExtremes(),h=u.min,u=u.max;for(n=0;a>n;n++)if(t=r[n],i=s[n],e=null!==i&&i!==W&&(!o.isLog||i.length||i>0),t=this.getExtremesFromAll||this.cropped||(r[n+1]||t)>=h&&(r[n-1]||t)<=u,e&&t)if(e=i.length)for(;e--;)i[e]!==null&&(l[c++]=i[e]);else l[c++]=i;this.dataMin=p(void 0,$(l)),this.dataMax=p(void 0,D(l))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,i=this.xAxis,n=i.categories,o=this.yAxis,r=this.points,a=r.length,l=!!this.modifyValue,c=e.pointPlacement,h="between"===c||s(c),d=e.threshold,e=0;a>e;e++){var f=r[e],m=f.x,g=f.y,v=f.low,b=o.stacks[(this.negStacks&&d>g?"-":"")+this.stackKey];o.isLog&&0>=g&&(f.y=g=null),f.plotX=i.translate(m,0,0,0,1,c,this.type==="flags"),t&&this.visible&&b&&b[m]&&(b=b[m],g=b.points[this.index],v=g[0],g=g[1],0===v&&(v=p(d,o.min)),o.isLog&&0>=v&&(v=null),f.total=f.stackTotal=b.total,f.percentage="percent"===t&&f.y/b.total*100,f.stackY=g,b.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=u(v)?o.translate(v,0,1,0,1):null,l&&(g=this.modifyValue(g,f)),f.plotY="number"==typeof g&&1/0!==g?o.translate(g,0,1,0,1):W,f.clientX=h?i.translate(m,0,0,0,1):f.plotX,f.negative=f.y<(d||0),f.category=n&&n[f.x]!==W?n[f.x]:f.x}this.getSegments()},setTooltipPoints:function(e){var t,i,n,o,r=[],s=this.xAxis,a=s&&s.getExtremes(),l=s?s.tooltipLen||s.len:this.chart.plotSizeX,c=[];if(this.options.enableMouseTracking!==!1){for(e&&(this.tooltipPoints=null),ni(this.segments||this.points,function(e){r=r.concat(e)}),s&&s.reversed&&(r=r.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(r),e=r.length,o=0;e>o;o++)if(s=r[o],t=s.x,t>=a.min&&t<=a.max)for(n=r[o+1],t=i===W?0:i+1,i=r[o+1]?vt(gt(0,ft((s.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;t>=0&&i>=t;)c[t++]=s;this.tooltipPoints=c}},tooltipHeaderFormatter:function(e){var t,i=this.tooltipOptions,n=i.xDateFormat,o=i.dateTimeLabelFormats,r=this.xAxis,a=r&&r.options.type==="datetime",i=i.headerFormat,r=r&&r.closestPointRange;if(a&&!n)if(r){for(t in Q)if(Q[t]>=r){n=o[t];break}}else n=o.day;return a&&n&&s(e.key)&&(i=i.replace("{point.key}","{point.key:"+n+"}")),x(i,{point:e,series:this})},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&ci(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;n&&n.onMouseOut(),this&&e.events.mouseOut&&ci(this,"mouseOut"),i&&!e.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),t.hoverSeries=null},animate:function(t){var i,n=this,r=n.chart,s=r.renderer;i=n.options.animation;var a,l=r.clipBox,c=r.inverted;i&&!o(i)&&(i=pi[n.type].animation),a="_sharedClip"+i.duration+i.easing,t?(t=r[a],i=r[a+"m"],t||(r[a]=t=s.clipRect(e(l,{width:0})),r[a+"m"]=i=s.clipRect(-99,c?-r.plotLeft:-r.plotTop,99,c?r.chartWidth:r.chartHeight)),n.group.clip(t),n.markerGroup.clip(i),n.sharedClipKey=a):((t=r[a])&&(t.animate({width:r.plotSizeX},i),r[a+"m"].animate({width:r.plotSizeX+99},i)),n.animate=null,n.animationTimeout=setTimeout(function(){n.afterAnimate()},i.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,i,n,o,r,s,a,l,c,u,h=this.points,d=this.chart,f=this.options.marker,m=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(o=h.length;o--;)r=h[o],i=ft(r.plotX),n=r.plotY,c=r.graphic,a=r.marker||{},t=f.enabled&&a.enabled===W||a.enabled,u=d.isInsidePlot(pt(i),n,d.inverted),t&&n!==W&&!isNaN(n)&&r.y!==null?(t=r.pointAttr[r.selected?"select":""],s=t.r,a=p(a.symbol,this.symbol),l=a.indexOf("url")===0,c?c.attr({visibility:u?Nt?"inherit":"visible":"hidden"}).animate(e({x:i-s,y:n-s},c.symbolName?{width:2*s,height:2*s}:{})):u&&(s>0||l)&&(r.graphic=d.renderer.symbol(a,i-s,n-s,2*s,2*s).attr(t).add(m))):c&&(r.graphic=c.destroy())},convertAttribs:function(e,t,i,n){var o,r,s=this.pointAttrToOptions,a={},e=e||{},t=t||{},i=i||{},n=n||{};for(o in s)r=s[o],a[o]=p(e[r],t[o],i[o],n[o]);return a},getAttribs:function(){var t,i,n,o=this,r=o.options,s=pi[o.type].marker?r.marker:r,a=s.states,l=a.hover,c=o.color,h={stroke:c,fill:c},d=o.points||[],p=[],f=o.pointAttrToOptions,m=r.negativeColor,g=s.lineColor;for(r.marker?(l.radius=l.radius||s.radius+2,l.lineWidth=l.lineWidth||s.lineWidth+1):l.color=l.color||vi(l.color||c).brighten(l.brightness).get(),p[""]=o.convertAttribs(s,h),ni(["hover","select"],function(e){p[e]=o.convertAttribs(a[e],p[""])}),o.pointAttr=p,c=d.length;c--;){if(h=d[c],(s=h.options&&h.options.marker||h.options)&&s.enabled===!1&&(s.radius=0),h.negative&&m&&(h.color=h.fillColor=m),t=r.colorByPoint||h.color,h.options)for(n in f)u(s[f[n]])&&(t=!0);t?(s=s||{},i=[],a=s.states||{},t=a.hover=a.hover||{},r.marker||(t.color=vi(t.color||h.color).brighten(t.brightness||l.brightness).get()),i[""]=o.convertAttribs(e({color:h.color,fillColor:h.color,lineColor:null===g?h.color:W},s),p[""]),i.hover=o.convertAttribs(a.hover,p.hover,i[""]),i.select=o.convertAttribs(a.select,p.select,i[""])):i=p,h.pointAttr=i
}},update:function(i,n){var o,r=this.chart,s=this.type,a=Qt[s].prototype,i=t(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(o in a)a.hasOwnProperty(o)&&(this[o]=W);e(this,Qt[i.type||s].prototype),this.init(r,i),p(n,!0)&&r.redraw(!1)},destroy:function(){var e,t,i,n,o,r=this,s=r.chart,a=/AppleWebKit\/533/.test(kt),l=r.data||[];for(ci(r,"destroy"),li(r),ni(["xAxis","yAxis"],function(e){(o=r[e])&&(c(o.series,r),o.isDirty=o.forceRedraw=!0,o.stacks={})}),r.legendItem&&r.chart.legend.destroyItem(r),t=l.length;t--;)(i=l[t])&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),ni("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){r[t]&&(e=a&&"group"===t?"hide":"destroy",r[t][e]())}),s.hoverSeries===r&&(s.hoverSeries=null),c(s.series,r);for(n in r)delete r[n]},drawDataLabels:function(){var i,n,o,r,s=this,a=s.options,l=a.cursor,c=a.dataLabels,a=s.points;(c.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(c),r=s.plotGroup("dataLabelsGroup","data-labels",s.visible?"visible":"hidden",c.zIndex||6),n=c,ni(a,function(a){var h,d,f,m=a.dataLabel,g=a.connector,v=!0;if(i=a.options&&a.options.dataLabels,h=p(i&&i.enabled,n.enabled),m&&!h)a.dataLabel=m.destroy();else if(h){if(c=t(n,i),h=c.rotation,d=a.getLabelConfig(),o=c.format?x(c.format,d):c.formatter.call(d,c),c.style.color=p(c.color,c.style.color,s.color,"black"),m)u(o)?(m.attr({text:o}),v=!1):(a.dataLabel=m=m.destroy(),g&&(a.connector=g.destroy()));else if(u(o)){m={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:h,padding:c.padding,zIndex:1};for(f in m)m[f]===W&&delete m[f];m=a.dataLabel=s.chart.renderer[h?"text":"label"](o,0,-999,null,null,null,c.useHTML).attr(m).css(e(c.style,l&&{cursor:l})).add(r).shadow(c.shadow)}m&&s.alignDataLabel(a,m,c,null,v)}}))},alignDataLabel:function(t,i,n,o,r){var s=this.chart,a=s.inverted,l=p(t.plotX,-999),c=p(t.plotY,-999),u=i.getBBox();(t=this.visible&&s.isInsidePlot(t.plotX,t.plotY,a))&&(o=e({x:a?s.plotWidth-c:l,y:pt(a?s.plotHeight-l:c),width:0,height:0},o),e(n,{width:u.width,height:u.height}),n.rotation?(a={align:n.align,x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2},i[r?"attr":"animate"](a)):(i.align(n,null,o),a=i.alignAttr,p(n.overflow,"justify")==="justify"?this.justifyDataLabel(i,n,a,u,o,r):p(n.crop,!0)&&(t=s.isInsidePlot(a.x,a.y)&&s.isInsidePlot(a.x+u.width,a.y+u.height)))),t||i.attr({y:-999})},justifyDataLabel:function(e,t,i,n,o,r){var s,a,l=this.chart,c=t.align,u=t.verticalAlign;s=i.x,0>s&&("right"===c?t.align="left":t.x=-s,a=!0),s=i.x+n.width,s>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-s,a=!0),s=i.y,0>s&&("bottom"===u?t.verticalAlign="top":t.y=-s,a=!0),s=i.y+n.height,s>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-s,a=!0),a&&(e.placed=!r,e.align(t,null,o))},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return ni(e,function(o,r){var s,a=o.plotX,l=o.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,o,r)):(i.push(r?"L":"M"),n&&r&&(s=e[r-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):i.push(a,s.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return ni(t.segments,function(o){e=t.getSegmentPath(o),o.length>1?i=i.concat(e):n.push(o[0])}),t.singlePoints=n,t.graphPath=i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color]],n=t.lineWidth,o=t.dashStyle,r=t.linecap!=="square",s=this.getGraphPath(),a=t.negativeColor;a&&i.push(["graphNeg",a]),ni(i,function(i,a){var l=i[0],c=e[l];c?(di(c),c.animate({d:s})):n&&s.length&&(c={stroke:i[1],"stroke-width":n,zIndex:1},o?c.dashstyle=o:r&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(s).attr(c).add(e.group).shadow(!a&&t.shadow))})},clipNeg:function(){var e,t=this.options,i=this.chart,n=i.renderer,o=t.negativeColor||t.negativeFillColor,r=this.graph,s=this.area,a=this.posClip,l=this.negClip;e=i.chartWidth;var c=i.chartHeight,u=gt(e,c),h=this.yAxis;o&&(r||s)&&(o=pt(h.toPixels(t.threshold||0,!0)),t={x:0,y:0,width:u,height:o},u={x:0,y:o,width:u,height:u},i.inverted&&(t.height=u.y=i.plotWidth-o,n.isVML&&(t={x:i.plotWidth-o-i.plotLeft,y:0,width:e,height:c},u={x:o+i.plotLeft-e,y:0,width:i.plotLeft+o,height:e})),h.reversed?(i=u,e=t):(i=t,e=u),a?(a.animate(i),l.animate(e)):(this.posClip=a=n.clipRect(i),this.negClip=l=n.clipRect(e),r&&this.graphNeg&&(r.clip(a),this.graphNeg.clip(l)),s&&(s.clip(a),this.areaNeg.clip(l))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};ni(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(ai(i,"resize",e),ai(t,"destroy",function(){li(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,o){var r=this[e],s=!r;return s&&(this[e]=r=this.chart.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(o)),r[s?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this.chart,i=this.options,n=i.animation&&!!this.animate&&t.renderer.isSVG,o=this.visible?"visible":"hidden",r=i.zIndex,s=this.hasRendered,a=t.seriesGroup;e=this.plotGroup("group","series",o,r,a),this.markerGroup=this.plotGroup("markerGroup","markers",o,r,a),n&&this.animate(!0),this.getAttribs(),e.inverted=this.isCartesian?t.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),t.inverted&&this.invertGroups(),i.clip!==!1&&!this.sharedClipKey&&!s&&e.clip(t.clipRect),n?this.animate():s||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,i=this.group,n=this.xAxis,o=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:p(n&&n.left,e.plotLeft),translateY:p(o&&o.top,e.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),t&&ci(this,"updatedData")},setState:function(e){var t=this.options,i=this.graph,n=this.graphNeg,o=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,o[e]&&o[e].enabled===!1||(e&&(t=o[e].lineWidth||t+1),i&&!i.dashstyle&&(e={"stroke-width":t},i.attr(e),n&&n.attr(e))))},setVisible:function(e,t){var i,n=this,o=n.chart,r=n.legendItem,s=o.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=e=n.userOptions.visible=e===W?!a:e)?"show":"hide",ni(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),o.hoverSeries===n&&n.onMouseOut(),r&&o.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&ni(o.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),ni(n.linkedSeries,function(t){t.setVisible(e,!1)}),s&&(o.isDirtyBox=!0),t!==!1&&o.redraw(),ci(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===W?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),ci(this,e?"select":"unselect")},drawTracker:function(){var e,t=this,i=t.options,n=i.trackByArea,o=[].concat(n?t.areaPath:t.graphPath),r=o.length,s=t.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=t.tracker,h=i.cursor,d=h&&{cursor:h},h=t.singlePoints,p=function(){s.hoverSeries!==t&&t.onMouseOver()};if(r&&!n)for(e=r+1;e--;)o[e]==="M"&&o.splice(e+1,0,o[e+1]-c,o[e+2],"L"),(e&&o[e]==="M"||e===r)&&o.splice(e,0,"L",o[e-2]+c,o[e-1]);for(e=0;e<h.length;e++)r=h[e],o.push("M",r.plotX-c,r.plotY,"L",r.plotX+c,r.plotY);u?u.attr({d:o}):(t.tracker=l.path(o).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:Ht,fill:n?Ht:zt,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(t.group),ni([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){a.onTrackerMouseOut(e)}).css(d),It&&e.on("touchstart",p)}))}},Jt=g(ki),Qt.line=Jt,pi.area=t(Zt,{threshold:0}),Jt=g(ki,{type:"area",getSegments:function(){var e,t,i,n,o,r=[],s=[],a=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],h={},d=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<d.length;n++)h[d[n].x]=d[n];for(o in u)u[o].total!==null&&a.push(+o);a.sort(function(e,t){return e-t}),ni(a,function(n){(!p||h[n]&&h[n].y!==null)&&(h[n]?s.push(h[n]):(e=l.translate(n),i=u[n].percent?u[n].total?u[n].cum*100/u[n].total:0:u[n].cum,t=c.toPixels(i,!0),s.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Ft})))}),s.length&&r.push(s)}else ki.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(e){var t,i=ki.prototype.getSegmentPath.call(this,e),n=[].concat(i),o=this.options;t=i.length;var r,s=this.yAxis.getThreshold(o.threshold);if(3===t&&n.push("L",i[1],i[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)r=p(e[t].yBottom,s),t<e.length-1&&o.step&&n.push(e[t+1].plotX,r),n.push(e[t].plotX,r);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t,i){e.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[],ki.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=i.negativeColor,o=i.negativeFillColor,r=[["area",this.color,i.fillColor]];(n||o)&&r.push(["areaNeg",n,o]),ni(r,function(n){var o=n[0],r=e[o];r?r.animate({d:t}):e[o]=e.chart.renderer.path(t).attr({fill:p(n[2],vi(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),Qt.area=Jt,pi.spline=t(Zt),yi=g(ki,{type:"spline",getPointSpline:function(e,t,i){var n,o,r,s,a=t.plotX,l=t.plotY,c=e[i-1],u=e[i+1];if(c&&u){e=c.plotY,r=u.plotX;var h,u=u.plotY;n=(1.5*a+c.plotX)/2.5,o=(1.5*l+e)/2.5,r=(1.5*a+r)/2.5,s=(1.5*l+u)/2.5,h=(s-o)*(r-a)/(r-n)+l-s,o+=h,s+=h,o>e&&o>l?(o=gt(e,l),s=2*l-o):e>o&&l>o&&(o=vt(e,l),s=2*l-o),s>u&&s>l?(s=gt(u,l),o=2*l-s):u>s&&l>s&&(s=vt(u,l),o=2*l-s),t.rightContX=r,t.rightContY=s}return i?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||a,o||l,a,l],c.rightContX=c.rightContY=null):t=["M",a,l],t}}),Qt.spline=yi,pi.areaspline=t(pi.area),xi=Jt.prototype,yi=g(yi,{type:"areaspline",closedStacks:!0,getSegmentPath:xi.getSegmentPath,closeSegment:xi.closeSegment,drawGraph:xi.drawGraph,drawLegendSymbol:xi.drawLegendSymbol}),Qt.areaspline=yi,pi.column=t(Zt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),yi=g(ki,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ki.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&ni(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,i=this,n=i.options,o=i.xAxis,r=i.yAxis,s=o.reversed,a={},l=0;n.grouping===!1?l=1:ni(i.chart.series,function(n){var o=n.options,s=n.yAxis;n.type===i.type&&n.visible&&r.len===s.len&&r.pos===s.pos&&(o.stacking?(e=n.stackKey,a[e]===W&&(a[e]=l++),t=a[e]):o.grouping!==!1&&(t=l++),n.columnIndex=t)});var o=vt(bt(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||1),o.len),c=o*n.groupPadding,h=(o-2*c)/l,d=n.pointWidth,n=u(d)?(h-d)/2:h*n.pointPadding,d=p(d,h-2*n);return i.columnMetrics={width:d,offset:n+(c+((s?l-(i.columnIndex||0):i.columnIndex)||0)*h-o/2)*(s?-1:1)}},translate:function(){var e=this.chart,t=this.options,i=t.borderWidth,n=this.yAxis,o=this.translatedThreshold=n.getThreshold(t.threshold),r=p(t.minPointLength,5),t=this.getColumnMetrics(),s=t.width,a=this.barW=mt(gt(s,1+2*i)),l=this.pointXOffset=t.offset,c=-(i%2?.5:0),u=i%2?.5:1;e.renderer.isVML&&e.inverted&&(u+=1),ki.prototype.translate.apply(this),ni(this.points,function(e){var t,i=p(e.yBottom,o),h=vt(gt(-999-i,e.plotY),n.len+999+i),d=e.plotX+l,f=a,m=vt(h,i),h=gt(h,i)-m;bt(h)<r&&r&&(h=r,m=pt(bt(m-o)>r?i-r:o-(n.translate(e.y,0,1,0,1)<=o?r:0))),e.barX=d,e.pointWidth=s,i=bt(d)<.5,f=pt(d+f)+c,d=pt(d)+c,f-=d,t=bt(m)<.5,h=pt(m+h)+u,m=pt(m)+u,h-=m,i&&(d+=1,f-=1),t&&(m-=1,h+=1),e.shapeType="rect",e.shapeArgs={x:d,y:m,width:f,height:h}})},getSymbol:Ft,drawLegendSymbol:Jt.prototype.drawLegendSymbol,drawGraph:Ft,drawPoints:function(){var e,i=this,n=i.options,o=i.chart.renderer;ni(i.points,function(r){var s=r.plotY,a=r.graphic;s===W||isNaN(s)||r.y===null?a&&(r.graphic=a.destroy()):(e=r.shapeArgs,a?(di(a),a.animate(t(e))):r.graphic=o[r.shapeType](e).attr(r.pointAttr[r.selected?"select":""]).add(i.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,o=n&&{cursor:n},r=function(i){var n,o=i.target;for(t.hoverSeries!==e&&e.onMouseOver();o&&!n;)n=o.point,o=o.parentNode;n!==W&&n!==t.hoverPoint&&n.onMouseOver(i)};ni(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(ni(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(o),It)&&e[t].on("touchstart",r)}),e._hasTracking=!0)},alignDataLabel:function(e,i,n,o,r){var s=this.chart,a=s.inverted,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>p(this.translatedThreshold,s.plotSizeY),u=p(n.inside,!!this.options.stacking);l&&(o=t(l),a&&(o={x:s.plotWidth-o.y-o.height,y:s.plotHeight-o.x-o.width,width:o.height,height:o.width}),!u)&&(a?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0)),n.align=p(n.align,!a||u?"center":c?"right":"left"),n.verticalAlign=p(n.verticalAlign,a||u?"middle":c?"top":"bottom"),ki.prototype.alignDataLabel.call(this,e,i,n,o,r)},animate:function(e){var t=this.yAxis,i=this.options,n=this.chart.inverted,o={};Nt&&(e?(o.scaleY=.001,e=vt(t.pos+t.len,gt(t.pos,t.toPixels(i.threshold))),n?o.translateX=e-t.len:o.translateY=e,this.group.attr(o)):(o.scaleY=1,o[n?"translateX":"translateY"]=t.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&ni(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),ki.prototype.remove.apply(e,arguments)}}),Qt.column=yi,pi.bar=t(pi.column),xi=g(yi,{type:"bar",inverted:!0}),Qt.bar=xi,pi.scatter=t(Zt,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),xi=g(ki,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:yi.prototype.drawTracker,setTooltipPoints:Ft}),Qt.scatter=xi,pi.pie=t(Zt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Zt={type:"pie",isCartesian:!1,pointClass:g(wi,{init:function(){wi.prototype.init.apply(this,arguments);var t,i=this;return i.y<0&&(i.y=null),e(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),t=function(e){i.slice(e.type==="select")},ai(i,"select",t),ai(i,"unselect",t),i},setVisible:function(e){var t,i=this,n=i.series,o=n.chart;i.visible=i.options.visible=e=e===W?!i.visible:e,n.options.data[ii(i,n.data)]=i.options,t=e?"show":"hide",ni(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t]()}),i.legendItem&&o.legend.colorizeItem(i,e),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,o.redraw())},slice:function(e,t,i){var n=this.series;j(i,n.chart),p(t,!0),this.sliced=this.options.sliced=e=u(e)?e:!this.sliced,n.options.data[ii(this,n.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Ft,animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(ni(i,function(e){var i=e.graphic,e=e.shapeArgs;i&&(i.attr({r:t.center[3]/2,start:n,end:n}),i.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t){ki.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw()},generatePoints:function(){var e,t,i,n,o=0,r=this.options.ignoreHiddenPoint;for(ki.prototype.generatePoints.call(this),t=this.points,i=t.length,e=0;i>e;e++)n=t[e],o+=r&&!n.visible?0:n.y;for(this.total=o,e=0;i>e;e++)n=t[e],n.percentage=o>0?n.y/o*100:0,n.total=o},getCenter:function(){var e,t,n=this.options,o=this.chart,r=2*(n.slicedOffset||0),s=o.plotWidth-2*r,a=o.plotHeight-2*r,o=n.center,n=[p(o[0],"50%"),p(o[1],"50%"),n.size||"100%",n.innerSize||0],l=vt(s,a);return si(n,function(n,o){return t=/%$/.test(n),e=2>o||2===o&&t,(t?[s,a,l,l][o]*i(n)/100:n)+(e?r:0)})},translate:function(e){this.generatePoints();var t,i,n,o,r,s=0,a=this.options,l=a.slicedOffset,c=l+a.borderWidth,u=a.startAngle||0,h=this.startAngleRad=_t/180*(u-90),u=(this.endAngleRad=_t/180*((a.endAngle||u+360)-90))-h,d=this.points,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=d.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,i){return n=dt.asin((t-e[1])/(e[2]/2+p)),e[0]+(i?-1:1)*yt(n)*(e[2]/2+p)},o=0;f>o;o++)r=d[o],t=h+s*u,(!a||r.visible)&&(s+=r.percentage/100),i=h+s*u,r.shapeType="arc",r.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:pt(1e3*t)/1e3,end:pt(1e3*i)/1e3},n=(i+t)/2,n>.75*u&&(n-=2*_t),r.slicedTranslation={translateX:pt(yt(n)*l),translateY:pt(xt(n)*l)},t=yt(n)*e[2]/2,i=xt(n)*e[2]/2,r.tooltipPos=[e[0]+.7*t,e[1]+.7*i],r.half=-_t/2>n||n>_t/2?1:0,r.angle=n,c=vt(c,p/2),r.labelPos=[e[0]+t+yt(n)*p,e[1]+i+xt(n)*p,e[0]+t+yt(n)*c,e[1]+i+xt(n)*c,e[0]+t,e[1]+i,0>p?"center":r.half?"right":"left",n]},setTooltipPoints:Ft,drawGraph:null,drawPoints:function(){var t,i,n,o,r=this,s=r.chart.renderer,a=r.options.shadow;a&&!r.shadowGroup&&(r.shadowGroup=s.g("shadow").add(r.group)),ni(r.points,function(l){i=l.graphic,o=l.shapeArgs,n=l.shadowGroup,a&&!n&&(n=l.shadowGroup=s.g("shadow").add(r.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),i?i.animate(e(o,t)):l.graphic=i=s.arc(o).setRadialReference(r.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(r.group).shadow(a,n),l.visible===!1&&l.setVisible(!1)})},sortByAngle:function(e,t){e.sort(function(e,i){return e.angle!==void 0&&(i.angle-e.angle)*t})},drawDataLabels:function(){var e,t,i,n,o,r,s,a,l,c,u,h,d=this,f=d.data,m=d.chart,g=d.options.dataLabels,v=p(g.connectorPadding,10),b=p(g.connectorWidth,1),y=m.plotWidth,m=m.plotHeight,x=p(g.softConnector,!0),_=g.distance,w=d.center,k=w[2]/2,C=w[1],T=_>0,S=[[],[]],$=[0,0,0,0],E=function(e,t){return t.y-e.y};if(d.visible&&(g.enabled||d._hasPointLabels)){for(ki.prototype.drawDataLabels.apply(d),ni(f,function(e){e.dataLabel&&S[e.half].push(e)}),u=0;!s&&f[u];)s=f[u]&&f[u].dataLabel&&(f[u].dataLabel.getBBox().height||21),u++;for(u=2;u--;){var A,f=[],N=[],M=S[u],j=M.length;if(d.sortByAngle(M,u-.5),_>0){for(h=C-k-_;C+k+_>=h;h+=s)f.push(h);if(o=f.length,j>o){for(e=[].concat(M),e.sort(E),h=j;h--;)e[h].rank=h;for(h=j;h--;)M[h].rank>=o&&M.splice(h,1);j=M.length}for(h=0;j>h;h++){e=M[h],r=e.labelPos,e=9999;var I,L;for(L=0;o>L;L++)I=bt(f[L]-r[1]),e>I&&(e=I,A=L);if(h>A&&f[h]!==null)A=h;else for(j-h+A>o&&f[h]!==null&&(A=o-j+h);f[A]===null;)A++;N.push({i:A,y:f[A]}),f[A]=null}N.sort(E)}for(h=0;j>h;h++)e=M[h],r=e.labelPos,n=e.dataLabel,c=e.visible===!1?"hidden":"visible",e=r[1],_>0?(o=N.pop(),A=o.i,l=o.y,(e>l&&f[A+1]!==null||l>e&&f[A-1]!==null)&&(l=e)):l=e,a=g.justify?w[0]+(u?-1:1)*(k+_):d.getX(0===A||A===f.length-1?e:l,u),n._attr={visibility:c,align:r[6]},n._pos={x:a+g.x+({left:v,right:-v}[r[6]]||0),y:l+g.y-10},n.connX=a,n.connY=l,this.options.size===null&&(o=n.width,v>a-o?$[3]=gt(pt(o-a+v),$[3]):a+o>y-v&&($[1]=gt(pt(a+o-y+v),$[1])),0>l-s/2?$[0]=gt(pt(-l+s/2),$[0]):l+s/2>m&&($[2]=gt(pt(l+s/2-m),$[2])))}(D($)===0||this.verifyDataLabelOverflow($))&&(this.placeDataLabels(),T&&b&&ni(this.points,function(e){t=e.connector,r=e.labelPos,(n=e.dataLabel)&&n._pos?(c=n._attr.visibility,a=n.connX,l=n.connY,i=x?["M",a+(r[6]==="left"?5:-5),l,"C",a,l,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",a+(r[6]==="left"?5:-5),l,"L",r[2],r[3],"L",r[4],r[5]],t?(t.animate({d:i}),t.attr("visibility",c)):e.connector=t=d.chart.renderer.path(i).attr({"stroke-width":b,stroke:g.connectorColor||e.color||"#606060",visibility:c}).add(d.group)):t&&(e.connector=t.destroy())}))}},verifyDataLabelOverflow:function(e){var t,i=this.center,n=this.options,o=n.center,r=n=n.minSize||80;return o[0]!==null?r=gt(i[2]-gt(e[1],e[3]),n):(r=gt(i[2]-e[1]-e[3],n),i[0]+=(e[3]-e[1])/2),o[1]!==null?r=gt(vt(r,i[2]-gt(e[0],e[2])),n):(r=gt(vt(r,i[2]-e[0]-e[2]),n),i[1]+=(e[0]-e[2])/2),r<i[2]?(i[2]=r,this.translate(i),ni(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels()):t=!0,t},placeDataLabels:function(){ni(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},alignDataLabel:Ft,drawTracker:yi.prototype.drawTracker,drawLegendSymbol:Jt.prototype.drawLegendSymbol,getSymbol:Ft},Zt=g(ki,Zt),Qt.pie=Zt,e(Highcharts,{Axis:O,Chart:q,Color:vi,Legend:B,Pointer:H,Point:wi,Tick:P,Tooltip:z,Renderer:G,Series:ki,SVGElement:L,SVGRenderer:bi,arrayMin:$,arrayMax:D,charts:Rt,dateFormat:V,format:x,pathAnim:K,getOptions:function(){return X},hasBidiBug:Mt,isTouchDevice:Et,numberFormat:v,seriesTypes:Qt,setOptions:function(e){return X=t(X,e),I(),X},addEvent:ai,removeEvent:li,createElement:m,discardElement:A,css:f,each:ni,extend:e,map:si,merge:t,pick:p,splat:d,extendClass:g,pInt:i,wrap:y,svg:Nt,canvas:jt,vml:!Nt&&!jt,product:"Highcharts",version:"3.0.7"})}(),function(e){var t=e.each,i=function(e,t){this.init(e,t)};e.extend(i.prototype,{init:function(e,t){this.options=e,this.chartOptions=t,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var i=this.chartOptions,n=i&&i.chart&&i.chart.type,o=[];t(i&&i.series||[],function(t){o.push((e.seriesTypes[t.type||n||"line"].prototype.pointArrayMap||[0]).length)}),this.valueCount={global:(e.seriesTypes[n||"line"].prototype.pointArrayMap||[0]).length,individual:o}},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var e=this,i=this.options,n=i.csv,o=this.columns,r=i.startRow||0,s=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE,c=0;n&&(n=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(i.lineDelimiter||"\n"),t(n,function(n,u){var h=e.trim(n),d=h.indexOf("#")===0;u>=r&&s>=u&&!d&&""!==h&&(h=n.split(i.itemDelimiter||","),t(h,function(e,t){t>=a&&l>=t&&(o[t-a]||(o[t-a]=[]),o[t-a][c]=e)}),c+=1)}),this.dataFound())},parseTable:function(){var e,i=this.options,n=i.table,o=this.columns,r=i.startRow||0,s=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;n&&("string"==typeof n&&(n=document.getElementById(n)),t(n.getElementsByTagName("tr"),function(i,n){e=0,n>=r&&s>=n&&t(i.childNodes,function(t){(t.tagName==="TD"||t.tagName==="TH")&&e>=a&&l>=e&&(o[e]||(o[e]=[]),o[e][n-r]=t.innerHTML,e+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var e,t,i=this,n=this.options,o=n.googleSpreadsheetKey,r=this.columns,s=n.startRow||0,a=n.endRow||Number.MAX_VALUE,l=n.startColumn||0,c=n.endColumn||Number.MAX_VALUE;o&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+o+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(n){var o,u,n=n.feed.entry,h=n.length,d=0,p=0;for(u=0;h>u;u++)o=n[u],d=Math.max(d,o.gs$cell.col),p=Math.max(p,o.gs$cell.row);for(u=0;d>u;u++)u>=l&&c>=u&&(r[u-l]=[],r[u-l].length=Math.min(p,a-s));for(u=0;h>u;u++)o=n[u],e=o.gs$cell.row-1,t=o.gs$cell.col-1,t>=l&&c>=t&&e>=s&&a>=e&&(r[t-l][e-s]=o.content.$t);i.dataFound()})},findHeaderRow:function(){t(this.columns,function(){}),this.headerRow=0},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):e},parseTypes:function(){for(var e,t,i,n,o=this.columns,r=o.length;r--;)for(e=o[r].length;e--;)t=o[r][e],i=parseFloat(t),n=this.trim(t),n==i?(o[r][e]=i,i>31536e6?o[r].isDatetime=!0:o[r].isNumeric=!0):(t=this.parseDate(t),0!==r||"number"!=typeof t||isNaN(t)?o[r][e]=""===n?null:n:(o[r][e]=t,o[r].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(e){return Date.UTC(+e[1],e[2]-1,+e[3])}}},parseDate:function(e){var t,i,n,o=this.options.parseDate;if(o&&(t=o(e)),"string"==typeof e)for(i in this.dateFormats)o=this.dateFormats[i],(n=e.match(o.regex))&&(t=o.parser(n));return t},rowsToColumns:function(e){var t,i,n,o,r;if(e)for(r=[],i=e.length,t=0;i>t;t++)for(o=e[t].length,n=0;o>n;n++)r[n]||(r[n]=[]),r[n][t]=e[t][n];return r},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var t,i,n,o,r,s,a,l,c=this.columns,u=this.options;if(u.complete){for(this.getColumnDistribution(),c.length>1&&(t=c.shift(),this.headerRow===0&&t.shift(),t.isDatetime?i="datetime":t.isNumeric||(i="category")),s=0;s<c.length;s++)this.headerRow===0&&(c[s].name=c[s].shift());for(o=[],s=0,l=0;s<c.length;l++){for(n=e.pick(this.valueCount.individual[l],this.valueCount.global),r=[],a=0;a<c[s].length;a++)r[a]=[t[a],c[s][a]!==void 0?c[s][a]:null],n>1&&r[a].push(c[s+1][a]!==void 0?c[s+1][a]:null),n>2&&r[a].push(c[s+2][a]!==void 0?c[s+2][a]:null),n>3&&r[a].push(c[s+3][a]!==void 0?c[s+3][a]:null),n>4&&r[a].push(c[s+4][a]!==void 0?c[s+4][a]:null);o[l]={name:c[s].name,data:r},s+=n}u.complete({xAxis:{type:i},series:o})}}}),e.Data=i,e.data=function(e,t){return new i(e,t)},e.wrap(e.Chart.prototype,"init",function(i,n,o){var r=this;n&&n.data?e.data(e.extend(n.data,{complete:function(s){n.series&&t(n.series,function(t,i){n.series[i]=e.merge(t,s.series[i])}),n=e.merge(s,n),i.call(r,n,o)}}),n):i.call(r,n,o)})}(Highcharts),function(){this.Tree={init:function(){var e;return e=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0,$(".tree-holder").length>0&&(e&&Tree.initTreeSlide(),Tree.initTreeCommit()),Tree.highlightBlobLines(),$(window).on("hashchange",Tree.highlightBlobLines),$(document).on("click",".line-numbers a",Tree.multiSelectLines)},fetchReplacement:function(e){return $.ajax({url:e,dataType:"script",beforeSend:function(){return $(".tree_progress").show()},complete:function(){return $(".tree_progress").hide()}})},initTreeSlide:function(){return $(".tree-holder, .breadcrumb_path").on("click",".repo-name, .tree-item-file-name a",function(e){return e.preventDefault(),window.history.pushState({cache:!0},null,$(this).attr("href")),Tree.fetchReplacement(window.location.href)}),window.history.pushState({cache:!0},null,window.location.href),$(".tree-holder").on("click","div.tree-item",function(e){return alreadyContext?e.preventDefault():$(e.target).is("a")||$(e.target).parent().is("a")?void 0:$(this).find(".tree-item-file-name a").trigger("click")}),setTimeout(function(){return window.addEventListener("popstate",function(e){var t;return location.hash.indexOf("#")!==-1?!1:(e.state===null&&history.go(-1),((t=e.state)!=null?t.cache:void 0)?Tree.fetchReplacement(window.location.href):void 0)},!1)},1e3)},initTreeCommit:function(){var e;return e=$(".tree-content-holder .tree-content").data("logs-path"),e?$.ajax({url:e,dataType:"script",complete:function(){return $(".tree-content-holder .tree-content").removeData("logs-path")}}):void 0},highlightBlobLines:function(e){var t,i,n,o,r;if(window.location.hash!==""&&(o=window.location.hash.match(/\#L(\d+)(\-L?(\d+))?/),t=parseInt(null!=o?o[1]:void 0),i=parseInt(null!=o?o[3]:void 0),!isNaN(t))){for(isNaN(i)&&(i=t),$(".tree-content-holder .highlight .line").removeClass("hll"),n=r=t;i>=t?i>=r:r>=i;n=i>=t?++r:--r)$("#LC"+n).addClass("hll");if(!e)return $("#L"+t).ScrollTo()}},multiSelectLines:function(e){var t,i,n,o,r,s,a;return!event.shiftKey||!$("pre div[class='line hll']")||(o=window.location.hash.match(/\#L(\d+)(?:\-L?(\d+))?/),s=parseInt(null!=o?o[1]:void 0),n=parseInt(null!=o?o[2]:void 0),i=parseInt((a=$(this).attr("href").match(/\#L(\d+)$/))!=null?a[1]:void 0),isNaN(s)&&isNaN(i)||(t=isNaN(n)?s:Math.min(s,n),t===i))?void 0:(r=i>t?"#L"+t+"-"+i:"#L"+i+"-"+t,window.location.hash=r,e.preventDefault())},initHighlightTheme:function(e){return $(".highlight").each(function(){var t,i;return i=$(this).parent("div"),t=i.hasClass("lines")?"lines "+e:e,i.attr("class",t)})}}}.call(this),/*!
 * toc - jQuery Table of Contents Plugin
 * v0.3.2
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2014
 * MIT License
 */
!function(e){e.fn.smoothScroller=function(t){t=e.extend({},e.fn.smoothScroller.defaults,t);var i=e(this);return e(t.scrollEl).animate({scrollTop:i.offset().top-e(t.scrollEl).offset().top-t.offset},t.speed,t.ease,function(){var e=i.attr("id");e.length&&(history.pushState?history.pushState(null,null,"#"+e):document.location.hash=e),i.trigger("smoothScrollerComplete")}),this},e.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0},e("body").on("click","[data-smoothscroller]",function(t){t.preventDefault();var i=e(this).attr("href");0===i.indexOf("#")&&e(i).smoothScroller()})}(jQuery),function(e){var t={};e.fn.toc=function(t){var i,n=this,o=e.extend({},jQuery.fn.toc.defaults,t),r=e(o.container),s=e(o.selectors,r),a=[],l=o.activeClass,c=function(t,i){if(o.smoothScrolling&&"function"==typeof o.smoothScrolling){t.preventDefault();var r=e(t.target).attr("href");o.smoothScrolling(r,o,i)}e("li",n).removeClass(l),e(t.target).parent().addClass(l)},u=function(){i&&clearTimeout(i),i=setTimeout(function(){for(var t,i=e(window).scrollTop(),r=Number.MAX_VALUE,s=0,c=0,u=a.length;u>c;c++){var h=Math.abs(a[c]-i);r>h&&(s=c,r=h)}e("li",n).removeClass(l),t=e("li:eq("+s+")",n).addClass(l),o.onHighlight(t)},50)};return o.highlightOnScroll&&(e(window).bind("scroll",u),u()),this.each(function(){var t=e(this),i=e(o.listType);s.each(function(n,r){var s=e(r);a.push(s.offset().top-o.highlightOffset);var l=o.anchorName(n,r,o.prefix);r.id!==l&&e("<span/>").attr("id",l).insertBefore(s);var h=e("<a/>").text(o.headerText(n,r,s)).attr("href","#"+l).bind("click",function(i){e(window).unbind("scroll",u),c(i,function(){e(window).bind("scroll",u)}),t.trigger("selected",e(this).attr("href"))}),d=e("<li/>").addClass(o.itemClass(n,r,s,o.prefix)).append(h);i.append(d)}),t.html(i)})},jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(t,i,n){e(t).smoothScroller({offset:i.scrollToOffset}).on("smoothScrollerComplete",function(){n()})},scrollToOffset:0,prefix:"",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(i,n){if(n.id.length)return n.id;var o=e(n).text();if(t[o]){for(var r=2;t[o+r];)r++;o=o+"-"+r}return t[o]=!0,o},headerText:function(e,t,i){return i.text()},itemClass:function(e,t,i,n){return n+"-"+i[0].tagName.toLowerCase()}}}(jQuery),function(e){var t={debugOn:!1,markupCreated:!1,markup:"",attachEvents:function(i){e("#gollum-dialog-action-ok").click(function(e){t.eventOK(e,i)}),e("#gollum-dialog-action-cancel").click(t.eventCancel),e('#gollum-dialog-dialog input[type="text"]').keydown(function(e){e.keyCode==13&&t.eventOK(e,i)})},detachEvents:function(){e("#gollum-dialog-action-ok").unbind("click"),e("#gollum-dialog-action-cancel").unbind("click")},createFieldMarkup:function(e){for(var i="<fieldset>",n=0;n<e.length;n++)if(typeof e[n]=="object"){switch(i+='<div class="field">',e[n].type){case"text":i+=t.createFieldText(e[n]);break;case"file":i+=t.createFieldFile(e[n])}i+="</div>"}return i+="</fieldset>"},createFieldText:function(e){var t="";return e.name&&(t+="<label",e.id&&(t+=' for="gollum-dialog-dialog-generated-field-'+e.id+'"'),t+=">"+e.name+"</label>"),t+='<input type="text"',e.id&&(t+=' name="'+e.id+'"',e.type=="code"&&(t+=' class="code"'),e.defaultValue&&(t+=' value="'+e.defaultValue.split('"').join("&quot;")+'"'),t+=' id="gollum-dialog-dialog-generated-field-'+e.id+'">'),e.context&&(t+='<span class="context">'+e.context+"</span>"),t},createFieldFile:function(e){var t="",i=e.id||"upload",n=e.name||"file",o=e.action||"/uploadFile";return t+='<form method=post enctype="multipart/form-data" action="'+o+'" '+'id="'+i+'">',t+='<input type=file name="'+n+'">',t+="</form>",e.context&&(t+='<span class="context">'+e.context+"</span>"),t},createMarkup:function(i,n){return t.markupCreated=!0,e.facebox?'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-title"><h4>'+i+"</h4></div>"+'<div id="gollum-dialog-dialog-body">'+n+"</div>"+'<div id="gollum-dialog-dialog-buttons">'+'<a href="#" title="Cancel" id="gollum-dialog-action-cancel" '+'class="gollum-minibutton">取消</a>'+'<a href="#" title="OK" id="gollum-dialog-action-ok" '+'class="gollum-minibutton">确定</a>'+"</div>"+"</div>":'<div id="gollum-dialog-dialog"><div id="gollum-dialog-dialog-inner"><div id="gollum-dialog-dialog-bg"><div id="gollum-dialog-dialog-title"><h4>'+i+"</h4></div>"+'<div id="gollum-dialog-dialog-body">'+n+"</div>"+'<div id="gollum-dialog-dialog-buttons">'+'<a href="#" title="Cancel" id="gollum-dialog-action-cancel" '+'class="minibutton">取消</a>'+'<a href="#" title="OK" id="gollum-dialog-action-ok" '+'class="minibutton">确定</a>'+"</div>"+"</div>"+"</div>"+"</div>"},eventCancel:function(e){e.preventDefault(),i("Cancelled dialog."),t.hide()},eventOK:function(i,n){i.preventDefault();var o=[];e("#gollum-dialog-dialog-body input").each(function(){o[e(this).attr("name")]=e(this).val()}),n&&"function"==typeof n&&n(o),t.hide()},hide:function(){e.facebox?(t.markupCreated=!1,e(document).trigger("close.facebox"),t.detachEvents()):e.browser.msie?(e("#gollum-dialog-dialog").hide().removeClass("active"),e("select").css("visibility","visible")):(e("#gollum-dialog-dialog").css("display","none"),e("#gollum-dialog-dialog").animate({opacity:0},{duration:200,complete:function(){e("#gollum-dialog-dialog").removeClass("active")}}))},init:function(n){var o="",r="";return n&&"object"==typeof n?(n.body&&typeof n.body=="string"&&(r="<p>"+n.body+"</p>"),n.fields&&typeof n.fields=="object"&&(r+=t.createFieldMarkup(n.fields)),n.title&&typeof n.title=="string"&&(o=n.title),t.markupCreated&&(e.facebox?e(document).trigger("close.facebox"):e("#gollum-dialog-dialog").remove()),t.markup=t.createMarkup(o,r),e.facebox?e(document).bind("reveal.facebox",function(){n.OK&&typeof n.OK=="function"&&(t.attachEvents(n.OK),e(e('#facebox input[type="text"]').get(0)).focus())}):(e("body").append(t.markup),n.OK&&typeof n.OK=="function"&&t.attachEvents(n.OK)),t.show(),void 0):(i("Editor Dialog: Cannot init; invalid init object"),void 0)},show:function(){t.markupCreated?(i("Showing dialog"),e.facebox?e.facebox(t.markup):e.browser.msie?(e("#gollum-dialog.dialog").addClass("active"),t.position(),e("select").css("visibility","hidden")):(e("#gollum-dialog.dialog").css("display","none"),e("#gollum-dialog-dialog").animate({opacity:0},{duration:0,complete:function(){e("#gollum-dialog-dialog").css("display","block"),t.position(),e("#gollum-dialog-dialog").animate({opacity:1},{duration:500}),e(e('#gollum-dialog-dialog input[type="text"]').get(0)).focus()}}))):i("Dialog: No markup to show. Please use init first.")},position:function(){var t=e("#gollum-dialog-dialog-inner").height();e("#gollum-dialog-dialog-inner").css("height",t+"px").css("margin-top",-1*parseInt(t/2))}};e.facebox&&e(document).bind("reveal.facebox",function(){e("#facebox img.close_image").remove()});var i=function(e){t.debugOn&&"undefined"!=typeof console&&console.log(e)};e.GollumDialog=t}(jQuery),$(document).ready(function(){$.GollumEditor()}),function(e){var t={MarkupType:"markdown",EditorMode:"code",NewFile:!1,HasFunctionBar:!0,Debug:!1,NoDefinitionsFor:[]},i={};e.GollumEditor=function(s){if(i=e.extend(t,s),n("GollumEditor loading"),r.baseEditorMarkup()&&(r.titleDisplayed()&&e("#gollum-editor-title-field").addClass("active"),r.editSummaryMarkup()&&(e.GollumEditor.Placeholder.add(e("#gollum-editor-edit-summary input")),e('#gollum-editor form[name="gollum-editor"]').submit(function(t){t.preventDefault(),n("submitting"),e(this).unbind("submit"),e(this).submit()})),r.collapsibleInputs()&&e("#gollum-editor .collapsed a.button, #gollum-editor .expanded a.button").click(function(t){t.preventDefault(),e(this).parent().toggleClass("expanded"),e(this).parent().toggleClass("collapsed")}),r.previewButton()&&e("#gollum-editor #gollum-editor-preview").click(function(){var t=e("#gollum-editor form").attr("action"),i=e(e("#gollum-editor form").get(0));i.attr("action",this.href||"/preview"),i.attr("target","_blank");var n=window.location.pathname.split("/");return i.attr("page",n[n.length-1]||""),i.submit(),i.attr("action",t),i.removeAttr("target"),!1}),r.functionBar())){var l=e("#gollum-editor-body").attr("data-markup-lang");l&&(i.MarkupType=l),o.setActiveLanguage(i.MarkupType),r.formatSelector()&&a.init(e("#gollum-editor-format-selector select")),r.help()&&(e("#gollum-editor-help").hide(),e("#gollum-editor-help").removeClass("jaws"))}},e.GollumEditor.defineLanguage=function(e,t){"object"==typeof t?o.define(e,t):n("GollumEditor.defineLanguage: definition for "+e+" is not an object")};var n=function(e){i.Debug&&"undefined"!=typeof console&&console.log(e)},o={_ACTIVE_LANG:"",_LOADED_LANGS:[],_LANG:{},define:function(t,i){if(o._ACTIVE_LANG=t,o._LOADED_LANGS.push(t),typeof e.GollumEditor.WikiLanguage=="object"){var n={};e.extend(n,e.GollumEditor.WikiLanguage,i),o._LANG[t]=n}else o._LANG[t]=i},getActiveLanguage:function(){return o._ACTIVE_LANG},setActiveLanguage:function(t){o._ACTIVE_LANG!=null&&o._ACTIVE_LANG.length<=0&&a.updateCommitMessage(t),o.getHookFunctionFor("deactivate")&&o.getHookFunctionFor("deactivate")(),o.isLoadedFor(t)?(o._ACTIVE_LANG=t,s.refresh(),o.getHookFunctionFor("activate")&&o.getHookFunctionFor("activate")()):(o._ACTIVE_LANG=null,o.loadFor(t,function(i,l){function c(e,t){e.preventDefault();var i=o.getDefinitionFor(t);return"object"==typeof i&&s.executeAction(i),!1}"success"!=l&&(n("Failed to load language definition for "+t),o.define(t,{})),r.functionBar()&&s.refresh(),o.isValid()&&r.formatSelector()&&a.updateSelected(),o.getHookFunctionFor("activate")&&o.getHookFunctionFor("activate")(),Mousetrap.bind(["command+1","ctrl+1"],function(e){c(e,"function-h1")}),Mousetrap.bind(["command+2","ctrl+2"],function(e){c(e,"function-h2")}),Mousetrap.bind(["command+3","ctrl+3"],function(e){c(e,"function-h3")}),Mousetrap.bind(["command+b","ctrl+b"],function(e){c(e,"function-bold")}),Mousetrap.bind(["command+i","ctrl+i"],function(e){c(e,"function-italic")}),Mousetrap.bind(["command+s","ctrl+s"],function(t){return t.preventDefault(),e("#gollum-editor-submit").trigger("click"),!1})}))},getHookFunctionFor:function(e,t){return t||(t=o._ACTIVE_LANG),o.isLoadedFor(t)&&o._LANG[t][e]&&typeof o._LANG[t][e]=="function"?o._LANG[t][e]:null},getDefinitionFor:function(e,t){return t||(t=o._ACTIVE_LANG),o.isLoadedFor(t)&&o._LANG[t][e]&&typeof o._LANG[t][e]=="object"?o._LANG[t][e]:null},loadFor:function(t,n){if(i.NoDefinitionsFor.length)for(var o=0;o<i.NoDefinitionsFor.length;o++)if(t==i.NoDefinitionsFor[o]&&"function"==typeof n)return n(null,"error"),void 0;var r=baseUrl+"/javascript/editor/langs/"+t+".js";e.ajax({url:r,dataType:"script",complete:function(e,t){"function"==typeof n&&n(e,t)}})},isLoadedFor:function(e){if(o._LOADED_LANGS.length===0)return!1;for(var t=0;t<o._LOADED_LANGS.length;t++)if(o._LOADED_LANGS[t]==e)return!0;return!1},isValid:function(){return o._ACTIVE_LANG&&typeof o._LANG[o._ACTIVE_LANG]=="object"}},r={baseEditorMarkup:function(){return e("#gollum-editor").length&&e("#gollum-editor-body").length},collapsibleInputs:function(){return e("#gollum-editor .collapsed, #gollum-editor .expanded").length},formatSelector:function(){return e("#gollum-editor-format-selector select").length},functionBar:function(){return i.HasFunctionBar&&e("#gollum-editor-function-bar").length},ff4Environment:function(){var e=new RegExp(/Firefox\/4.0b/);return e.test(navigator.userAgent)},editSummaryMarkup:function(){return e("input#gollum-editor-message-field").length>0},help:function(){return e("#gollum-editor #gollum-editor-help").length&&e("#gollum-editor #function-help").length},previewButton:function(){return e("#gollum-editor #gollum-editor-preview").length},titleDisplayed:function(){return i.NewFile}},s={isActive:!1,activate:function(){n("Activating function bar"),e("#gollum-editor-function-bar a.function-button").each(function(){o.getDefinitionFor(e(this).attr("id"))?(e(this).click(s.evtFunctionButtonClick),e(this).removeClass("disabled")):e(this).attr("id")!="function-help"&&e(this).addClass("disabled")}),e("#gollum-editor-function-bar").addClass("active"),s.isActive=!0},deactivate:function(){e("#gollum-editor-function-bar a.function-button").unbind("click"),e("#gollum-editor-function-bar").removeClass("active"),s.isActive=!1},evtFunctionButtonClick:function(t){t.preventDefault();var i=o.getDefinitionFor(e(this).attr("id"));"object"==typeof i&&s.executeAction(i)},executeAction:function(t){var i=e("#gollum-editor-body").val();s.getFieldSelectionPosition(e("#gollum-editor-body"));var o=s.getFieldSelection(e("#gollum-editor-body")),r=o,a=!0,l=null;if(t.exec&&typeof t.exec=="function")return t.exec(i,o,e("#gollum-editor-body")),void 0;var c=/([^\n]+)/gi;if(t.search&&typeof t.search=="object"&&(n("Replacing search Regex"),c=null,c=new RegExp(t.search),n(c)),n('repText is "'+r+'"'),t.replace&&typeof t.replace=="string"){n("Running replacement - using "+t.replace);var u=t.replace;r=r.replace(c,u),r=r.replace(/\$[\d]/g,""),""===r&&(n("Search string is empty"),l=u.indexOf("$1"),r=u.replace(/\$[\d]/g,""),-1==l&&(l=Math.floor(u.length/2)))}t.append&&typeof t.append=="string"&&(r==o&&(a=!1),r+=t.append),r&&s.replaceFieldSelection(e("#gollum-editor-body"),r,a,l)},getFieldSelectionPosition:function(e){if(e.length){var t=0,i=0,o=e.get(0);if(typeof o.selectionStart=="number"&&typeof o.selectionEnd=="number")t=o.selectionStart,i=o.selectionEnd;else{var r=document.selection.createRange(),s=r.duplicate();s.moveToElementText(o),s.setEndPoint("EndToEnd",r),t=s.text.length-r.text.length,i=t+r.text.length;var a,l=t,c=0;for(n("IE: start position is currently "+l),a=0;l>a;a++)o.value.charAt(a).match(/\r/)&&++c;c&&(n("IE start: compensating for "+c+" line breaks"),t-=c,c=0);var u=i;for(a=0;u>a;a++)o.value.charAt(a).match(/\r/)&&++c;c&&(n("IE end: compensating for "+c+" line breaks"),i-=c)}return{start:t,end:i}}},getFieldSelection:function(e){var t,i="";return e.length?(t=s.getFieldSelectionPosition(e),i=e.val().substring(t.start,t.end),n("Selected: "+i+" ("+t.start+", "+t.end+")"),i):!1},isShown:function(){return e("#gollum-editor-function-bar").is(":visible")},refresh:function(){r.functionBar()&&(n("Refreshing function bar"),o.isValid()?(e("#gollum-editor-function-bar a.function-button").unbind("click"),s.activate(),l&&l.setActiveHelp(o.getActiveLanguage())):(n("Language definition is invalid."),s.isShown()&&s.deactivate(),l.isShown()&&l.hide()))},replaceFieldSelection:function(e,t,i,n){var o=s.getFieldSelectionPosition(e),r=e.val(),a=!0;i===!1&&(a=!1);var l=null;if(e[0].scrollTop&&(l=e[0].scrollTop),e.val(r.substring(0,o.start)+t+r.substring(o.end)),e[0].focus(),a)if(e[0].setSelectionRange)n?e[0].setSelectionRange(o.start+n,o.start+n):e[0].setSelectionRange(o.start,o.start+t.length);else if(e[0].createTextRange){var c=e[0].createTextRange();c.collapse(!0),n?(c.moveEnd(o.start+n),c.moveStart(o.start+n)):(c.moveEnd("character",o.start+t.length),c.moveStart("character",o.start)),c.select()}l&&(e[0].scrollTop=l)}},a={$_SELECTOR:null,evtChangeFormat:function(){var t=e(this).val();a.updateCommitMessage(t),o.setActiveLanguage(t)},updateCommitMessage:function(e){var t=document.getElementById("gollum-editor-message-field"),i=t.value;/^(?:created|updated)/i.test(i)&&(t.value=i.replace(/\([^\)]*\)$/,"("+e+")"))},init:function(e){n("Initializing format selector"),a.$_SELECTOR&&typeof a.$_SELECTOR=="object"&&a.$_SELECTOR.unbind("change"),a.$_SELECTOR=e,a.updateSelected(),a.$_SELECTOR.change(a.evtChangeFormat)},updateSelected:function(){var e=o.getActiveLanguage();a.$_SELECTOR.val(e)}},l={_ACTIVE_HELP:"",_LOADED_HELP_LANGS:[],_HELP:{},define:function(t,i){l.isValidHelpFormat(i)?(n("help is a valid format"),l._ACTIVE_HELP_LANG=t,l._LOADED_HELP_LANGS.push(t),l._HELP[t]=i,e("#function-help").length&&(e("#function-help").hasClass("disabled")&&e("#function-help").removeClass("disabled"),e("#function-help").unbind("click"),e("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(t),e("#gollum-editor-help").length&&typeof e("#gollum-editor-help").attr("data-autodisplay")!="undefined"&&e("#gollum-editor-help").attr("data-autodisplay")==="true"&&l.show())):e("#function-help").length&&e("#function-help").addClass("disabled")},generateHelpMenuFor:function(t){if(!l._HELP[t])return n("Help is not defined for "+t.toString()),!1;var i=l._HELP[t];e("#gollum-editor-help-parent").html(""),e("#gollum-editor-help-list").html(""),e("#gollum-editor-help-content").html("");for(var o=0;o<i.length&&typeof i[o]=="object";o++){var r=e('<li><a href="#" rel="'+o+'">'+i[o].menuName+"</a></li>");e("#gollum-editor-help-parent").append(r),0===o&&r.children("a").addClass("selected"),r.children("a").click(l.evtParentMenuClick)}l.generateSubMenu(i[0],0),e(e("#gollum-editor-help-list li a").get(0)).click()},generateSubMenu:function(t,i){e("#gollum-editor-help-list").html(""),e("#gollum-editor-help-content").html("");for(var n=0;n<t.content.length&&typeof t.content[n]=="object";n++){var o=e('<li><a href="#" rel="'+i+":"+n+'">'+t.content[n].menuName+"</a></li>");e("#gollum-editor-help-list").append(o),o.children("a").click(l.evtSubMenuClick)}},hide:function(){e.browser.msie?e("#gollum-editor-help").css("display","none"):e("#gollum-editor-help").animate({opacity:0},200,function(){e("#gollum-editor-help").animate({height:"hide"},200)})},show:function(){e.browser.msie?e("#gollum-editor-help").css("display","block"):e("#gollum-editor-help").animate({height:"show"},200,function(){e("#gollum-editor-help").animate({opacity:1},300)})},showHelpFor:function(t,i){var n=l._HELP[l._ACTIVE_HELP_LANG][t].content[i].data;e("#gollum-editor-help-content").html(n)},isLoadedFor:function(e){for(var t=0;t<l._LOADED_HELP_LANGS.length;t++)if(e==l._LOADED_HELP_LANGS[t])return!0;return!1},isShown:function(){return e("#gollum-editor-help").is(":visible")},isValidHelpFormat:function(e){return"object"==typeof e&&e.length&&typeof e[0].menuName=="string"&&typeof e[0].content=="object"&&e[0].content.length},setActiveHelp:function(t){l.isLoadedFor(t)?(l._ACTIVE_HELP_LANG=t,e("#function-help").length&&(e("#function-help").hasClass("disabled")&&e("#function-help").removeClass("disabled"),e("#function-help").unbind("click"),e("#function-help").click(l.evtHelpButtonClick),l.generateHelpMenuFor(t))):(e("#function-help").length&&e("#function-help").addClass("disabled"),l.isShown()&&l.hide())},evtHelpButtonClick:function(t){t.preventDefault(),l.isShown()?(e("#gollum-editor-help").length&&e("#gollum-editor-help").attr("data-autodisplay")!=="undefined"&&e("#gollum-editor-help").attr("data-autodisplay")==="true"&&(e.post("/wiki/help?_method=delete"),e("#gollum-editor-help").attr("data-autodisplay","")),l.hide()):l.show()},evtParentMenuClick:function(t){if(t.preventDefault(),!e(this).hasClass("selected")){var i=e(this).attr("rel"),n=l._HELP[l._ACTIVE_HELP_LANG][i];e("#gollum-editor-help-parent li a").removeClass("selected"),e(this).addClass("selected"),l.generateSubMenu(n,i),e(e("#gollum-editor-help-list li a").get(0)).click()}},evtSubMenuClick:function(t){if(t.preventDefault(),!e(this).hasClass("selected")){var i=e(this).attr("rel").split(":");e("#gollum-editor-help-list li a").removeClass("selected"),e(this).addClass("selected"),l.showHelpFor(i[0],i[1])}}};e.GollumEditor.defineHelp=l.define,e.GollumEditor.Dialog=e.GollumDialog,e.GollumEditor.replaceSelection=function(t){s.replaceFieldSelection(e("#gollum-editor-body"),t)},e.GollumEditor.Placeholder=e.GollumPlaceholder}(jQuery),$(document).ready(function(){$("#delete-link").click(function(e){var t=confirm($(this).data("confirm"));if(t){var i=baseUrl+"/delete/"+pageFullPath;window.location=i}e.preventDefault()});var e={node1:null,node2:null,selectNodeRange:function(){if(e.node1&&e.node2){if($("#wiki-history td.selected").removeClass("selected"),e.node1.addClass("selected"),e.node2.addClass("selected"),e.nodeComesAfter(e.node1,e.node2)){var t=e.node1;e.node1=e.node2,e.node2=t}for(var i=e.node1.next();i&&(i.addClass("selected"),i[0]!=e.node2[0]);)i=i.next()}},nodeComesAfter:function(e,t){var i=!1;return $(e).prevAll().each(function(){$(this)[0]==$(t)[0]&&(i=!0)}),i},checkNode:function(t){var i=t,n=$(t).parent().parent();i.is(":checked")?e.node1?e.node2?i[0].checked=!1:(e.node2=n,e.node2.addClass("selected"),e.selectNodeRange(e.node1,e.node2)):(e.node1=n,e.node1.addClass("selected")):($("#wiki-history tr.selected").each(function(){$(this).find("td.checkbox input").is(":checked")||$(this).removeClass("selected")}),n[0]==e.node1[0]?(e.node1=null,e.node2&&(e.node1=e.node2,e.node2=null)):n[0]==e.node2[0]&&(e.node2=null))}};if($.browser.mozilla?$("body").addClass("ff"):$.browser.webkit?$("body").addClass("webkit"):$.browser.msie&&($("body").addClass("ie"),$.browser.version=="7.0"?$("body").addClass("ie7"):$.browser.version=="8.0"&&$("body").addClass("ie8")),$("#minibutton-upload-page").length&&($("#minibutton-upload-page").parent().removeClass("jaws"),$("#minibutton-upload-page").click(function(e){e.preventDefault(),$.GollumDialog.init({title:"Upload File",fields:[{type:"file",context:"Your uploaded file will be accessible at /uploads/[filename]"}],OK:function(){$("#upload").submit()}})})),$("#minibutton-rename-page").length&&($("#minibutton-rename-page").parent().removeClass("jaws"),$("#minibutton-rename-page").click(function(e){e.preventDefault();var t=pagePath(),i=pageName(),n="Renamed page will be under <span class='path'>"+htmlEscape("/"+t)+"</span>"+" unless an absolute path is given.";$.GollumDialog.init({title:"Rename Page",fields:[{id:"name",name:"Rename to",type:"text",defaultValue:i||"",context:n}],OK:function(e){var n="Rename Page";e.name&&(n=e.name);var o=abspath(t,n),r=o[0],s="/"+t==r?"Renamed "+i+" to "+n:"Renamed "+i+" to "+o.join("/"),a=$("form[name=rename]");a.children("input[name=rename]").val(o.join("/")),a.children("input[name=message]").val(s),a.submit()}})})),$("#minibutton-new-page").length&&($("#minibutton-new-page").parent().removeClass("jaws"),$("#minibutton-new-page").click(function(e){e.preventDefault();var t=pagePath();void 0===t&&$("#file-browser").length!=0&&(t=""==baseUrl?window.location.pathname.substr(1):window.location.pathname.substr(baseUrl.length+1),t=t.replace(/^pages\/?/,""),t=t.replace(/\/$/,""));var i="Page will be created under <span class='path'>"+htmlEscape("/"+t)+"</span>"+" unless an absolute path is given.";$.GollumDialog.init({title:"Create New Page",fields:[{id:"name",name:"Page Name",type:"text",defaultValue:"",context:i}],OK:function(e){var i="New Page";e.name&&(i=e.name);for(var n=[],o=abspath(t,i).join("/").split("/"),r=0;r<o.length;r++)n.push(encodeURIComponent(o[r]));window.location=baseUrl+n.join("/")}})})),$("#wiki-wrapper").hasClass("history")&&($("#wiki-history td.checkbox input").each(function(){$(this).click(function(){e.checkNode($(this))}),$(this).is(":checked")&&e.checkNode($(this))}),$(".history a.action-compare-revision").length&&$(".history a.action-compare-revision").click(function(){$("#version-form").submit()})),$("#searchbar a#search-submit").length&&($.GollumPlaceholder.add($("#searchbar #search-query")),$("#searchbar a#search-submit").click(function(e){e.preventDefault(),$("#searchbar #search-form")[0].submit()}),$("#searchbar #search-form").submit(function(){$.GollumPlaceholder.clearAll(),$(this).unbind("submit"),$(this).submit()})),$("#gollum-revert-form").length&&$(".gollum-revert-button").length&&$("a.gollum-revert-button").click(function(e){e.preventDefault(),$("#gollum-revert-form").submit()}),$("#wiki-wrapper.edit").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will discard all edits!"}}),$.GollumEditor()),$("#wiki-wrapper.create").length&&($("#gollum-editor-submit").click(function(){window.onbeforeunload=null}),$("#gollum-editor-body").one("change",function(){window.onbeforeunload=function(){return"Leaving will not create a new page!"}}),$.GollumEditor({NewFile:!0,MarkupType:default_markup})),$("#wiki-history").length){var t={};$("img.identicon").each(function(e,i){var n=$(i),o=parseInt(n.data("identicon"),10),r=t[o];if(void 0===r){var s=$("<canvas width=16 height=16/>").get(0);render_identicon(s,o,16),r=s.toDataURL("image/png"),t[o]=r}n.attr("src",r)})}}),function(e){var t={_PLACEHOLDERS:[],_p:function(t){this.fieldObject=t,this.placeholderText=t.val();var i=t.val();t.addClass("ph"),t.blur(function(){e(this).val()==""&&(e(this).val(i),e(this).addClass("ph"))}),t.focus(function(){e(this).removeClass("ph"),e(this).val()==i?e(this).val(""):e(this)[0].select()})},add:function(e){t._PLACEHOLDERS.push(new t._p(e))},clearAll:function(){for(var e=0;e<t._PLACEHOLDERS.length;e++)t._PLACEHOLDERS[e].fieldObject.val()==t._PLACEHOLDERS[e].placeholderText&&t._PLACEHOLDERS[e].fieldObject.val("")},exists:function(){return _PLACEHOLDERS.length}};e.GollumPlaceholder=t}(jQuery),/*
 * jQuery Color Animations
 * Copyright 2007 John Resig
 * Released under the MIT and GPL licenses.
 */
function(e){function t(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:n[e.trim(t).toLowerCase()]}function i(i,n){var o;do{if(o=e.curCSS(i,n),""!=o&&"transparent"!=o||e.nodeName(i,"body"))break;n="backgroundColor"}while(i=i.parentNode);return t(o)}e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(n,o){e.fx.step[o]=function(e){e.state==0&&(e.start=i(e.elem,o),e.end=t(e.end)),e.elem.style[o]="rgb("+[Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0]),255),0),Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1]),255),0),Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2]),255),0)].join(",")+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){var t={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"+$1+$2"},"function-ul":{search:/(^[\n]+)([\n\s]*)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:". $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"----\n$1$2\n----\n"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(t){var i="";t.text&&t.href&&(i=t.href+"["+t.text+"]"),e.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){e.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(t){var i="";t.url&&t.alt&&(i="image::"+t.url+"["+t.alt+"]"),e.GollumEditor.replaceSelection(i)}})}}};e.GollumEditor.defineLanguage("asciidoc",t);var i=[{menuName:"Text Formatting",content:[{menuName:"Headers",data:"<p>ASCIIDoc headers can be written in two ways: with differing underlines or with different indentation using <code>=</code> (equals sign). ASCIIDoc supports headings 1-4. The editor will automatically use the <code>=</code> notation. To create a level one header, prefix your line with one <code>=</code>. Level two headers are created with <code>==</code> and so on.</p>"},{menuName:"Bold / Italic",data:"<p>To display text as <strong>bold</strong>, wrap the text in <code>*</code> (asterisks). To display text as <em>italic</em>, wrap the text in <code>_</code> (underscores). To create <code>monospace</code> text, wrap the text in <code>+</code> (plus signs)."},{menuName:"Scripts",data:"<p>Superscript and subscript is created the same way as other inline formats. To create superscript text, wrap your text in <code>^</code> (carats). To create subscript text, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Special Characters",data:"<p>ASCIIDoc will automatically convert textual representations of commonly-used special characters. For example, <code>(R)</code> becomes &reg;, <code>(C)</code> becomes &copy; and <code>(TM)</code> becomes &trade;.</p>"}]},{menuName:"Blocks",content:[{menuName:"Paragraphs",data:"<p>ASCIIDoc allows paragraphs to have optional titles or icons to denote special sections. To make a normal paragraph, simply add a line between blocks and a new paragraph will start. If you want to title your paragraphs, adda line prefixed by <code>.</code> (full stop). An example paragraph with optional title is displayed below:<br><br><code>.Optional Title<br><br>This is my paragraph. It is two sentences long.</code></p>"},{menuName:"Source Blocks",data:"<p>To create source blocks (long blocks of code), follow the same syntax as above but with an extra line denoting the inline source and lines of four dashes (<code>----</code>) delimiting the source block.. An example of Python source is below:<br><br><code>.python.py<br>[source,python]<br>----<br># i just wrote a comment in python<br># and maybe one more<br>----</code></p>"},{menuName:"Comment Blocks",data:"<p>Comment blocks are useful if you want to keep notes for yourself inline but do not want them displayed to the public. To create a comment block, simply wrap the paragraph in dividers with four slashes (<code>////</code>). An example comment block is below:<br><br><code>////<br>My comment block is here now<br><br>It can be multiple paragraphs. Really.<br>////</p>"},{menuName:"Quote Blocks",data:"<p>Quote blocks work much like comment blocks &mdash; simply create dividers using four underscores (<code>____</code>) around your quote. An example quote block is displayed below:<br><code>____<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>____</code></p>"}]},{menuName:"Macros",content:[{menuName:"Links",data:'<p>To create links to external pages, you can simply write the URI if you want the URI to link to itself. (i.e., <code>http://github.com/</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>. If you want different text to be displayed, simply append it to the end of the URI in between <code>[</code> (brackets.) For example, <code>http://github.com/[GitHub]</code> will be parsed as <a href="javascript:void(0);">GitHub</a>, with the URI pointing to <code>http://github.com</code>.</p>'},{menuName:"Images",data:"<p>Images in ASCIIDoc work much like hyperlinks, but image URLs are prefixed with <code>image:</code>. For example, to link to an image at <code>images/icons/home.png</code>, write <code>image:images/icons/home.png</code>. Alt text can be added by appending the text to the URI in <code>[</code> (brackets).</p>"}]}];e.GollumEditor.defineHelp("asciidoc",i)}(jQuery),function(e){var t={"function-bold":{search:/([^\n]+)([\n]*)/gi,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n]*)/gi,replace:"//$1//$2"},"function-code":{search:/([^\n]+)([\n]*)/gi,replace:"{{{$1}}}$2"},"function-hr":{append:"\n\n----\n\n"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(t){var i="[["+t.href+"|"+t.text+"]]";e.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){e.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(t){var i="";t.url&&t.alt&&(i="{{"+t.url,t.alt!=""&&(i+="|"+t.alt+"}}")),e.GollumEditor.replaceSelection(i)}})}}};e.GollumEditor.defineLanguage("creole",t)}(jQuery),function(e){var t={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"**$1**$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"`$1`$2"},"function-hr":{append:"\n***\n"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{exec:function(t,i){for(var n="",o=i.split("\n"),r=/[\w]+/,s=0;s<o.length;s++)r.test(o[s])&&(n+=(s+1).toString()+". "+o[s]+"\n");e.GollumEditor.replaceSelection(n)}},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"> $1$2"},"function-h1":{search:/(.+)([\n]?)/g,replace:"# $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"## $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"### $1$2"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"插入链接",fields:[{id:"text",name:"链接文字",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(t){var i="";t.text&&t.href&&(i="["+t.text+"]("+t.href+")"),e.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){e.GollumEditor.Dialog.init({title:"插入图片",fields:[{id:"url",name:"图片路径",type:"text"},{id:"alt",name:"Alt文字",type:"text"}],OK:function(t){var i="";t.url&&t.alt&&(i="!["+t.alt+"]"+"("+t.url+")"),e.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"区块元素",content:[{menuName:"段落与换行",data:"<p>创建一个段落, 由一个或多个连续的文本行组成。</p><p>换行只需输入两个以上的空格即可。</p>"},{menuName:"标题",data:"<p>一个<code>#</code> 代表h1，<code>##</code> 代表h2，<code>###</code> 代表h3。</p><p>例如：</p><p># 你好h1</p><p>注意# 后面的空格！</p>"},{menuName:"区块引用",data:"<p>区块用 <code>&gt;</code> 表示。每行一个 <code>&gt; </code>符号。</p><p>例如：</p><p>&gt; Hello,</p><p>&gt; 欢迎来到GIT@OSC</p><p>注意<code>&gt;</code> 后面有空格。</p>"},{menuName:"列表",data:"<p>支持有序或者无序的列表. 你可以使用 <code>*</code>, <code>+</code> or <code>-</code>.</p> 符号后面最多有4个空格或者一个tab."},{menuName:"代码块",data:"<p>建立代码区块很简单，只要简单地缩进 4 个空格或是 1 个制表符就可以</p>"},{menuName:"分隔线",data:"<p>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：</p><p>* * *</p><p>***</p><p>*****</p><p>- - -</p><p>---------------------------------------</p>"}]},{menuName:"区段元素",content:[{menuName:"链接",data:"<p>创建链接的方式很简单，如下格式：</p><p>[谷歌](http://www.google.com)</p>你也可以在编辑器中直接点击链接按钮创建。"},{menuName:"强调",data:"<p>使用星号（*）和底线（_）作为标记强调字词的符号，被 * 或 _ 包围的字词会被转成用 &lt;em&gt; 标签包围，用两个 * 或 _ 包起来的话，则会被转成 <code>&lt;strong&gt;</code></p><p>例如：</p><p>*single asterisks*</p><p>_single underscores_</p><p>**double asterisks**</p><p>__double underscores__</p></p>"},{menuName:"代码",data:"<p>需要包含代码时，使用 (<code>`</code>)符号包围. 例如： <code>`myFunction`</code></p>"},{menuName:"图片",data:"<p>添加图片非常简单，格式如下：<p><code>![谷歌logo](http://www.google.com/logo.jpg)</code></p></p>"}]},{menuName:"其他",content:[{menuName:"自动链接",data:'<p>如果你要创建一个简单的链接，可以使用 <code>&lt;</code> and <code>&gt;</code> 包围. 例如 <a href="javascript:void(0);">http://git.oschina.net/</a> 写成 <code>&lt;http://git.oschina.net/&gt;</code>.</p>'},{menuName:"反斜杠",data:"<p>当我们只是想输出某个符号的时候，比如 +，*，#，我们可以在符号前面加入<code>\\</code>, 保持显示你想要的符号。</p><p>例如：如果你想要用星号加在文字旁边的方式来做出强调效果（但不用 <em> 标签），你可以在星号的前面加上反斜杠：<code>\\*literal asterisks\\*</code></code></p>"}]}];e.GollumEditor.defineLanguage("markdown",t),e.GollumEditor.defineHelp("markdown",i)}(jQuery),function(e){var t={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/([^\n]+)([\n\s]*)/g,replace:"/$1/$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"=$1=$2"},"function-ul":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/g,replace:"1. $1$2"},"function-blockquote":{search:/(.+)([\n]?)/g,replace:"#+BEGIN_QUOTE\n$1$2\n#+END_QUOTE\n"},"function-h1":{search:/(.+)([\n]?)/g,replace:"* $1$2"},"function-h2":{search:/(.+)([\n]?)/g,replace:"** $1$2"},"function-h3":{search:/(.+)([\n]?)/g,replace:"*** $1$2"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(t){var i="";t.text&&t.href?i="[["+t.href+"]["+t.text+"]]":t.href&&(i="[["+t.href+"]]"),e.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){e.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"}],OK:function(t){var i="";t.url&&(i="[["+t.url+"]]"),e.GollumEditor.replaceSelection(i)}})}}},i=[{menuName:"块元素",content:[{menuName:"Paragraphs &amp; Breaks",data:"<p>To create a paragraph, simply create a block of text that is not separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p>"},{menuName:"Headers",data:"<p>Simply prefix your header text with the number of <code>*</code> characters to specify heading depth. For example: <code>* Header 1</code>, <code>** Header 2</code> and <code>*** Header 3</code> will be progressively smaller headers.</p>"},{menuName:"Blockquotes",data:"<p>To create a blockquote, simple embed the text between <code>#+BEGIN_QUOTE</code> and <code>#+END_QUOTE</code>. An example quote block is displayed below:<br><code>#+BEGIN_QUOTE<br>This is my quote block. Quote something nice here, otherwise there is no point in quoting.<br>#+END_QUOTE</code></p>"},{menuName:"Lists",data:"<p>Org-mode supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>+</code> or <code>-</code>.</p>"},{menuName:"Code Blocks",data:"<p>Code Blocks are similar to blockquote, except that <code>#+BEGIN_EXAMPLE</code> and <code>#+END_EXAMPLE</code> are used.</p>"},{menuName:"Tables",data:"<p>Org-mode supports simple tables (tables with equal number of cells in each row). To create a simple table, just separate the contents of each cell with a <code>|</code> character. For example, <br><br><code>|one|two|three|<br>|four|five|six|</code><br><br> will appear as a table with two rows and three columns.  Additionally, <br><br><code>|one|two|three|<br>|---+---+-----|<br>|four|five|six|</code><br><br> will also appear as a table, but the first row will be interpreted as a header row and the <code>&lt;th&gt;</code> tag will be used to render it. </p>"}]},{menuName:"Span Elements",content:[{menuName:"Links",data:'<p>To create links to external pages, you need to enclose the URI in double square brackets. (i.e., <code>[[http://github.com/]]</code> will automatically be parsed to <a href="javascript:void(0);">http://github.com/</a>)If you want to add text, to be displayed to the user, you write the URI and the text next to each other, both enclosed in square brackets and both of them together enclosed in another pair of square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[[http://github.com][GitHub]]</code>.</p>'},{menuName:"Emphasis",data:"<p>Forward slashes (<code>/</code>) are treated as emphasis and are wrapped with an <code>&lt;i&gt;</code> tag. Asterisks (<code>*</code>) are treated as bold using the <code>&lt;b&gt;</code> tag.</p>"},{menuName:"Code",data:"<p>To create inline spans of code, simply wrap the code in equal signs (<code>=</code>). Orgmode will turn <code>=myFunction=</code> into <code>myFunction</code>.</p>"},{menuName:"Images",data:"<p>Org-mode image syntax is exactly same as the syntax that you would use for a URI to link to itself. The image URI is enclosed in double square brackets. Alt text on images is not currently supported by Gollum's Org-mode parser.</p>"}]}];e.GollumEditor.defineLanguage("org",t),e.GollumEditor.defineHelp("org",i)}(jQuery),function(e){var t={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"B<$1>$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"I<$1>$2"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"C<$1>$2"},"function-h1":{search:/(.+)([\n]?)/gi,replace:"=head1 $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"=head2 $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=head3 $1$2"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",defaultValue:i},{id:"href",name:"URL",type:"text"}],OK:function(t){var i="";t.text&&t.href&&(i="L<"+t.text+"|"+t.href+">"),e.GollumEditor.replaceSelection(i)}})}}};e.GollumEditor.defineLanguage("pod",t);var i=[{menuName:"Command Paragraphs",content:[{menuName:"Headings",data:"<p>All command paragraphs start with <code>=</code> (equals sign).</p><p>To create headings 1 through 4, begin your command paragraph with <code>=headN</code>, where <code>N</code> is the number of the heading 1 through 4. For example, to make a first-order heading (the largest possible,) write <code>=head1</code>, then on the next line begin your paragraph that you want under the heading.</p>"},{menuName:"Beginning &amp; Ending",data:"<p>Perl pod blocks should begin with <code>=pod</code> and end with <code>=cut</code>, signifying to Pod parsers that the pod block has begun and ended. These command paragraphs only signal the beginning and end of a pod block.</p>"},{menuName:"Other Formats",data:"<p>pod also allows blocks in other formats, such as HTML or plain text. To create one of these blocks, use the <code>=format SYNTAX</code> command paragraph, where <code>SYNTAX</code> is the syntax of the block (e.g. <code>html</code> or <code>txt</code>). At the end of your block, use the <code>=end SYNTAX</code> block.</p>"},{menuName:"Encoding",data:"<p>If you are having encoding troubles, use the <code>=encoding ENC_TYPE</code> command, where <code>ENC_TYPE</code> is the encoding type (e.g. <code>utf8</code>, <code>koi8-r</code>). This will affect the entire document, not just the block below the command.</p>"}]},{menuName:"Formatting",content:[{menuName:"Text",data:"<p>Formatting text as <strong>bold</strong>, <em>italic</em> or <code>code</code> works in the <code>S&lt;word&gt;</code> syntax, where <code>S</code> is an abbreviation for the type of text you are trying to create. For example, <code>B&lt;my bold text&gt;</code> becomes <strong>my bold text</strong>,  <code>I&lt;italic text&gt;</code> becomes <em>italic text</em> and <code>C&lt;code here()&gt;</code> becomes <code>code here()</code>.</p>"},{menuName:"Hyperlinks",data:"<p>Writing hyperlinks in pod is much like formatting text, using the same <code>S&lt;&gt;</code> syntax. Instead of <code>B</code>, <code>I</code> or <code>C</code>, use <code>L</code> to begin a hyperlink.</p><p>pod allows you to hyperlink to a <code>man</code> page, a Perl documentation page, or another web page. To link to a <code>man</code> or Perl documentation page, simply include the page name in the link (e.g. <code>L&lt;perl(1)&gt;</code> or <code>L&lt;Net::Ping&gt;</code>). If you want to link to a web page, separate the URL and the link text with a pipe (e.g. to link to github.com, write <code>L&lt;GitHub|http://github.com/&gt;</code>)."}]}];e.GollumEditor.defineHelp("pod",i)}(jQuery),function(e){var t={"function-bold":{search:/([^\n]+)([\n\s]*)/g,replace:"((*$1*))$2"},"function-code":{search:/([^\n]+)([\n\s]*)/g,replace:"(({$1}))$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{exec:function(t,i){for(var n="",o=i.split("\n"),r=/[\w]+/,s=0;s<o.length;s++)r.test(o[s])&&(n+="("+(s+1).toString()+") "+o[s]);e.GollumEditor.replaceSelection(n)}},"function-h1":{search:/(.+)([\n]?)/gi,replace:"= $1$2"},"function-h2":{search:/(.+)([\n]?)/gi,replace:"== $1$2"},"function-h3":{search:/(.+)([\n]?)/gi,replace:"=== $1$2"}};e.GollumEditor.defineLanguage("rdoc",t)}(jQuery),function(e){var t={"function-bold":{search:/(^[\n]+)([\n\s]*)/g,replace:"*$1*$2"},"function-italic":{search:/(^[\n]+)([\n\s]*)/g,replace:"_$1_$2"},"function-hr":{append:"\n***\n"},"function-code":{search:/(^[\n]+)([\n\s]*)/g,replace:"<pre><code>$1</code></pre>$2"},"function-ul":{search:/(.+)([\n]?)/gi,replace:"* $1$2"},"function-ol":{search:/(.+)([\n]?)/gi,replace:"# $1$2"},"function-blockquote":{search:/(.+)([\n]?)/gi,replace:"bq. $1$2"},"function-link":{exec:function(t,i){e.GollumEditor.Dialog.init({title:"Insert Link",fields:[{id:"text",name:"Link Text",type:"text",help:"The text to display to the user.",defaultValue:i},{id:"href",name:"URL",type:"text",help:"The URL to link to."}],OK:function(t){var i="";t.text&&t.href&&(i='"'+t.text+'":'+t.href),e.GollumEditor.replaceSelection(i)}})}},"function-image":{exec:function(){e.GollumEditor.Dialog.init({title:"Insert Image",fields:[{id:"url",name:"Image URL",type:"text"},{id:"alt",name:"Alt Text",type:"text"}],OK:function(t){if(t.url){var i="!"+t.url;t.alt!=""&&(i+="("+t.alt+")"),i+="!",e.GollumEditor.replaceSelection(i)}}})}}};e.GollumEditor.defineLanguage("textile",t);var i=[{menuName:"Phrase Modifiers",content:[{menuName:"Emphasis / Strength",data:"<p>To place emphasis or strength on inline text, simply place <code>_</code> (underscores) around the text for emphasis or <code>*</code> (asterisks) around the text for strength. In most browsers, <code>_mytext_</code> will appear as italics and <code>*mytext*</code> will appear as bold.</p><p>To force italics or bold, simply double the characters: <code>__mytext__</code> will appear italic and <code>**mytext**</code> will appear as bold text.</p>"},{menuName:"Citations / Editing",data:'<p>To display citations, wrap your text in <code>??</code> (two question marks).</p><p>To display edit marks such as deleted text (strikethrough) or inserted text (underlined text), wrap your text in <code>-</code> (minuses) or <code>+</code> (pluses). For example <code>-mytext-</code> will be rendered as <span style="text-decoration: line-through;">mytext</span> and <code>+mytext+</code> will be rendered as <span style="text-decoration: underline;">mytext</span></p>'},{menuName:"Superscript / Subscript",data:"<p>To display superscript, wrap your text in <code>^</code> (carets). To display subscript, wrap your text in <code>~</code> (tildes).</p>"},{menuName:"Code",data:"<p>To display monospace code, wrap your text in <code>@</code> (at symbol). For example, <code>@mytext@</code> will appear as <code>mytext</code>.</p>"},{menuName:"Acronyms",data:'<p>To create an acronym, suffix the acronym with the definition in parentheses. For example, <code>JS(JavaScript)</code> will be displayed as <abbr title="JavaScript">JS</abbr>.</p>'}]},{menuName:"Block Modifiers",content:[{menuName:"Headings",data:"<p>To display a heading in Textile, prefix your line of text with <code>hn.</code>, where <code>n</code> equals the heading size you want (1 is largest, 6 is smallest).</p>"},{menuName:"Paragraphs / Quotes",data:"<p>To create a new paragraph, prefix your first line of a block of text with <code>p.</code>.</p><p>To create a blockquote, make sure at least one blank line exists between your text and any surrounding text, and then prefix that block with <code>bq.</code> If you need to extend a blockquote to more than one text block, write <code>bq..</code> (note the two periods) and prefix your next normal paragraph with <code>p.</code></p>"},{menuName:"Code Blocks",data:"<p>Code blocks in textile are simply prefixed like any other block. To create a code block, place the beginning of the block on a separate line and prefix it with <code>bc.</code></p><p>To display a preformatted block, prefix the block with <code>pre.</code></p>"},{menuName:"Lists",data:"<p>To create ordered lists, prefix each line with <code>#</code>. To create unordered lists, prefix each line with <code>*</code>.</p>"}]},{menuName:"Links / Images",content:[{menuName:"Links",data:'<p>To display a link, put the text you want to display in quotes, then a colon (<code>:</code>), then the URL after the colon. For example <code>&quot;GitHub&quot;:http://github.com/</code> will appear as <a href="javascript:void(0);">GitHub</a>.</p>'},{menuName:"Images",data:"<p>To display an image, simply wrap the image&rsquo;s URL in <code>!</code> (exclamation points). If you want to link the image to a URL, you can blend the image and link syntax: place your image URL in the exclamation points and suffix that with a colon and your URL. For example, an image at <code>http://myurl/image.png</code> that should link to <code>http://myurl/</code> should be written as <code>!http://myurl/image.png!:http://myurl/</code>.</p>"}]}];e.GollumEditor.defineHelp("textile",i)}(jQuery),window.Mousetrap=function(){function e(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):(e.attachEvent("on"+t,i),void 0)}function t(e){return"keypress"==e.type?String.fromCharCode(e.which):h[e.which]?h[e.which]:d[e.which]?d[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e){var t,e=e||{},i=!1;for(t in v)e[t]?i=!0:v[t]=0;i||(y=!1)}function n(e,t,i,n,o){var r,a,l=[];if(!m[e])return[];for("keyup"==i&&s(e)&&(t=[e]),r=0;r<m[e].length;++r)a=m[e][r],a.seq&&v[a.seq]!=a.level||i!=a.action||"keypress"!=i&&t.sort().join(",")!==a.modifiers.sort().join(",")||(n&&a.combo==o&&m[e].splice(r,1),l.push(a));return l}function o(e,t){!1===e(t)&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function r(e){e.which="number"==typeof e.which?e.which:e.keyCode;var r=t(e);if(r)if("keyup"==e.type&&b==r)b=!1;else{var a=e.target||e.srcElement,l=a.tagName;if(!(-1<(" "+a.className+" ").indexOf(" mousetrap ")?0:"INPUT"==l||"SELECT"==l||"TEXTAREA"==l||a.contentEditable&&"true"==a.contentEditable)){a=[],e.shiftKey&&a.push("shift"),e.altKey&&a.push("alt"),e.ctrlKey&&a.push("ctrl"),e.metaKey&&a.push("meta");for(var a=n(r,a,e.type),c={},u=!1,l=0;l<a.length;++l)a[l].seq?(u=!0,c[a[l].seq]=1,o(a[l].callback,e)):!u&&!y&&o(a[l].callback,e);e.type==y&&!s(r)&&i(c)}}}function s(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function a(e,t,i){if(!i){if(!c){c={};for(var n in h)n>95&&112>n||h.hasOwnProperty(n)&&(c[h[n]]=n)}i=c[e]?"keydown":"keypress"}return"keypress"==i&&t.length&&(i="keydown"),i}function l(e,r,c,h,d){var g,x,e=e.replace(/\s+/g," "),_=e.split(" "),w=[];if(1<_.length){var k=e,C=c;for(v[k]=0,C||(C=a(_[0],[])),e=function(){y=C,++v[k],clearTimeout(u),u=setTimeout(i,1e3)},c=function(e){o(r,e),"keyup"!==C&&(b=t(e)),setTimeout(i,10)},h=0;h<_.length;++h)l(_[h],h<_.length-1?e:c,C,k,h)}else{for(x="+"===e?["+"]:e.split("+"),_=0;_<x.length;++_)g=x[_],f[g]&&(g=f[g]),c&&"keypress"!=c&&p[g]&&(g=p[g],w.push("shift")),s(g)&&w.push(g);c=a(g,w,c),m[g]||(m[g]=[]),n(g,w,c,!h,e),m[g][h?"unshift":"push"]({callback:r,modifiers:w,action:c,seq:h,level:d,combo:e})}}for(var c,u,h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta","return":"enter",escape:"esc"},m={},g={},v={},b=!1,y=!1,x=1;20>x;++x)h[111+x]="f"+x;for(x=0;9>=x;++x)h[x+96]=x;return e(document,"keypress",r),e(document,"keydown",r),e(document,"keyup",r),{bind:function(e,t,i){for(var n=e instanceof Array?e:[e],o=0;o<n.length;++o)l(n[o],t,i);g[e+":"+i]=t},unbind:function(e,t){g[e+":"+t]&&(delete g[e+":"+t],this.bind(e,function(){},t))},trigger:function(e,t){g[e+":"+t]()},reset:function(){m={},g={}}}}(),/*
 * jQuery File Upload Plugin 5.31.6
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){(i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return typeof t.formData=="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var i,n=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,i=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=i-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=i,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,i,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,o=t.files[0],r=t.multipart||!e.support.xhrFileUpload,s=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",o)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(e,n){i.push({name:t.paramName[e]||s,value:n})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,o.name):e.each(t.files,function(e,o){(n._isInstanceOf("File",o)||n._isInstanceOf("Blob",o))&&i.append(t.paramName[e]||s,o,o.name)})),t.data=i):(t.contentType=o.type,t.data=t.blob||o),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",o=(t.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var o=e.Deferred(),r=o.promise();return i=i||this.options.context||r,t===!0?o.resolveWith(i,n):t===!1&&o.rejectWith(i,n),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,i){var n=this,o=function(t){return e.Deferred().resolveWith(n,[t]).promise()};i.process=function(e,t){return(e||t)&&(i._processQueue=this._processQueue=(this._processQueue||o(this)).pipe(e,t)),this._processQueue||o(this)},i.submit=function(){return this.state()!=="pending"&&(i.jqXHR=this.jqXHR=n._trigger("submit",t,this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,o,r=this,s=t.files[0],a=s.size,l=t.uploadedBytes,c=t.maxChunkSize||a,u=this._blobSlice,h=e.Deferred(),d=h.promise();return this._isXHRUpload(t)&&u&&(l||a>c)&&!t.data?i?!0:l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(o=function(){var i=e.extend({},t),d=i._progress.loaded;i.blob=u.call(s,l,l+c,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,r._initXHRData(i),r._initProgressListener(i),n=(r._trigger("chunksend",null,i)!==!1&&e.ajax(i)||r._getXHRPromise(!1,i.context)).done(function(n,s,c){l=r._getUploadedBytes(c)||l+i.chunkSize,d+i.chunkSize-i._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=s,i.jqXHR=c,r._trigger("chunkdone",null,i),r._trigger("chunkalways",null,i),a>l?o():h.resolveWith(i.context,[n,s,c])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,r._trigger("chunkfail",null,i),r._trigger("chunkalways",null,i),h.rejectWith(i.context,[e,t,n])})},this._enhancePromise(d),d.abort=function(){return n.abort()},o(),d):!1},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,o){var r=o._progress.total,s=o._response;o._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),s.result=o.result=t,s.textStatus=o.textStatus=i,s.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(e,t,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=e,o.textStatus=n.textStatus=t,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,o,r,s,a=this,l=a._getAJAXSettings(i),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((o||a._trigger("send",t,l)===!1)&&a._getXHRPromise(!1,l.context,o)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if(a._getDeferredState(n)==="pending"){n.resolve();break}n=a._slots.shift()}a._active===0&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),s=r.pipe(c)):(this._sequence=this._sequence.pipe(c,c),s=this._sequence),s.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(r&&r.rejectWith(l.context,o),c())},this._enhancePromise(s)):c()},_onAdd:function(t,i){var n,o,r,s,a=this,l=!0,c=e.extend({},this.options,i),u=c.limitMultiFileUploads,h=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(r=[],n=[],s=0;s<i.files.length;s+=u)r.push(i.files.slice(s,s+u)),o=h.slice(s,s+u),o.length||(o=h),n.push(o);else n=h;else r=[i.files],n=[h];return i.originalFiles=i.files,e.each(r||i.files,function(o,s){var c=e.extend({},i);return c.files=r?s:[s],c.paramName=n[o],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",t,c)}),l},_replaceFileInput:function(t){var i=t.clone(!0);e("<form></form>").append(i)[0].reset(),t.after(i).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?i[0]:n}),t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,i){var n,o=this,r=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(e){e.relativePath=i,r.resolve(e)},s):t.isDirectory?(n=t.createReader(),n.readEntries(function(e){o._handleFileTreeEntries(e,i+t.name+"/").done(function(e){r.resolve(e)}).fail(s)},s)):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n,o=t.prop("webkitEntries")||t.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=e.makeArray(t.prop("files")),i.length)i[0].name===void 0&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),i._trigger("change",t,n)!==!1&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};return i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t,n)===!1||this._onAdd(t,n)===!1)?!1:void 0},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,i=e.dataTransfer,n={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,t._trigger("drop",e,n)!==!1&&t._onAdd(e,n)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=t.dataTransfer;if(i){if(this._trigger("dragover",t)===!1)return!1;e.inArray("Files",i.types)!==-1&&(i.dropEffect="copy",t.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=e.inArray(t,this._specialOptions)!==-1;n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===void 0?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&e.type(i)==="string"&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,n){t._isRegExpOption(e,n)&&(n=t._getRegExp(n)),i[e]=n})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,o=this,r=e.Deferred(),s=r.promise();return s.abort=function(){return n=!0,i?i.abort():(r.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){n||(t.files=e,i=o._onSend(null,t).then(function(e,t,i){r.resolve(e,t,i)},function(e,t,i){r.reject(e,t,i)}))}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){var t,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],r=e(n).data("autosize",!0)[0];r.style.lineHeight="99px",e(r).css("lineHeight")==="99px"&&o.push("lineHeight"),r.style.lineHeight="",e.fn.autosize=function(n){return n=e.extend({},i,n||{}),r.parentNode!==document.body&&e(document.body).append(r),this.each(function(){function i(){var i,s={};if(t=h,r.className=n.className,l=parseInt(d.css("maxHeight"),10),e.each(o,function(e,t){s[t]=d.css(t)}),e(r).css(s),"oninput"in h){var a=h.style.width;h.style.width="0px",i=h.offsetWidth,h.style.width=a}}function s(){var o,s,a,u;t!==h&&i(),r.value=h.value+n.append,r.style.overflowY=h.style.overflowY,s=parseInt(h.style.height,10),"getComputedStyle"in window?(u=window.getComputedStyle(h),a=h.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){a-=parseInt(u[t],10)}),r.style.width=a+"px"):r.style.width=Math.max(d.width(),0)+"px",r.scrollTop=0,r.scrollTop=9e4,o=r.scrollTop,l&&o>l?(h.style.overflowY="scroll",o=l):(h.style.overflowY="hidden",c>o&&(o=c)),o+=p,s!==o&&(h.style.height=o+"px",f&&n.callback.call(h,h))}function a(){clearTimeout(u),u=setTimeout(function(){d.width()!==g&&s()},parseInt(n.resizeDelay,10))}var l,c,u,h=this,d=e(h),p=0,f=e.isFunction(n.callback),m={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},g=d.width();d.data("autosize")||(d.data("autosize",!0),(d.css("box-sizing")==="border-box"||d.css("-moz-box-sizing")==="border-box"||d.css("-webkit-box-sizing")==="border-box")&&(p=d.outerHeight()-d.height()),c=Math.max(parseInt(d.css("minHeight"),10)-p||0,d.height()),d.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:d.css("resize")==="none"||d.css("resize")==="vertical"?"none":"horizontal"}),"onpropertychange"in h?"oninput"in h?d.on("input.autosize keyup.autosize",s):d.on("propertychange.autosize",function(){event.propertyName==="value"&&s()}):d.on("input.autosize",s),n.resizeDelay!==!1&&e(window).on("resize.autosize",a),d.on("autosize.resize",s),d.on("autosize.resizeIncludeStyle",function(){t=null,s()}),d.on("autosize.destroy",function(){t=null,clearTimeout(u),e(window).off("resize",a),d.off("autosize").off(".autosize").css(m).removeData("autosize")}),s())})}}(window.jQuery||window.Zepto),function(){this.Notes={init:function(){return Notes.setupMainTargetNoteForm(),Notes.addClassForPreLine(),$(document).on("click",".js-add-diff-note-button",Notes.addDiffNote),$(document).on("click",".js-discussion-reply-button",Notes.replyToDiscussionNote),$(document).on("click",".js-close-discussion-note-form",Notes.closeNoteForm),$(document).on("click",".js-note-edit",Notes.editNote),$(document).on("click",".js-note-reply",Notes.replyNote),$(document).on("click",".js-note-delete",Notes.removeNote),$(document).on("click",".js-main-target-form .js-comment-button",Notes.disableMainTargetForm),$(document).on("ajax:complete",".js-main-target-form",Notes.resetMainTargetForm),$(document).on("click",".js-show-outdated-discussion",function(e){return $(this).next(".outdated-discussion").show(),e.preventDefault()}),$(document).on("click",".js-comment-button",Notes.SetCommentedCodeLine)},SetCommentedCodeLine:function(){var e;return e=$(this).closest("tr").prev().addClass("has-comments"),$(".has-comments").attr("title","展开或关闭 Diff 评论"),$(".has-comments").on("click",function(){$(".notes_holder")!==null&&$(".notes_holder").hasClass("visible")?$(".hide-show-comment").text("隐藏 Diff 评论"):$(".hide-show-comment").text("显示 Diff 评论"),$(this).next().next().transition("horizontal flip")})},disableMainTargetForm:function(){return $(".js-comment-button").addClass("disabled"),$("#comment-loadder #loadding-state").addClass("active").removeClass("disabled")},initCommentForm:function(e){var t,i,n;return i=e.find(".js-comment-text"),i.autosize(),n=function(i){return e.find(".js-drag-drop > .text").hide(),e.find(".js-drag-drop > .uploading").hide(),e.find(".js-drag-drop > .error").text(i).show(),setTimeout(t,3e3)},t=function(){return e.find(".js-drag-drop > .error").hide(),e.find(".js-drag-drop > .text").show()}},setupMainTargetNoteForm:function(){var e;return e=$(".js-new-note-form"),Notes.setupNoteForm(e)},addClassForPreLine:function(){return $(".class-for-pre-line").closest("tr").prev().addClass("has-comments"),$(".has-comments").attr("title","展开或关闭代码评论"),$(".has-comments").on("click",function(){$(this).next().transition("horizontal flip")})},setupNoteForm:function(e){return disableButtonIfEmptyField(e.find(".js-comment-text"),e.find(".js-comment-button")),e.removeClass("js-new-note-form"),Notes.initCommentForm(e.find(".js-comment-form")),e.find(".js-comment-text").on("keydown",function(e){return(e.metaKey||e.ctrlKey)&&e.keyCode===13&&$(this).val()!==""?$(e.target).closest("form").submit():void 0}),e.find("#note_noteable_type").val()!=="Commit"&&e.find(".js-notify-commit-author").remove(),GitLab.GfmAutoComplete.setup(),e.show()},setupCloneNoteForm:function(e,t){var i;return i=e.find(".js-comment-button"),e.find(".js-comment-text").focus(),e.find("textarea").val(""),t.on("keyup",function(){t.val().length>0?(i.removeClass("disabled"),i.removeAttr("disabled")):(i.addClass("disabled"),i.attr("disabled","disabled"))}),i.addClass("disabled"),i.attr("disabled","disabled"),e.on("submit",function(){return $.trim(e.find("textarea").val()).length===0?(alert("内容不能为空!"),!1):(i.addClass("disabled"),i.attr("disabled","disabled"),e.find(".js-close-discussion-note-form").addClass("disabled"),e.find(".js-close-discussion-note-form").attr("disabled","disabled"),e.find("textarea").prop("readonly",!0))})},setupDiscussionNoteForm:function(e,t){return t.find("form").attr("rel",e.data("discussionId")),t.find("#note_commit_id").val(e.data("commitId")),t.find("#note_line_code").val(e.data("lineCode")),t.find("#note_noteable_type").val(e.data("noteableType")),t.find("#note_noteable_id").val(e.data("noteableId")),Notes.setupNoteForm(t)},closeNoteForm:function(){var e,t,i;return t=$(this).closest("form"),e=t.parents(".form-with-gravatar"),e.prev(".js-discussion-reply-button").show(),t.prev(".note-content").show(),i=t.closest("tr"),window.isLoading!=null&&(window.isLoading=!1),i.is(".js-temp-notes-holder")?i.remove():(e.remove(),t.remove())},editNote:function(e){var t,i;return e.preventDefault(),i=$(this).closest(".note"),t=i.find(".edit_note"),t.length>0?(t.find(".write-content").addClass("focused"),t.find(".js-comment-text").focus(),void 0):$.get($(this).attr("href"),function(e){return i.find(".note-content").hide(),$(e).insertAfter(i.find(".note-content")),t=i.find(".edit_note"),Notes.setupNoteForm(t),Notes.resetMainTargetForm})},replyNote:function(e){var t,i,n;return t=$(".new_note .md-input, .md-input#editor_comment"),n=t.val(),i=$(e.target).attr("username"),void 0===i&&(i=$(e.target).parent().attr("username")),n+="@"+i+" ",t.val(n)},setCount:function(e,t){var i;return i=$.trim(e.parent().parent().find(".notes_line").find("span").text()),i=parseInt(i),t?i++:i--,e.parent().parent().find(".notes_line").find("span").html("<i class='comment icon'></i>"+i)},setTotalCount:function(e){var t;return t=$.trim($("#total_count").text()),t=parseInt(t),e?t++:t--,$("#total_count").text(t)},removeNote:function(e){var t,i,n;return e.preventDefault(),n=$(this),t=$(e.target).attr("href"),void 0===t&&(t=$(e.target).parent().attr("href")),i=confirm("确实要删除此条评论?"),i===!0?$.ajax({url:t,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},type:"DELETE",success:function(){var e,t;return e=n.closest(".note"),t=e.closest(".notes"),t.find(".note").length===1&&(t.closest(".discussion").remove(),t.closest("tr").remove()),Notes.setCount(t,!1),Notes.setTotalCount(!1),e.remove(),Notes.updateVotes()},error:function(){return alert("发生错误,删除失败")}}):void 0},resetMainTargetForm:function(){var e;return e=$(this),e.find(".js-errors").remove(),e.find(".js-comment-text").val("").trigger("input")},appendNewNote:function(e,t){return $(".md-input").removeAttr("disabled"),$(".md-input").last().val(""),$("#loadding-state").removeClass("active").addClass("disabled"),$("#notes-list").append(t),Notes.updateVotes(),$("[name='note[note]']").val("")},appendNewDiscussionNote:function(e,t,i){var n,o,r;return n=e.split("-")[3],$(".notes[rel='"+e+"']").length===0?(r=$("input[value='"+n+"']"),r.parent().parent().parent().parent().parent().after(t),r.parent().parent().parent().parent().remove(),Notes.setTotalCount(!0),void 0):($(".js-temp-notes-holder").remove(),o=$(".notes[rel='"+e+"']"),o.append(i),o.parent().find(".form-with-gravatar").find(".js-close-discussion-note-form").click(),Notes.setCount(o,!0),Notes.setTotalCount(!0))},replyToDiscussionNote:function(){var e,t;return t=$(".form-with-gravatar").last(),$(this).hide(),e=t.clone(),e.find(".js-comment-form").remove(),e.find(".js-close-discussion-note-form").show(),e.find("#note_noteable_type").after("<textarea class='editor_comment' id='editor_comment' name='note[note]'></textarea>"),e.css("margin","18px"),$(this).parent().append(e),$(".editor_comment").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),Notes.dragFrom(e),Notes.setupDiscussionNoteForm($(this),$(this).parent().find(".common-note-form")),Notes.setupCloneNoteForm(e,e.find(".md-input"))},addDiffNote:function(e){var t,i,n,o;return e.preventDefault(),i=$(".form-with-gravatar").last(),o=$(this).closest("tr"),n=o.next(),n.is(".js-temp-notes-holder")?void 0:(n.is(".notes_holder")&&Notes.replyToDiscussionNote,o.after('<tr class="notes_holder js-temp-notes-holder"><td class="notes_line" colspan="2"></td><td class="notes_content"></td></tr>'),t=i.clone(),t.find(".js-close-discussion-note-form").show(),t.find(".js-comment-form").remove(),t.find("#note_noteable_type").after("<textarea class='editor_diff' id='editor_diff' name='note[note]'></textarea>"),t.css("margin","18px"),o.next().find(".notes_content").append(t),$(".editor_diff").markdown({language:"zh",imgurl:"/upload",base64url:"/upload_with_base_64"}),t.find(".md-input").val(""),Notes.dragFrom(t),Notes.setupDiscussionNoteForm($(this),o.next().find(".common-note-form")),Notes.setupCloneNoteForm(t,t.find(".md-input")))},updateVotes:function(){var e,t,i,n,o,r,s;return r=$("#votes .votes"),i=$("#notes-list .note .vote"),r.size()?(n=i.filter(".upvote").size(),e=i.filter(".downvote").size(),s=n+e,o=s?100/s*n:0,t=s?100-o:0,r.find(".bar-success").css("width",o+"%"),r.find(".bar-danger").css("width",t+"%"),r.find(".upvotes").text(r.find(".upvotes").text().replace(/\d+/,n)),r.find(".downvotes").text(r.find(".downvotes").text().replace(/\d+/,e))):void 0},dragFrom:function(e){return e.find(".md-input").bind("drop",function(t){var i,n,o,r;if(t.preventDefault(),t.stopPropagation(),n=t.originalEvent.dataTransfer.files,n.length!==0){if(n[0].type.indexOf("text")!==-1)return n[0].size>102400?(alert("文本文件不能超过100k"),void 0):(o=new FileReader,o.onload=function(t){var i,n,o;return n=t.target.result,o=e.find(".md-input").val(),e.find(".md-input").val(o+n),i=jQuery.Event("keyup",{which:39}),e.find(".md-input").trigger(i)},o.readAsText(n[0]),!1);if(n[0].type.indexOf("image")===-1)return alert("无法上传非图片"),void 0;$.browser.safari?img.src=window.webkitURL.createObjectURL(n[0]):$.browser.mozilla?img.src=window.URL.createObjectURL(n[0]):(o=new FileReader,o.onload=function(){e.find(".md-input").parents().eq(3).find(".small.loader").show()},o.readAsDataURL(n[0])),r=new XMLHttpRequest,r.open("post","/upload",!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.upload.addEventListener("progress",function(e){var t;e.lengthComputable&&(t=Math.ceil(e.loaded/e.total*100))},!1),r.addEventListener("load",function(t){var i,n,o;e.find(".md-input").parents().eq(3).find(".small.loader").hide(),n=$.parseJSON(t.target.response),o=e.find(".md-input").val(),o+="![输入图片说明]("+n.files[0].url+' "在这里输入图片标题")',e.find(".md-input").val(o),i=jQuery.Event("keyup",{which:39}),e.find(".md-input").trigger(i)},!1),r.setRequestHeader("Cache-Control","no-cache"),r.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content")),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),i=new FormData,i.append("files",n[0]),r.send(i)}})}}}.call(this),function(){var e;this.pull_requestsPage=function(){return $("#assignee_id").chosen(),$("#milestone_id").chosen(),$("#milestone_id, #assignee_id").on("change",function(){return $(this).closest("form").submit()})},e=function(){function e(e){var t=this;this.opts=e,this.$el=$(".pull-request"),this.diffs_loaded=!1,this.commits_loaded=!1,this.activateTab(this.opts.action),this.bindEvents(),this.initMergeWidget(),this.$(".show-all-commits").on("click",function(){return t.showAllCommits()})}return e.prototype.$=function(e){return this.$el.find(e)},e.prototype.initMergeWidget=function(){var e=this;return this.showState(this.opts.current_status),$(".automerge_widget").length&&this.opts.check_enable&&$.get(this.opts.url_to_automerge_check,function(t){return e.showState(t.merge_status)},"json"),this.opts.ci_enable?$.get(this.opts.url_to_ci_check,function(t){return e.showCiState(t.status)},"json"):void 0},e.prototype.bindEvents=function(){var e=this;return this.$("#pull-tabs").on("click","a",function(e){var t,i;return t=$(e.currentTarget),i=t.attr("href"),window.history.replaceState({path:i},document.title,i),e.preventDefault()}),this.$("#pull-tabs").on("click","li",function(t){return e.activateTab($(t.currentTarget).data("action"))}),$(".accept_pull_request").on("click",function(){return $(".automerge_widget.can_be_merged").hide(),$(".merge-in-progress").show()}),this.$(".pull-right").on("click","a.js-edit",function(e){return $(".issue-content .comment-content").hide(),$(".issue-content .form-content").show(),$("#pull_request_body").focus(),e.preventDefault()}),this.$(".form-actions").on("click","a.btn-cancel",function(e){return $(".issue-content .comment-content").show(),$(".issue-content .form-content").hide(),e.preventDefault()})},e.prototype.activateTab=function(e){return this.$("#pull-tabs li").removeClass("active").each(function(){return $(this).data("action")===e?$(this).addClass("active"):void 0}),this.$("#"+e).show().siblings(".tab-pane").hide()},e.prototype.showState=function(e){return $(".automerge_widget").hide(),$(".automerge_widget."+e).show()},e.prototype.showCiState=function(e){return $(".ci_widget").hide(),$(".ci_widget.ci-"+e).show()},e.prototype.loadDiff=function(){var e=this;return $.ajax({type:"GET",url:this.$(".nav-tabs .diffs-tab a").attr("href"),beforeSend:function(){return e.$(".status").addClass("loading")},complete:function(){return e.diffs_loaded=!0,e.$(".status").removeClass("loading")},dataType:"script"})},e.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},e.prototype.alreadyOrCannotBeMerged=function(){return this.$(".automerge_widget").hide(),this.$(".merge-in-progress").hide(),this.$(".automerge_widget.already_cannot_be_merged").show()},e}(),this.PullRequest=e}.call(this),function(){this.Issues={init:function(){return Issues.initSearch(),Issues.initSelects(),Issues.initChecks(),$("body").on("ajax:success",".close_issue, .reopen_issue",function(){var e,t,i;return t=$(this),i=void 0,e=t.hasClass("reopen_issue"),$(".issue_counter").each(function(){var t;return t=$(this),i=parseInt($(this).html(),10),e&&t.closest(".main_menu").length?$(this).html(i+1):$(this).html(i-1)})})},reload:function(){return Issues.initSelects(),Issues.initChecks(),$("#filter_issue_search").val($("#issue_search").val())},initSelects:function(){return $("#update_status").chosen(),$("#update_assignee_id").chosen(),$("#update_milestone_id").chosen(),$("#assignee_id").chosen(),$("#milestone_id").chosen(),$("#sort").chosen(),$("#milestone_id, #assignee_id, #sort").on("change",function(){return $(this).closest("form").submit()})},initChecks:function(){return $(".check_all_issues").click(function(){return $(".selected_issue").prop("checked",this.checked),Issues.checkChanged()}),$(".selected_issue").bind("change",Issues.checkChanged)},initSearch:function(){var e,t;return e=$("#issue_search_form"),t="",$("#issue_search").keyup(function(){var i;return i=$(this).val(),i!==t&&(t=i,i.length>=10||i.length===0)?($("#search_status").val($("#status").val()),$("#search_assignee_id").val($("#assignee_id").val()),$("#search_milestone_id").val($("#milestone_id").val()),$("#search_label_name").val($("#label_name").val()),e.submit()):void 0
})},checkChanged:function(){var e,t;return e=$(".selected_issue:checked"),e.length>0?(t=[],$.each(e,function(e,i){return t.push($(i).attr("data-id"))}),$("#update_issues_ids").val(t),$(".issues_filters").hide(),$(".issues_bulk_update").show()):($("#update_issues_ids").val([]),$(".issues_bulk_update").hide(),$(".issues_filters").show())}}}.call(this),// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
function(e){var t,i,n="0.4.2",o="hasOwnProperty",r=/[\.\/]/,s="*",a=function(){},l=function(e,t){return e-t},c={n:{}},u=function(e,n){e=String(e);var o,r=i,s=Array.prototype.slice.call(arguments,2),a=u.listeners(e),c=0,h=[],d={},p=[],f=t;t=e,i=0;for(var m=0,g=a.length;g>m;m++)"zIndex"in a[m]&&(h.push(a[m].zIndex),a[m].zIndex<0&&(d[a[m].zIndex]=a[m]));for(h.sort(l);h[c]<0;)if(o=d[h[c++]],p.push(o.apply(n,s)),i)return i=r,p;for(m=0;g>m;m++)if(o=a[m],"zIndex"in o)if(o.zIndex==h[c]){if(p.push(o.apply(n,s)),i)break;do if(c++,o=d[h[c]],o&&p.push(o.apply(n,s)),i)break;while(o)}else d[o.zIndex]=o;else if(p.push(o.apply(n,s)),i)break;return i=r,t=f,p.length?p:null};u._events=c,u.listeners=function(e){var t,i,n,o,a,l,u,h,d=e.split(r),p=c,f=[p],m=[];for(o=0,a=d.length;a>o;o++){for(h=[],l=0,u=f.length;u>l;l++)for(p=f[l].n,i=[p[d[o]],p[s]],n=2;n--;)t=i[n],t&&(h.push(t),m=m.concat(t.f||[]));f=h}return m},u.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var i=e.split(r),n=c,o=0,s=i.length;s>o;o++)n=n.n,n=n.hasOwnProperty(i[o])&&n[i[o]]||(n[i[o]]={n:{}});for(n.f=n.f||[],o=0,s=n.f.length;s>o;o++)if(n.f[o]==t)return a;return n.f.push(t),function(e){+e==+e&&(t.zIndex=+e)}},u.f=function(e){var t=[].slice.call(arguments,1);return function(){u.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},u.stop=function(){i=1},u.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},u.nts=function(){return t.split(r)},u.off=u.unbind=function(e,t){if(!e)return u._events=c={n:{}},void 0;var i,n,a,l,h,d,p,f=e.split(r),m=[c];for(l=0,h=f.length;h>l;l++)for(d=0;d<m.length;d+=a.length-2){if(a=[d,1],i=m[d].n,f[l]!=s)i[f[l]]&&a.push(i[f[l]]);else for(n in i)i[o](n)&&a.push(i[n]);m.splice.apply(m,a)}for(l=0,h=m.length;h>l;l++)for(i=m[l];i.n;){if(t){if(i.f){for(d=0,p=i.f.length;p>d;d++)if(i.f[d]==t){i.f.splice(d,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[o](n)&&i.n[n].f){var g=i.n[n].f;for(d=0,p=g.length;p>d;d++)if(g[d]==t){g.splice(d,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[o](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},u.once=function(e,t){var i=function(){return u.unbind(e,i),t.apply(this,arguments)};return u.on(e,i)},u.version=n,u.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],function(){return u}):e.eve=u}(this),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(e,t){"function"==typeof define&&define.amd?define(["eve"],function(i){return t(e,i)}):t(e,e.eve)}(this,function(e,t){function i(e){if(i.is(e,"function"))return x?e():t.on("raphael.DOMload",e);if(i.is(e,X))return i._engine.create[E](i,e.splice(0,3+i.is(e[0],G))).add(e);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var o=n.pop();return x?o.call(i._engine.create[E](i,n)):t.on("raphael.DOMload",function(){o.call(i._engine.create[E](i,n))})}return i._engine.create[E](i,arguments)}function n(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[T](i)&&(t[i]=n(e[i]));return t}function o(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return e.push(e.splice(i,1)[0])}function r(e,t,i){function n(){var r=Array.prototype.slice.call(arguments,0),s=r.join("␀"),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[T](s)?(o(l,s),i?i(a[s]):a[s]):(l.length>=1e3&&delete a[l.shift()],l.push(s),a[s]=e[E](t,r),i?i(a[s]):a[s])}return n}function s(){return this.hex}function a(e,t){for(var i=[],n=0,o=e.length;o-2*!t>n;n+=2){var r=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?o-4==n?r[3]={x:+e[0],y:+e[1]}:o-2==n&&(r[2]={x:+e[0],y:+e[1]},r[3]={x:+e[2],y:+e[3]}):r[0]={x:+e[o-2],y:+e[o-1]}:o-4==n?r[3]=r[2]:n||(r[0]={x:+e[n],y:+e[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}function l(e,t,i,n,o){var r=-3*t+9*i-9*n+3*o,s=e*r+6*t-12*i+6*n;return e*s-3*t+3*i}function c(e,t,i,n,o,r,s,a,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var u=c/2,h=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;h>m;m++){var g=u*d[m]+u,v=l(g,e,i,o,s),b=l(g,t,n,r,a),y=v*v+b*b;f+=p[m]*O.sqrt(y)}return u*f}function u(e,t,i,n,o,r,s,a,l){if(!(0>l||c(e,t,i,n,o,r,s,a)<l)){var u,h=1,d=h/2,p=h-d,f=.01;for(u=c(e,t,i,n,o,r,s,a,p);B(u-l)>f;)d/=2,p+=(l>u?1:-1)*d,u=c(e,t,i,n,o,r,s,a,p);return p}}function h(e,t,i,n,o,r,s,a){if(!(z(e,i)<H(o,s)||H(e,i)>z(o,s)||z(t,n)<H(r,a)||H(t,n)>z(r,a))){var l=(e*n-t*i)*(o-s)-(e-i)*(o*a-r*s),c=(e*n-t*i)*(r-a)-(t-n)*(o*a-r*s),u=(e-i)*(r-a)-(t-n)*(o-s);if(u){var h=l/u,d=c/u,p=+h.toFixed(2),f=+d.toFixed(2);if(!(p<+H(e,i).toFixed(2)||p>+z(e,i).toFixed(2)||p<+H(o,s).toFixed(2)||p>+z(o,s).toFixed(2)||f<+H(t,n).toFixed(2)||f>+z(t,n).toFixed(2)||f<+H(r,a).toFixed(2)||f>+z(r,a).toFixed(2)))return{x:h,y:d}}}}function d(e,t,n){var o=i.bezierBBox(e),r=i.bezierBBox(t);if(!i.isBBoxIntersect(o,r))return n?0:[];for(var s=c.apply(0,e),a=c.apply(0,t),l=z(~~(s/5),1),u=z(~~(a/5),1),d=[],p=[],f={},m=n?0:[],g=0;l+1>g;g++){var v=i.findDotsAtSegment.apply(i,e.concat(g/l));d.push({x:v.x,y:v.y,t:g/l})}for(g=0;u+1>g;g++)v=i.findDotsAtSegment.apply(i,t.concat(g/u)),p.push({x:v.x,y:v.y,t:g/u});for(g=0;l>g;g++)for(var b=0;u>b;b++){var y=d[g],x=d[g+1],_=p[b],w=p[b+1],k=B(x.x-y.x)<.001?"y":"x",C=B(w.x-_.x)<.001?"y":"x",T=h(y.x,y.y,x.x,x.y,_.x,_.y,w.x,w.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var S=y.t+B((T[k]-y[k])/(x[k]-y[k]))*(x.t-y.t),$=_.t+B((T[C]-_[C])/(w[C]-_[C]))*(w.t-_.t);S>=0&&1.001>=S&&$>=0&&1.001>=$&&(n?m++:m.push({x:T.x,y:T.y,t1:H(S,1),t2:H($,1)}))}}return m}function p(e,t,n){e=i._path2curve(e),t=i._path2curve(t);for(var o,r,s,a,l,c,u,h,p,f,m=n?0:[],g=0,v=e.length;v>g;g++){var b=e[g];if(b[0]=="M")o=l=b[1],r=c=b[2];else{b[0]=="C"?(p=[o,r].concat(b.slice(1)),o=p[6],r=p[7]):(p=[o,r,o,r,l,c,l,c],o=l,r=c);for(var y=0,x=t.length;x>y;y++){var _=t[y];if(_[0]=="M")s=u=_[1],a=h=_[2];else{_[0]=="C"?(f=[s,a].concat(_.slice(1)),s=f[6],a=f[7]):(f=[s,a,s,a,u,h,u,h],s=u,a=h);var w=d(p,f,n);if(n)m+=w;else{for(var k=0,C=w.length;C>k;k++)w[k].segment1=g,w[k].segment2=y,w[k].bez1=p,w[k].bez2=f;m=m.concat(w)}}}}}return m}function f(e,t,i,n,o,r){null!=e?(this.a=+e,this.b=+t,this.c=+i,this.d=+n,this.e=+o,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+j+this.y+j+this.width+" × "+this.height}function g(e,t,i,n,o,r){function s(e){return((h*e+u)*e+c)*e}function a(e,t){var i=l(e,t);return((f*i+p)*i+d)*i}function l(e,t){var i,n,o,r,a,l;for(o=e,l=0;8>l;l++){if(r=s(o)-e,B(r)<t)return o;if(a=(3*h*o+2*u)*o+c,B(a)<1e-6)break;o-=r/a}if(i=0,n=1,o=e,i>o)return i;if(o>n)return n;for(;n>i;){if(r=s(o),B(r-e)<t)return o;e>r?i=o:n=o,o=(n-i)/2+i}return o}var c=3*t,u=3*(n-t)-c,h=1-c-u,d=3*i,p=3*(o-i)-d,f=1-d-p;return a(e,1/(200*r))}function v(e,t){var i=[],n={};if(this.ms=t,this.times=1,e){for(var o in e)e[T](o)&&(n[J(o)]=e[o],i.push(J(o)));i.sort(ht)}this.anim=n,this.top=i[i.length-1],this.percents=i}function b(e,n,o,r,s,a){o=J(o);var l,c,u,h,d,p,m=e.ms,v={},b={},y={};if(r)for(_=0,k=li.length;k>_;_++){var x=li[_];if(x.el.id==n.id&&x.anim==e){x.percent!=o?(li.splice(_,1),u=1):c=x,n.attr(x.totalOrigin);break}}else r=+b;for(var _=0,k=e.percents.length;k>_;_++){if(e.percents[_]==o||e.percents[_]>r*e.top){o=e.percents[_],d=e.percents[_-1]||0,m=m/e.top*(o-d),h=e.percents[_+1],l=e.anim[o];break}r&&n.attr(e.anim[e.percents[_]])}if(l){if(c)c.initstatus=r,c.start=new Date-c.ms*r;else{for(var C in l)if(l[T](C)&&(nt[T](C)||n.paper.customAttributes[T](C)))switch(v[C]=n.attr(C),v[C]==null&&(v[C]=it[C]),b[C]=l[C],nt[C]){case G:y[C]=(b[C]-v[C])/m;break;case"colour":v[C]=i.getRGB(v[C]);var S=i.getRGB(b[C]);y[C]={r:(S.r-v[C].r)/m,g:(S.g-v[C].g)/m,b:(S.b-v[C].b)/m};break;case"path":var $=Pt(v[C],b[C]),D=$[1];for(v[C]=$[0],y[C]=[],_=0,k=v[C].length;k>_;_++){y[C][_]=[0];for(var E=1,N=v[C][_].length;N>E;E++)y[C][_][E]=(D[_][E]-v[C][_][E])/m}break;case"transform":var M=n._,j=Ht(M[C],b[C]);if(j)for(v[C]=j.from,b[C]=j.to,y[C]=[],y[C].real=!0,_=0,k=v[C].length;k>_;_++)for(y[C][_]=[v[C][_][0]],E=1,N=v[C][_].length;N>E;E++)y[C][_][E]=(b[C][_][E]-v[C][_][E])/m;else{var P=n.matrix||new f,F={_:{transform:M.transform},getBBox:function(){return n.getBBox(1)}};v[C]=[P.a,P.b,P.c,P.d,P.e,P.f],Ot(F,b[C]),b[C]=F._.transform,y[C]=[(F.matrix.a-P.a)/m,(F.matrix.b-P.b)/m,(F.matrix.c-P.c)/m,(F.matrix.d-P.d)/m,(F.matrix.e-P.e)/m,(F.matrix.f-P.f)/m]}break;case"csv":var R=I(l[C])[L](w),O=I(v[C])[L](w);if("clip-rect"==C)for(v[C]=O,y[C]=[],_=O.length;_--;)y[C][_]=(R[_]-v[C][_])/m;b[C]=R;break;default:for(R=[][A](l[C]),O=[][A](v[C]),y[C]=[],_=n.paper.customAttributes[C].length;_--;)y[C][_]=((R[_]||0)-(O[_]||0))/m}var z=l.easing,H=i.easing_formulas[z];if(!H)if(H=I(z).match(Q),H&&H.length==5){var B=H;H=function(e){return g(e,+B[1],+B[2],+B[3],+B[4],m)}}else H=pt;if(p=l.start||e.start||+new Date,x={anim:e,percent:o,timestamp:p,start:p+(e.del||0),status:0,initstatus:r||0,stop:!1,ms:m,easing:H,from:v,diff:y,to:b,el:n,callback:l.callback,prev:d,next:h,repeat:a||e.times,origin:n.attr(),totalOrigin:s},li.push(x),r&&!c&&!u&&(x.stop=!0,x.start=new Date-m*r,li.length==1))return ui();u&&(x.start=new Date-x.ms*r),li.length==1&&ci(ui)}t("raphael.anim.start."+n.id,n,e)}}function y(e){for(var t=0;t<li.length;t++)li[t].el.paper==e&&li.splice(t--,1)}i.version="2.1.2",i.eve=t;var x,_,w=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,T="hasOwnProperty",S={doc:document,win:e},$={was:Object.prototype[T].call(S.win,"Raphael"),is:S.win.Raphael},D=function(){this.ca=this.customAttributes={}},E="apply",A="concat",N="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,M="",j=" ",I=String,L="split",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[L](j),F={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=I.prototype.toLowerCase,O=Math,z=O.max,H=O.min,B=O.abs,q=O.pow,W=O.PI,G="number",U="string",X="array",V=Object.prototype.toString,Y=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=O.round,J=parseFloat,et=parseInt,tt=I.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rx:G,ry:G,stroke:"colour","stroke-opacity":G,"stroke-width":G,transform:"transform",width:G,x:G,y:G},ot=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},st=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ut=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ht=function(e,t){return J(e)-J(t)},dt=function(){},pt=function(e){return e},ft=i._rectPath=function(e,t,i,n,o){return o?[["M",e+o,t],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},mt=function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},gt=i._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return mt(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ft(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ft(t.x,t.y,t.width,t.height)}},vt=i.mapPath=function(e,t){if(!t)return e;var i,n,o,r,s,a,l;for(e=Pt(e),o=0,s=e.length;s>o;o++)for(l=e[o],r=1,a=l.length;a>r;r+=2)i=t.x(l[r],l[r+1]),n=t.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return e};if(i._g=S,i.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",i.type=="VML"){var bt,yt=S.doc.createElement("div");if(yt.innerHTML='<v:shape adj="1"/>',bt=yt.firstChild,bt.style.behavior="url(#default#VML)",!bt||typeof bt.adj!="object")return i.type=M;yt=null}i.svg=!(i.vml=i.type=="VML"),i._Paper=D,i.fn=_=D.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(e,t){return t=R.call(t),"finite"==t?!K[T](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||V.call(e).slice(8,-1).toLowerCase()==t},i.angle=function(e,t,n,o,r,s){if(null==r){var a=e-n,l=t-o;return a||l?(180+O.atan2(-l,-a)*180/W+360)%360:0}return i.angle(e,t,r,s)-i.angle(n,o,r,s)},i.rad=function(e){return e%360*W/180},i.deg=function(e){return 180*e/W%360},i.snapTo=function(e,t,n){if(n=i.is(n,"finite")?n:10,i.is(e,X)){for(var o=e.length;o--;)if(B(e[o]-t)<=n)return e[o]}else{e=+e;var r=t%e;if(n>r)return t-r;if(r>e-n)return t-r+e}return t},i.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=O.random()*16|0,i="x"==e?t:8|3&t;return i.toString(16)}),i.setWindow=function(e){t("raphael.setWindow",i,S.win,e),S.win=e,S.doc=S.win.document,i._engine.initWin&&i._engine.initWin(S.win)};var xt=function(e){if(i.vml){var t,n=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),t=o.body}catch(s){t=createPopup().document.body}var a=t.createTextRange();xt=r(function(e){try{t.style.color=I(e).replace(n,M);var i=a.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(o){return"none"}})}else{var l=S.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",S.doc.body.appendChild(l),xt=r(function(e){return l.style.color=e,S.doc.defaultView.getComputedStyle(l,M).getPropertyValue("color")})}return xt(e)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},wt=function(){return"hsl("+[this.h,this.s,this.l]+")"},kt=function(){return this.hex},Ct=function(e,t,n){if(null==t&&i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r),null==t&&i.is(e,U)){var o=i.getRGB(e);e=o.r,t=o.g,n=o.b}return(e>1||t>1||n>1)&&(e/=255,t/=255,n/=255),[e,t,n]},Tt=function(e,t,n,o){e*=255,t*=255,n*=255;var r={r:e,g:t,b:n,hex:i.rgb(e,t,n),toString:kt};return i.is(o,"finite")&&(r.opacity=o),r};i.color=function(e){var t;return i.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=i.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):i.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=i.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(i.is(e,"string")&&(e=i.getRGB(e)),i.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=i.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=i.rgb2hsb(e),e.v=t.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=kt,e},i.hsb2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,t=e.s,e=e.h,n=e.o),e*=360;var o,r,s,a,l;return e=e%360/60,l=i*t,a=l*(1-B(e%2-1)),o=r=s=i-l,e=~~e,o+=[l,a,0,0,a,l][e],r+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],Tt(o,r,s,n)},i.hsl2rgb=function(e,t,i,n){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,t=e.s,e=e.h),(e>1||t>1||i>1)&&(e/=360,t/=100,i/=100),e*=360;var o,r,s,a,l;return e=e%360/60,l=2*t*(.5>i?i:1-i),a=l*(1-B(e%2-1)),o=r=s=i-l/2,e=~~e,o+=[l,a,0,0,a,l][e],r+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],Tt(o,r,s,n)},i.rgb2hsb=function(e,t,i){i=Ct(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,s;return r=z(e,t,i),s=r-H(e,t,i),n=0==s?null:r==e?(t-i)/s:r==t?(i-e)/s+2:(e-t)/s+4,n=60*((n+360)%6)/360,o=0==s?0:s/r,{h:n,s:o,b:r,toString:_t}},i.rgb2hsl=function(e,t,i){i=Ct(e,t,i),e=i[0],t=i[1],i=i[2];var n,o,r,s,a,l;return s=z(e,t,i),a=H(e,t,i),l=s-a,n=0==l?null:s==e?(t-i)/l:s==t?(i-e)/l+2:(e-t)/l+4,n=60*((n+360)%6)/360,r=(s+a)/2,o=0==l?0:.5>r?l/(2*r):l/(2-2*r),{h:n,s:o,l:r,toString:wt}},i._path2string=function(){return this.join(",").replace(st,"$1")},i._preload=function(e,t){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){t.call(this),this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=e},i.getRGB=r(function(e){if(!e||(e=I(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!(rt[T](e.toLowerCase().substring(0,2))||e.charAt()=="#")&&(e=xt(e));var t,n,o,r,a,l,c=e.match(Y);return c?(c[2]&&(o=et(c[2].substring(5),16),n=et(c[2].substring(3,5),16),t=et(c[2].substring(1,3),16)),c[3]&&(o=et((a=c[3].charAt(3))+a,16),n=et((a=c[3].charAt(2))+a,16),t=et((a=c[3].charAt(1))+a,16)),c[4]&&(l=c[4][L](ot),t=J(l[0]),l[0].slice(-1)=="%"&&(t*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),o=J(l[2]),l[2].slice(-1)=="%"&&(o*=2.55),c[1].toLowerCase().slice(0,4)=="rgba"&&(r=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(r/=100)),c[5]?(l=c[5][L](ot),t=J(l[0]),l[0].slice(-1)=="%"&&(t*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),o=J(l[2]),l[2].slice(-1)=="%"&&(o*=2.55),(l[0].slice(-3)=="deg"||l[0].slice(-1)=="°")&&(t/=360),c[1].toLowerCase().slice(0,4)=="hsba"&&(r=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(r/=100),i.hsb2rgb(t,n,o,r)):c[6]?(l=c[6][L](ot),t=J(l[0]),l[0].slice(-1)=="%"&&(t*=2.55),n=J(l[1]),l[1].slice(-1)=="%"&&(n*=2.55),o=J(l[2]),l[2].slice(-1)=="%"&&(o*=2.55),(l[0].slice(-3)=="deg"||l[0].slice(-1)=="°")&&(t/=360),c[1].toLowerCase().slice(0,4)=="hsla"&&(r=J(l[3])),l[3]&&l[3].slice(-1)=="%"&&(r/=100),i.hsl2rgb(t,n,o,r)):(c={r:t,g:n,b:o,toString:s},c.hex="#"+(16777216|o|n<<8|t<<16).toString(16).slice(1),i.is(r,"finite")&&(c.opacity=r),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}},i),i.hsb=r(function(e,t,n){return i.hsb2rgb(e,t,n).hex}),i.hsl=r(function(e,t,n){return i.hsl2rgb(e,t,n).hex}),i.rgb=r(function(e,t,i){return"#"+(16777216|i|t<<8|e<<16).toString(16).slice(1)}),i.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(e){if(!e)return null;var t=St(e);if(t.arr)return Dt(t.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return i.is(e,X)&&i.is(e[0],X)&&(o=Dt(e)),o.length||I(e).replace(at,function(e,t,i){var r=[],s=t.toLowerCase();if(i.replace(ct,function(e,t){t&&r.push(+t)}),"m"==s&&r.length>2&&(o.push([t][A](r.splice(0,2))),s="l",t="m"==t?"l":"L"),"r"==s)o.push([t][A](r));else for(;r.length>=n[s]&&(o.push([t][A](r.splice(0,n[s]))),n[s]););}),o.toString=i._path2string,t.arr=Dt(o),o},i.parseTransformString=r(function(e){if(!e)return null;var t=[];return i.is(e,X)&&i.is(e[0],X)&&(t=Dt(e)),t.length||I(e).replace(lt,function(e,i,n){var o=[];R.call(i),n.replace(ct,function(e,t){t&&o.push(+t)}),t.push([i][A](o))}),t.toString=i._path2string,t});var St=function(e){var t=St.ps=St.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var i in t)t[T](i)&&i!=e&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[e]};i.findDotsAtSegment=function(e,t,i,n,o,r,s,a,l){var c=1-l,u=q(c,3),h=q(c,2),d=l*l,p=d*l,f=u*e+3*h*l*i+3*c*l*l*o+p*s,m=u*t+3*h*l*n+3*c*l*l*r+p*a,g=e+2*l*(i-e)+d*(o-2*i+e),v=t+2*l*(n-t)+d*(r-2*n+t),b=i+2*l*(o-i)+d*(s-2*o+i),y=n+2*l*(r-n)+d*(a-2*r+n),x=c*e+l*i,_=c*t+l*n,w=c*o+l*s,k=c*r+l*a,C=90-O.atan2(g-b,v-y)*180/W;return(g>b||y>v)&&(C+=180),{x:f,y:m,m:{x:g,y:v},n:{x:b,y:y},start:{x:x,y:_},end:{x:w,y:k},alpha:C}},i.bezierBBox=function(e,t,n,o,r,s,a,l){i.is(e,"array")||(e=[e,t,n,o,r,s,a,l]);var c=Lt.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(e,t,i){return t>=e.x&&t<=e.x2&&i>=e.y&&i<=e.y2},i.isBBoxIntersect=function(e,t){var n=i.isPointInsideBBox;return n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},i.pathIntersection=function(e,t){return p(e,t)},i.pathIntersectionNumber=function(e,t){return p(e,t,1)},i.isPointInsidePath=function(e,t,n){var o=i.pathBBox(e);return i.isPointInsideBBox(o,t,n)&&p(e,[["M",t,n],["H",o.x2+10]],1)%2==1},i._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var $t=i.pathBBox=function(e){var t=St(e);if(t.bbox)return n(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=Pt(e);for(var i,o=0,r=0,s=[],a=[],l=0,c=e.length;c>l;l++)if(i=e[l],i[0]=="M")o=i[1],r=i[2],s.push(o),a.push(r);else{var u=Lt(o,r,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[A](u.min.x,u.max.x),a=a[A](u.min.y,u.max.y),o=i[5],r=i[6]}var h=H[E](0,s),d=H[E](0,a),p=z[E](0,s),f=z[E](0,a),m=p-h,g=f-d,v={x:h,y:d,x2:p,y2:f,width:m,height:g,cx:h+m/2,cy:d+g/2};return t.bbox=n(v),v},Dt=function(e){var t=n(e);return t.toString=i._path2string,t},Et=i._pathToRelative=function(e){var t=St(e);if(t.rel)return Dt(t.rel);i.is(e,X)&&i.is(e&&e[0],X)||(e=i.parsePathString(e));var n=[],o=0,r=0,s=0,a=0,l=0;e[0][0]=="M"&&(o=e[0][1],r=e[0][2],s=o,a=r,l++,n.push(["M",o,r]));for(var c=l,u=e.length;u>c;c++){var h=n[c]=[],d=e[c];if(d[0]!=R.call(d[0]))switch(h[0]=R.call(d[0]),h[0]){case"a":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+(d[6]-o).toFixed(3),h[7]=+(d[7]-r).toFixed(3);break;case"v":h[1]=+(d[1]-r).toFixed(3);break;case"m":s=d[1],a=d[2];default:for(var p=1,f=d.length;f>p;p++)h[p]=+(d[p]-(p%2?o:r)).toFixed(3)}else{h=n[c]=[],d[0]=="m"&&(s=d[1]+o,a=d[2]+r);for(var m=0,g=d.length;g>m;m++)n[c][m]=d[m]}var v=n[c].length;switch(n[c][0]){case"z":o=s,r=a;break;case"h":o+=+n[c][v-1];break;case"v":r+=+n[c][v-1];break;default:o+=+n[c][v-2],r+=+n[c][v-1]}}return n.toString=i._path2string,t.rel=Dt(n),n},At=i._pathToAbsolute=function(e){var t=St(e);if(t.abs)return Dt(t.abs);if(i.is(e,X)&&i.is(e&&e[0],X)||(e=i.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],o=0,r=0,s=0,l=0,c=0;e[0][0]=="M"&&(o=+e[0][1],r=+e[0][2],s=o,l=r,c++,n[0]=["M",o,r]);for(var u,h,d=e.length==3&&e[0][0]=="M"&&e[1][0].toUpperCase()=="R"&&e[2][0].toUpperCase()=="Z",p=c,f=e.length;f>p;p++){if(n.push(u=[]),h=e[p],h[0]!=tt.call(h[0]))switch(u[0]=tt.call(h[0]),u[0]){case"A":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]+o),u[7]=+(h[7]+r);break;case"V":u[1]=+h[1]+r;break;case"H":u[1]=+h[1]+o;break;case"R":for(var m=[o,r][A](h.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+o,m[++g]=+m[g]+r;n.pop(),n=n[A](a(m,d));break;case"M":s=+h[1]+o,l=+h[2]+r;default:for(g=1,v=h.length;v>g;g++)u[g]=+h[g]+(g%2?o:r)}else if(h[0]=="R")m=[o,r][A](h.slice(1)),n.pop(),n=n[A](a(m,d)),u=["R"][A](h.slice(-2));else for(var b=0,y=h.length;y>b;b++)u[b]=h[b];switch(u[0]){case"Z":o=s,r=l;break;case"H":o=u[1];break;case"V":r=u[1];break;case"M":s=u[u.length-2],l=u[u.length-1];default:o=u[u.length-2],r=u[u.length-1]}}return n.toString=i._path2string,t.abs=Dt(n),n},Nt=function(e,t,i,n){return[e,t,i,n,i,n]},Mt=function(e,t,i,n,o,r){var s=1/3,a=2/3;return[s*e+a*i,s*t+a*n,s*o+a*i,s*r+a*n,o,r]},jt=function(e,t,i,n,o,s,a,l,c,u){var h,d=120*W/180,p=W/180*(+o||0),f=[],m=r(function(e,t,i){var n=e*O.cos(i)-t*O.sin(i),o=e*O.sin(i)+t*O.cos(i);return{x:n,y:o}});if(u)C=u[0],T=u[1],w=u[2],k=u[3];else{h=m(e,t,-p),e=h.x,t=h.y,h=m(l,c,-p),l=h.x,c=h.y;var g=(O.cos(W/180*o),O.sin(W/180*o),(e-l)/2),v=(t-c)/2,b=g*g/(i*i)+v*v/(n*n);b>1&&(b=O.sqrt(b),i=b*i,n=b*n);var y=i*i,x=n*n,_=(s==a?-1:1)*O.sqrt(B((y*x-y*v*v-x*g*g)/(y*v*v+x*g*g))),w=_*i*v/n+(e+l)/2,k=_*-n*g/i+(t+c)/2,C=O.asin(((t-k)/n).toFixed(9)),T=O.asin(((c-k)/n).toFixed(9));C=w>e?W-C:C,T=w>l?W-T:T,0>C&&(C=2*W+C),0>T&&(T=2*W+T),a&&C>T&&(C-=2*W),!a&&T>C&&(T-=2*W)}var S=T-C;if(B(S)>d){var $=T,D=l,E=c;T=C+d*(a&&T>C?1:-1),l=w+i*O.cos(T),c=k+n*O.sin(T),f=jt(l,c,i,n,o,0,a,D,E,[T,$,w,k])}S=T-C;var N=O.cos(C),M=O.sin(C),j=O.cos(T),I=O.sin(T),P=O.tan(S/4),F=4/3*i*P,R=4/3*n*P,z=[e,t],H=[e+F*M,t-R*N],q=[l+F*I,c-R*j],G=[l,c];if(H[0]=2*z[0]-H[0],H[1]=2*z[1]-H[1],u)return[H,q,G][A](f);f=[H,q,G][A](f).join()[L](",");for(var U=[],X=0,V=f.length;V>X;X++)U[X]=X%2?m(f[X-1],f[X],p).y:m(f[X],f[X+1],p).x;return U},It=function(e,t,i,n,o,r,s,a,l){var c=1-l;return{x:q(c,3)*e+q(c,2)*3*l*i+3*c*l*l*o+q(l,3)*s,y:q(c,3)*t+q(c,2)*3*l*n+3*c*l*l*r+q(l,3)*a}},Lt=r(function(e,t,i,n,o,r,s,a){var l,c=o-2*i+e-(s-2*o+i),u=2*(i-e)-2*(o-i),h=e-i,d=(-u+O.sqrt(u*u-4*c*h))/2/c,p=(-u-O.sqrt(u*u-4*c*h))/2/c,f=[t,a],m=[e,s];return B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=It(e,t,i,n,o,r,s,a,d),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=It(e,t,i,n,o,r,s,a,p),m.push(l.x),f.push(l.y)),c=r-2*n+t-(a-2*r+n),u=2*(n-t)-2*(r-n),h=t-n,d=(-u+O.sqrt(u*u-4*c*h))/2/c,p=(-u-O.sqrt(u*u-4*c*h))/2/c,B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=It(e,t,i,n,o,r,s,a,d),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=It(e,t,i,n,o,r,s,a,p),m.push(l.x),f.push(l.y)),{min:{x:H[E](0,m),y:H[E](0,f)},max:{x:z[E](0,m),y:z[E](0,f)}}}),Pt=i._path2curve=r(function(e,t){var i=!t&&St(e);if(!t&&i.curve)return Dt(i.curve);for(var n=At(e),o=t&&At(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(e,t,i){var n,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][A](jt[E](0,[t.x,t.y][A](e.slice(1))));break;case"S":"C"==i||"S"==i?(n=t.x*2-t.bx,o=t.y*2-t.by):(n=t.x,o=t.y),e=["C",n,o][A](e.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=t.x*2-t.qx,t.qy=t.y*2-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][A](Mt(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][A](Mt(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][A](Nt(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][A](Nt(t.x,t.y,e[1],t.y));break;case"V":e=["C"][A](Nt(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][A](Nt(t.x,t.y,t.X,t.Y))}return e}),l=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)e.splice(t++,0,["C"][A](i.splice(0,6)));e.splice(t,1),h=z(n.length,o&&o.length||0)}},c=function(e,t,i,r,s){e&&t&&e[s][0]=="M"&&t[s][0]!="M"&&(t.splice(s,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=e[s][1],i.y=e[s][2],h=z(n.length,o&&o.length||0))},u=0,h=z(n.length,o&&o.length||0);h>u;u++){n[u]=a(n[u],r),l(n,u),o&&(o[u]=a(o[u],s)),o&&l(o,u),c(n,o,r,s,u),c(o,n,s,r,u);var d=n[u],p=o&&o[u],f=d.length,m=o&&p.length;r.x=d[f-2],r.y=d[f-1],r.bx=J(d[f-4])||r.x,r.by=J(d[f-3])||r.y,s.bx=o&&(J(p[m-4])||s.x),s.by=o&&(J(p[m-3])||s.y),s.x=o&&p[m-2],s.y=o&&p[m-1]}return o||(i.curve=Dt(n)),o?[n,o]:n},null,Dt),Ft=(i._parseDots=r(function(e){for(var t=[],n=0,o=e.length;o>n;n++){var r={},s=e[n].match(/^([^:]*):?([\d\.]*)/);if(r.color=i.getRGB(s[1]),r.color.error)return null;r.color=r.color.hex,s[2]&&(r.offset=s[2]+"%"),t.push(r)}for(n=1,o=t.length-1;o>n;n++)if(!t[n].offset){for(var a=J(t[n-1].offset||0),l=0,c=n+1;o>c;c++)if(t[c].offset){l=t[c].offset;break}l||(l=100,c=o),l=J(l);for(var u=(l-a)/(c-n+1);c>n;n++)a+=u,t[n].offset=a+"%"}return t}),i._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Rt=(i._tofront=function(e,t){t.top!==e&&(Ft(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},i._toback=function(e,t){t.bottom!==e&&(Ft(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},i._insertafter=function(e,t,i){Ft(e,i),t==i.top&&(i.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},i._insertbefore=function(e,t,i){Ft(e,i),t==i.bottom&&(i.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},i.toMatrix=function(e,t){var i=$t(e),n={_:{transform:M},getBBox:function(){return i}};return Ot(n,t),n.matrix}),Ot=(i.transformPath=function(e,t){return vt(e,Rt(e,t))},i._extractTransform=function(e,t){if(null==t)return e._.transform;t=I(t).replace(/\.{3}|\u2026/g,e._.transform||M);var n=i.parseTransformString(t),o=0,r=0,s=0,a=1,l=1,c=e._,u=new f;if(c.transform=n||[],n)for(var h=0,d=n.length;d>h;h++){var p,m,g,v,b,y=n[h],x=y.length,_=I(y[0]).toLowerCase(),w=y[0]!=_,k=w?u.invert():0;"t"==_&&3==x?w?(p=k.x(0,0),m=k.y(0,0),g=k.x(y[1],y[2]),v=k.y(y[1],y[2]),u.translate(g-p,v-m)):u.translate(y[1],y[2]):"r"==_?2==x?(b=b||e.getBBox(1),u.rotate(y[1],b.x+b.width/2,b.y+b.height/2),o+=y[1]):4==x&&(w?(g=k.x(y[2],y[3]),v=k.y(y[2],y[3]),u.rotate(y[1],g,v)):u.rotate(y[1],y[2],y[3]),o+=y[1]):"s"==_?2==x||3==x?(b=b||e.getBBox(1),u.scale(y[1],y[x-1],b.x+b.width/2,b.y+b.height/2),a*=y[1],l*=y[x-1]):5==x&&(w?(g=k.x(y[3],y[4]),v=k.y(y[3],y[4]),u.scale(y[1],y[2],g,v)):u.scale(y[1],y[2],y[3],y[4]),a*=y[1],l*=y[2]):"m"==_&&7==x&&u.add(y[1],y[2],y[3],y[4],y[5],y[6]),c.dirtyT=1,e.matrix=u}e.matrix=u,c.sx=a,c.sy=l,c.deg=o,c.dx=r=u.e,c.dy=s=u.f,1==a&&1==l&&!o&&c.bbox?(c.bbox.x+=+r,c.bbox.y+=+s):c.dirtyT=1}),zt=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},Ht=i._equaliseTransform=function(e,t){t=I(t).replace(/\.{3}|\u2026/g,e),e=i.parseTransformString(e)||[],t=i.parseTransformString(t)||[];for(var n,o,r,s,a=z(e.length,t.length),l=[],c=[],u=0;a>u;u++){if(r=e[u]||zt(t[u]),s=t[u]||zt(r),r[0]!=s[0]||r[0].toLowerCase()=="r"&&(r[2]!=s[2]||r[3]!=s[3])||r[0].toLowerCase()=="s"&&(r[3]!=s[3]||r[4]!=s[4]))return;for(l[u]=[],c[u]=[],n=0,o=z(r.length,s.length);o>n;n++)n in r&&(l[u][n]=r[n]),n in s&&(c[u][n]=s[n])}return{from:l,to:c}};i._getContainer=function(e,t,n,o){var r;return r=null!=o||i.is(e,"object")?e:S.doc.getElementById(e),null!=r?r.tagName?null==t?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:t,height:n}:{container:1,x:e,y:t,width:n,height:o}:void 0},i.pathToRelative=Et,i._engine={},i.path2curve=Pt,i.matrix=function(e,t,i,n,o,r){return new f(e,t,i,n,o,r)},function(e){function t(e){return e[0]*e[0]+e[1]*e[1]}function n(e){var i=O.sqrt(t(e));e[0]&&(e[0]/=i),e[1]&&(e[1]/=i)}e.add=function(e,t,i,n,o,r){var s,a,l,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[e,i,o],[t,n,r],[0,0,1]];for(e&&e instanceof f&&(d=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),s=0;3>s;s++)for(a=0;3>a;a++){for(c=0,l=0;3>l;l++)c+=h[s][l]*d[l][a];u[s][a]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,i,n){null==t&&(t=e),(i||n)&&this.add(1,0,0,1,i,n),this.add(e,0,0,t,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,t,n){e=i.rad(e),t=t||0,n=n||0;var o=+O.cos(e).toFixed(9),r=+O.sin(e).toFixed(9);this.add(o,r,-r,o,t,n),this.add(1,0,0,1,-t,-n)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[I.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var o=[[this.a,this.c],[this.b,this.d]];e.scalex=O.sqrt(t(o[0])),n(o[0]),e.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*e.shear,o[1][1]-o[0][1]*e.shear],e.scaley=O.sqrt(t(o[1])),n(o[1]),e.shear/=e.scaley;var r=-o[0][1],s=o[1][1];return 0>s?(e.rotate=i.deg(O.acos(s)),0>r&&(e.rotate=360-e.rotate)):e.rotate=i.deg(O.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[L]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:M)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:M)+(t.rotate?"r"+[t.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Bt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);
_.safari=navigator.vendor=="Apple Computer, Inc."&&(Bt&&Bt[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&Bt&&Bt[1]<8?function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){e.remove()})}:dt;for(var qt=function(){this.returnValue=!1},Wt=function(){return this.originalEvent.preventDefault()},Gt=function(){this.cancelBubble=!0},Ut=function(){return this.originalEvent.stopPropagation()},Xt=function(e){var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,i=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{x:e.clientX+i,y:e.clientY+t}},Vt=function(){return S.doc.addEventListener?function(e,t,i,n){var o=function(e){var t=Xt(e);return i.call(n,e,t.x,t.y)};if(e.addEventListener(t,o,!1),N&&F[t]){var r=function(t){for(var o=Xt(t),r=t,s=0,a=t.targetTouches&&t.targetTouches.length;a>s;s++)if(t.targetTouches[s].target==e){t=t.targetTouches[s],t.originalEvent=r,t.preventDefault=Wt,t.stopPropagation=Ut;break}return i.call(n,t,o.x,o.y)};e.addEventListener(F[t],r,!1)}return function(){return e.removeEventListener(t,o,!1),N&&F[t]&&e.removeEventListener(F[t],o,!1),!0}}:S.doc.attachEvent?function(e,t,i,n){var o=function(e){e=e||S.win.event;var t=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,o=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,r=e.clientX+o,s=e.clientY+t;return e.preventDefault=e.preventDefault||qt,e.stopPropagation=e.stopPropagation||Gt,i.call(n,e,r,s)};e.attachEvent("on"+t,o);var r=function(){return e.detachEvent("on"+t,o),!0};return r}:void 0}(),Yt=[],Kt=function(e){for(var i,n=e.clientX,o=e.clientY,r=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=Yt.length;a--;){if(i=Yt[a],N&&e.touches){for(var l,c=e.touches.length;c--;)if(l=e.touches[c],l.identifier==i.el._drag.id){n=l.clientX,o=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u,h=i.el.node,d=h.nextSibling,p=h.parentNode,f=h.style.display;S.win.opera&&p.removeChild(h),h.style.display="none",u=i.el.paper.getElementByPoint(n,o),h.style.display=f,S.win.opera&&(d?p.insertBefore(h,d):p.appendChild(h)),u&&t("raphael.drag.over."+i.el.id,i.el,u),n+=s,o+=r,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,o-i.el._drag.y,n,o,e)}},Qt=function(e){i.unmousemove(Kt).unmouseup(Qt);for(var n,o=Yt.length;o--;)n=Yt[o],n.el._drag={},t("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);Yt=[]},Zt=i.el={},Jt=P.length;Jt--;)(function(e){i[e]=Zt[e]=function(t,n){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Vt(this.shape||this.node||S.doc,e,t,n||this)})),this},i["un"+e]=Zt["un"+e]=function(t){for(var n=this.events||[],o=n.length;o--;)n[o].name!=e||!i.is(t,"undefined")&&n[o].f!=t||(n[o].unbind(),n.splice(o,1),!n.length&&delete this.events);return this}})(P[Jt]);Zt.data=function(e,n){var o=ut[this.id]=ut[this.id]||{};if(arguments.length==0)return o;if(arguments.length==1){if(i.is(e,"object")){for(var r in e)e[T](r)&&this.data(r,e[r]);return this}return t("raphael.data.get."+this.id,this,o[e],e),o[e]}return o[e]=n,t("raphael.data.set."+this.id,this,n,e),this},Zt.removeData=function(e){return null==e?ut[this.id]={}:ut[this.id]&&delete ut[this.id][e],this},Zt.getData=function(){return n(ut[this.id]||{})},Zt.hover=function(e,t,i,n){return this.mouseover(e,i).mouseout(t,n||i)},Zt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var ei=[];Zt.drag=function(e,n,o,r,s,a){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,u=l.clientY,h=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,d=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;if(this._drag.id=l.identifier,N&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){c=p.clientX,u=p.clientY;break}this._drag.x=c+d,this._drag.y=u+h,!Yt.length&&i.mousemove(Kt).mouseup(Qt),Yt.push({el:this,move_scope:r,start_scope:s,end_scope:a}),n&&t.on("raphael.drag.start."+this.id,n),e&&t.on("raphael.drag.move."+this.id,e),o&&t.on("raphael.drag.end."+this.id,o),t("raphael.drag.start."+this.id,s||r||this,l.clientX+d,l.clientY+h,l)}return this._drag={},ei.push({el:this,start:l}),this.mousedown(l),this},Zt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Zt.undrag=function(){for(var e=ei.length;e--;)ei[e].el==this&&(this.unmousedown(ei[e].start),ei.splice(e,1),t.unbind("raphael.drag.*."+this.id));!ei.length&&i.unmousemove(Kt).unmouseup(Qt),Yt=[]},_.circle=function(e,t,n){var o=i._engine.circle(this,e||0,t||0,n||0);return this.__set__&&this.__set__.push(o),o},_.rect=function(e,t,n,o,r){var s=i._engine.rect(this,e||0,t||0,n||0,o||0,r||0);return this.__set__&&this.__set__.push(s),s},_.ellipse=function(e,t,n,o){var r=i._engine.ellipse(this,e||0,t||0,n||0,o||0);return this.__set__&&this.__set__.push(r),r},_.path=function(e){e&&!i.is(e,U)&&!i.is(e[0],X)&&(e+=M);var t=i._engine.path(i.format[E](i,arguments),this);return this.__set__&&this.__set__.push(t),t},_.image=function(e,t,n,o,r){var s=i._engine.image(this,e||"about:blank",t||0,n||0,o||0,r||0);return this.__set__&&this.__set__.push(s),s},_.text=function(e,t,n){var o=i._engine.text(this,e||0,t||0,I(n));return this.__set__&&this.__set__.push(o),o},_.set=function(e){!i.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new di(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},_.setStart=function(e){this.__set__=e||this.set()},_.setFinish=function(){var e=this.__set__;return delete this.__set__,e},_.setSize=function(e,t){return i._engine.setSize.call(this,e,t)},_.setViewBox=function(e,t,n,o,r){return i._engine.setViewBox.call(this,e,t,n,o,r)},_.top=_.bottom=null,_.raphael=i;var ti=function(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,n=i.body,o=i.documentElement,r=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0,a=t.top+(S.win.pageYOffset||o.scrollTop||n.scrollTop)-r,l=t.left+(S.win.pageXOffset||o.scrollLeft||n.scrollLeft)-s;return{y:a,x:l}};_.getElementByPoint=function(e,t){var i=this,n=i.canvas,o=S.doc.elementFromPoint(e,t);if(S.win.opera&&o.tagName=="svg"){var r=ti(n),s=n.createSVGRect();s.x=e-r.x,s.y=t-r.y,s.width=s.height=1;var a=n.getIntersectionList(s,null);a.length&&(o=a[a.length-1])}if(!o)return null;for(;o.parentNode&&o!=n.parentNode&&!o.raphael;)o=o.parentNode;return o==i.canvas.parentNode&&(o=n),o=o&&o.raphael?i.getById(o.raphaelid):null},_.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),e)&&t.push(n)}),t},_.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},_.forEach=function(e,t){for(var i=this.bottom;i;){if(e.call(t,i)===!1)return this;i=i.next}return this},_.getElementsByPoint=function(e,t){var i=this.set();return this.forEach(function(n){n.isPointInside(e,t)&&i.push(n)}),i},Zt.isPointInside=function(e,t){var n=this.realPath=gt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,e,t)},Zt.getBBox=function(e){if(this.removed)return{};var t=this._;return e?((t.dirty||!t.bboxwt)&&(this.realPath=gt[this.type](this),t.bboxwt=$t(this.realPath),t.bboxwt.toString=m,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=gt[this.type](this)),t.bbox=$t(vt(this.realPath,this.matrix)),t.bbox.toString=m,t.dirty=t.dirtyT=0),t.bbox)},Zt.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Zt.glow=function(e){if(this.type=="text")return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity||.5,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},i=t.width/2,n=this.paper,o=n.set(),r=this.realPath||gt[this.type](this);r=this.matrix?vt(r,this.matrix):r;for(var s=1;i+1>s;s++)o.push(n.path(r).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/i*s).toFixed(3),opacity:+(t.opacity/i).toFixed(3)}));return o.insertBefore(this).translate(t.offsetx,t.offsety)};var ii=function(e,t,n,o,r,s,a,l,h){return null==h?c(e,t,n,o,r,s,a,l):i.findDotsAtSegment(e,t,n,o,r,s,a,l,u(e,t,n,o,r,s,a,l,h))},ni=function(e,t){return function(n,o,r){n=Pt(n);for(var s,a,l,c,u,h="",d={},p=0,f=0,m=n.length;m>f;f++){if(l=n[f],l[0]=="M")s=+l[1],a=+l[2];else{if(c=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>o){if(t&&!d.start){if(u=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6],o-p),h+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],r)return h;d.start=h,h=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=c,s=+l[5],a=+l[6];continue}if(!e&&!t)return u=ii(s,a,l[1],l[2],l[3],l[4],l[5],l[6],o-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=c,s=+l[5],a=+l[6]}h+=l.shift()+l}return d.end=h,u=e?p:t?d:i.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},oi=ni(1),ri=ni(),si=ni(0,1);i.getTotalLength=oi,i.getPointAtLength=ri,i.getSubpath=function(e,t,i){if(this.getTotalLength(e)-i<1e-6)return si(e,t).end;var n=si(e,i,1);return t?si(n,t).end:n},Zt.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():oi(e)},Zt.getPointAtLength=function(e){var t=this.getPath();if(t)return ri(t,e)},Zt.getPath=function(){var e,t=i._getPath[this.type];if(this.type!="text"&&this.type!="set")return t&&(e=t(this)),e},Zt.getSubpath=function(e,t){var n=this.getPath();if(n)return i.getSubpath(n,e,t)};var ai=i.easing_formulas={linear:function(e){return e},"<":function(e){return q(e,1.7)},">":function(e){return q(e,.48)},"<>":function(e){var t=.48-e/1.04,i=O.sqrt(.1734+t*t),n=i-t,o=q(B(n),1/3)*(0>n?-1:1),r=-i-t,s=q(B(r),1/3)*(0>r?-1:1),a=o+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:q(2,-10*e)*O.sin((e-.075)*2*W/.3)+1},bounce:function(e){var t,i=7.5625,n=2.75;return 1/n>e?t=i*e*e:2/n>e?(e-=1.5/n,t=i*e*e+.75):2.5/n>e?(e-=2.25/n,t=i*e*e+.9375):(e-=2.625/n,t=i*e*e+.984375),t}};ai.easeIn=ai["ease-in"]=ai["<"],ai.easeOut=ai["ease-out"]=ai[">"],ai.easeInOut=ai["ease-in-out"]=ai["<>"],ai["back-in"]=ai.backIn,ai["back-out"]=ai.backOut;var li=[],ci=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,16)},ui=function(){for(var e=+new Date,n=0;n<li.length;n++){var o=li[n];if(!o.el.removed&&!o.paused){var r,s,a=e-o.start,l=o.ms,c=o.easing,u=o.from,h=o.diff,d=o.to,p=(o.t,o.el),f={},m={};if(o.initstatus?(a=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*l,o.status=o.initstatus,delete o.initstatus,o.stop&&li.splice(n--,1)):o.status=(o.prev+(o.percent-o.prev)*(a/l))/o.anim.top,!(0>a))if(l>a){var g=c(a/l);for(var v in u)if(u[T](v)){switch(nt[v]){case G:r=+u[v]+g*l*h[v];break;case"colour":r="rgb("+[hi(Z(u[v].r+g*l*h[v].r)),hi(Z(u[v].g+g*l*h[v].g)),hi(Z(u[v].b+g*l*h[v].b))].join(",")+")";break;case"path":r=[];for(var y=0,x=u[v].length;x>y;y++){r[y]=[u[v][y][0]];for(var _=1,w=u[v][y].length;w>_;_++)r[y][_]=+u[v][y][_]+g*l*h[v][y][_];r[y]=r[y].join(j)}r=r.join(j);break;case"transform":if(h[v].real)for(r=[],y=0,x=u[v].length;x>y;y++)for(r[y]=[u[v][y][0]],_=1,w=u[v][y].length;w>_;_++)r[y][_]=u[v][y][_]+g*l*h[v][y][_];else{var k=function(e){return+u[v][e]+g*l*h[v][e]};r=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(r=[],y=4;y--;)r[y]=+u[v][y]+g*l*h[v][y];break;default:var C=[][A](u[v]);for(r=[],y=p.paper.customAttributes[v].length;y--;)r[y]=+C[y]+g*l*h[v][y]}f[v]=r}p.attr(f),function(e,i,n){setTimeout(function(){t("raphael.anim.frame."+e,i,n)})}(p.id,p,o.anim)}else{if(function(e,n,o){setTimeout(function(){t("raphael.anim.frame."+n.id,n,o),t("raphael.anim.finish."+n.id,n,o),i.is(e,"function")&&e.call(n)})}(o.callback,p,o.anim),p.attr(d),li.splice(n--,1),o.repeat>1&&!o.next){for(s in d)d[T](s)&&(m[s]=o.totalOrigin[s]);o.el.attr(m),b(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&b(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),li.length&&ci(ui)},hi=function(e){return e>255?255:0>e?0:e};Zt.animateWith=function(e,t,n,o,r,s){var a=this;if(a.removed)return s&&s.call(a),a;var l=n instanceof v?n:i.animation(n,o,r,s);b(l,a,l.percents[0],null,a.attr());for(var c=0,u=li.length;u>c;c++)if(li[c].anim==t&&li[c].el==e){li[u-1].start=li[c].start;break}return a},Zt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(e){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},v.prototype.repeat=function(e){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=O.floor(z(e,0))||1,t},i.animation=function(e,t,n,o){if(e instanceof v)return e;(i.is(n,"function")||!n)&&(o=o||n||null,n=null),e=Object(e),t=+t||0;var r,s,a={};for(s in e)e[T](s)&&J(s)!=s&&J(s)+"%"!=s&&(r=!0,a[s]=e[s]);return r?(n&&(a.easing=n),o&&(a.callback=o),new v({100:a},t)):new v(e,t)},Zt.animate=function(e,t,n,o){var r=this;if(r.removed)return o&&o.call(r),r;var s=e instanceof v?e:i.animation(e,t,n,o);return b(s,r,s.percents[0],null,r.attr()),r},Zt.setTime=function(e,t){return e&&null!=t&&this.status(e,H(t,e.ms)/e.ms),this},Zt.status=function(e,t){var i,n,o=[],r=0;if(null!=t)return b(e,this,-1,H(t,1)),this;for(i=li.length;i>r;r++)if(n=li[r],n.el.id==this.id&&(!e||n.anim==e)){if(e)return n.status;o.push({anim:n.anim,status:n.status})}return e?0:o},Zt.pause=function(e){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||e&&li[i].anim!=e||t("raphael.anim.pause."+this.id,this,li[i].anim)!==!1&&(li[i].paused=!0);return this},Zt.resume=function(e){for(var i=0;i<li.length;i++)if(li[i].el.id==this.id&&(!e||li[i].anim==e)){var n=li[i];t("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Zt.stop=function(e){for(var i=0;i<li.length;i++)li[i].el.id!=this.id||e&&li[i].anim!=e||t("raphael.anim.stop."+this.id,this,li[i].anim)!==!1&&li.splice(i--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Zt.toString=function(){return"Raphaël’s object"};var di=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,i=e.length;i>t;t++)!e[t]||e[t].constructor!=Zt.constructor&&e[t].constructor!=di||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},pi=di.prototype;pi.push=function(){for(var e,t,i=0,n=arguments.length;n>i;i++)e=arguments[i],!e||e.constructor!=Zt.constructor&&e.constructor!=di||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},pi.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pi.forEach=function(e,t){for(var i=0,n=this.items.length;n>i;i++)if(e.call(t,this.items[i],i)===!1)return this;return this};for(var fi in Zt)Zt[T](fi)&&(pi[fi]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e][E](i,t)})}}(fi));return pi.attr=function(e,t){if(e&&i.is(e,X)&&i.is(e[0],"object"))for(var n=0,o=e.length;o>n;n++)this.items[n].attr(e[n]);else for(var r=0,s=this.items.length;s>r;r++)this.items[r].attr(e,t);return this},pi.clear=function(){for(;this.length;)this.pop()},pi.splice=function(e,t){e=0>e?z(this.length+e,0):e,t=z(0,H(this.length-e,t));var i,n=[],o=[],r=[];for(i=2;i<arguments.length;i++)r.push(arguments[i]);for(i=0;t>i;i++)o.push(this[e+i]);for(;i<this.length-e;i++)n.push(this[e+i]);var s=r.length;for(i=0;i<s+n.length;i++)this.items[e+i]=this[e+i]=s>i?r[i]:n[i-s];for(i=this.items.length=this.length-=t-s;this[i];)delete this[i++];return new di(o)},pi.exclude=function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return this.splice(t,1),!0},pi.animate=function(e,t,n,o){(i.is(n,"function")||!n)&&(o=n||null);var r,s,a=this.items.length,l=a,c=this;if(!a)return this;o&&(s=function(){!--a&&o.call(c)}),n=i.is(n,U)?n:s;var u=i.animation(e,t,n,s);for(r=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(r,u,u),this.items[l]&&!this.items[l].removed||a--;return this},pi.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},pi.getBBox=function(){for(var e=[],t=[],i=[],n=[],o=this.items.length;o--;)if(!this.items[o].removed){var r=this.items[o].getBBox();e.push(r.x),t.push(r.y),i.push(r.x+r.width),n.push(r.y+r.height)}return e=H[E](0,e),t=H[E](0,t),i=z[E](0,i),n=z[E](0,n),{x:e,y:t,x2:i,y2:n,width:i-e,height:n-t}},pi.clone=function(e){e=this.paper.set();for(var t=0,i=this.items.length;i>t;t++)e.push(this.items[t].clone());return e},pi.toString=function(){return"Raphaël‘s set"},pi.glow=function(e){var t=this.paper.set();return this.forEach(function(i){var n=i.glow(e);null!=n&&n.forEach(function(e){t.push(e)})}),t},pi.isPointInside=function(e,t){var i=!1;return this.forEach(function(n){return n.isPointInside(e,t)?(console.log("runned"),i=!0,!1):void 0}),i},i.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var n in e.face)e.face[T](n)&&(t.face[n]=e.face[n]);if(this.fonts[i]?this.fonts[i].push(t):this.fonts[i]=[t],!e.svg){t.face["units-per-em"]=et(e.face["units-per-em"],10);for(var o in e.glyphs)if(e.glyphs[T](o)){var r=e.glyphs[o];if(t.glyphs[o]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},r.k)for(var s in r.k)r[T](s)&&(t.glyphs[o].k[s]=r.k[s])}}return e},_.getFont=function(e,t,n,o){if(o=o||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){var r=i.fonts[e];if(!r){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var a in i.fonts)if(i.fonts[T](a)&&s.test(a)){r=i.fonts[a];break}}var l;if(r)for(var c=0,u=r.length;u>c&&(l=r[c],l.face["font-weight"]!=t||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=o);c++);return l}},_.print=function(e,t,n,o,r,s,a,l){s=s||"middle",a=z(H(a||0,1),-1),l=z(H(l||1,3),1);var c,u=I(n)[L](M),h=0,d=0,p=M;if(i.is(o,"string")&&(o=this.getFont(o)),o){c=(r||16)/o.face["units-per-em"];for(var f=o.face.bbox[L](w),m=+f[0],g=f[3]-f[1],v=0,b=+f[1]+("baseline"==s?g+ +o.face.descent:g/2),y=0,x=u.length;x>y;y++){if(u[y]=="\n")h=0,k=0,d=0,v+=g*l;else{var _=d&&o.glyphs[u[y-1]]||{},k=o.glyphs[u[y]];h+=d?(_.w||o.w)+(_.k&&_.k[u[y]]||0)+o.w*a:0,d=1}k&&k.d&&(p+=i.transformPath(k.d,["t",h*c,v*c,"s",c,c,m,b,"t",(e-m)/c,(t-b)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},_.add=function(e){if(i.is(e,"array"))for(var t,n=this.set(),o=0,r=e.length;r>o;o++)t=e[o]||{},k[T](t.type)&&n.push(this[t.type]().attr(t));return n},i.format=function(e,t){var n=i.is(t,X)?[0][A](t):arguments;return e&&i.is(e,U)&&n.length-1&&(e=e.replace(C,function(e,t){return n[++t]==null?M:n[t]})),e||M},i.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(e,i,n){var o=n;return i.replace(t,function(e,t,i,n,r){t=t||n,o&&(t in o&&(o=o[t]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?e:o)+""};return function(t,n){return String(t).replace(e,function(e,t){return i(e,t,n)})}}(),i.ninja=function(){return $.was?S.win.Raphael=$.is:delete Raphael,i},i.st=pi,function(e,t,n){function o(){/in/.test(e.readyState)?setTimeout(o,9):i.eve("raphael.DOMload")}e.readyState==null&&e.addEventListener&&(e.addEventListener(t,n=function(){e.removeEventListener(t,n,!1),e.readyState="complete"},!1),e.readyState="loading"),o()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){x=!0}),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.svg){var e="hasOwnProperty",t=String,n=parseFloat,o=parseInt,r=Math,s=r.max,a=r.abs,l=r.pow,c=/[, ]+/,u=i.eve,h="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(n,o){if(o){"string"==typeof n&&(n=g(n));for(var r in o)o[e](r)&&(r.substring(0,6)=="xlink:"?n.setAttributeNS(p,r.substring(6),t(o[r])):n.setAttribute(r,t(o[r])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,o){var c="linear",u=e.id+o,d=.5,p=.5,f=e.node,m=e.paper,v=f.style,b=i._g.doc.getElementById(u);if(!b){if(o=t(o).replace(i._radial_gradient,function(e,t,i){if(c="radial",t&&i){d=n(t),p=n(i);var o=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=r.sqrt(.25-l(d-.5,2))*o+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*o)}return h}),o=o.split(/\s*\-\s*/),"linear"==c){var y=o.shift();if(y=-n(y),isNaN(y))return null;var x=[0,0,r.cos(i.rad(y)),r.sin(i.rad(y))],_=1/(s(a(x[2]),a(x[3]))||1);x[2]*=_,x[3]*=_,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var w=i._parseDots(o);if(!w)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(c+"Gradient",{id:u}),e.gradient=b,g(b,"radial"==c?{fx:d,fy:p}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var k=0,C=w.length;C>k;k++)b.appendChild(g("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return g(f,{fill:"url(#"+u+")",opacity:1,"fill-opacity":1}),v.fill=h,v.opacity=1,v.fillOpacity=1,1},b=function(e){var t=e.getBBox(1);g(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},y=function(n,o,r){if(n.type=="path"){for(var s,a,l,c,u,d=t(o).toLowerCase().split("-"),p=n.paper,v=r?"end":"start",b=n.node,y=n.attrs,x=y["stroke-width"],_=d.length,w="classic",k=3,C=3,T=5;_--;)switch(d[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=d[_];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,T+=2,l=1,c=r?4:1,u={fill:"none",stroke:y.stroke}):(c=l=k/2,u={fill:y.stroke,stroke:"none"}),n._.arrows?r?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var S="raphael-marker-"+w,$="raphael-marker-"+v+w+k+C;i._g.doc.getElementById(S)?m[S]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[w],id:S})),m[S]=1);var D,E=i._g.doc.getElementById($);E?(m[$]++,D=E.getElementsByTagName("use")[0]):(E=g(g("marker"),{id:$,markerHeight:C,markerWidth:k,orient:"auto",refX:c,refY:C/2}),D=g(g("use"),{"xlink:href":"#"+S,transform:(r?"rotate(180 "+k/2+" "+C/2+") ":h)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),E.appendChild(D),p.defs.appendChild(E),m[$]=1),g(D,u);var A=l*("diamond"!=w&&"oval"!=w);r?(s=n._.arrows.startdx*x||0,a=i.getTotalLength(y.path)-A*x):(s=A*x,a=i.getTotalLength(y.path)-(n._.arrows.enddx*x||0)),u={},u["marker-"+v]="url(#"+$+")",(a||s)&&(u.d=i.getSubpath(y.path,s,a)),g(b,u),n._.arrows[v+"Path"]=S,n._.arrows[v+"Marker"]=$,n._.arrows[v+"dx"]=A,n._.arrows[v+"Type"]=w,n._.arrows[v+"String"]=o}else r?(s=n._.arrows.startdx*x||0,a=i.getTotalLength(y.path)-s):(s=0,a=i.getTotalLength(y.path)-(n._.arrows.enddx*x||0)),n._.arrows[v+"Path"]&&g(b,{d:i.getSubpath(y.path,s,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(u in m)if(m[e](u)&&!m[u]){var N=i._g.doc.getElementById(u);N&&N.parentNode.removeChild(N)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(e,i,n){if(i=x[t(i).toLowerCase()]){for(var o=e.attrs["stroke-width"]||"1",r={round:o,square:o,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],a=i.length;a--;)s[a]=i[a]*o+(a%2?1:-1)*r;g(e.node,{"stroke-dasharray":s.join(",")})}},w=function(n,r){var l=n.node,u=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in r)if(r[e](f)){if(!i._availableAttrs[e](f))continue;var m=r[f];switch(u[f]=m,f){case"blur":n.blur(m);break;case"href":case"title":var x=g("title"),w=i._g.doc.createTextNode(m);x.appendChild(w),l.appendChild(x);break;case"target":var k=l.parentNode;if(k.tagName.toLowerCase()!="a"){var x=g("a");k.insertBefore(x,l),x.appendChild(l),k=x}"target"==f?k.setAttributeNS(p,"show","blank"==m?"new":m):k.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":y(n,m);break;case"arrow-end":y(n,m,1);break;case"clip-rect":var T=t(m).split(c);if(T.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var S=g("clipPath"),$=g("rect");S.id=i.createUUID(),g($,{x:T[0],y:T[1],width:T[2],height:T[3]}),S.appendChild($),n.paper.defs.appendChild(S),g(l,{"clip-path":"url(#"+S.id+")"}),n.clip=$}if(!m){var D=l.getAttribute("clip-path");if(D){var E=i._g.doc.getElementById(D.replace(/(^url\(#|\)$)/g,h));E&&E.parentNode.removeChild(E),g(l,{"clip-path":h}),delete n.clip}}break;case"path":n.type=="path"&&(g(l,{d:m?u.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!u.fx)break;f="x",m=u.x;case"x":u.fx&&(m=-u.x-(u.width||0));case"rx":if("rx"==f&&n.type=="rect")break;case"cx":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!u.fy)break;f="y",m=u.y;case"y":u.fy&&(m=-u.y-(u.height||0));case"ry":if("ry"==f&&n.type=="rect")break;case"cy":l.setAttribute(f,m),n.pattern&&b(n),n._.dirty=1;break;case"r":n.type=="rect"?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":n.type=="image"&&l.setAttributeNS(p,"href",m);break;case"stroke-width":(n._.sx!=1||n._.sy!=1)&&(m/=s(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),u["stroke-dasharray"]&&_(n,u["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"stroke-dasharray":_(n,m,r);break;case"fill":var A=t(m).match(i._ISURL);if(A){S=g("pattern");var N=g("image");S.id=i.createUUID(),g(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(N,{x:0,y:0,"xlink:href":A[1]}),S.appendChild(N),function(e){i._preload(A[1],function(){var t=this.offsetWidth,i=this.offsetHeight;g(e,{width:t,height:i}),g(N,{width:t,height:i}),n.paper.safari()})}(S),n.paper.defs.appendChild(S),g(l,{fill:"url(#"+S.id+")"}),n.pattern=S,n.pattern&&b(n);break}var M=i.getRGB(m);if(M.error){if((n.type=="circle"||n.type=="ellipse"||t(m).charAt()!="r")&&v(n,m)){if("opacity"in u||"fill-opacity"in u){var j=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(j){var I=j.getElementsByTagName("stop");g(I[I.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=m,u.fill="none";break}}else delete r.gradient,delete u.gradient,!i.is(u.opacity,"undefined")&&i.is(r.opacity,"undefined")&&g(l,{opacity:u.opacity}),!i.is(u["fill-opacity"],"undefined")&&i.is(r["fill-opacity"],"undefined")&&g(l,{"fill-opacity":u["fill-opacity"]});M[e]("opacity")&&g(l,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=i.getRGB(m),l.setAttribute(f,M.hex),"stroke"==f&&M[e]("opacity")&&g(l,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&y(n,n._.arrows.startString),"endString"in n._.arrows&&y(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||t(m).charAt()!="r")&&v(n,m);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(u.gradient){j=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)),j&&(I=j.getElementsByTagName("stop"),g(I[I.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=o(m,10)+"px");var L=f.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[L]=m,n._.dirty=1,l.setAttribute(f,m)}}C(n,r),l.style.visibility=d},k=1.2,C=function(n,r){if(n.type=="text"&&(r[e]("text")||r[e]("font")||r[e]("font-size")||r[e]("x")||r[e]("y"))){var s=n.attrs,a=n.node,l=a.firstChild?o(i._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(r[e]("text")){for(s.text=r.text;a.firstChild;)a.removeChild(a.firstChild);for(var c,u=t(r.text).split("\n"),d=[],p=0,f=u.length;f>p;p++)c=g("tspan"),p&&g(c,{dy:l*k,x:s.x}),c.appendChild(i._g.doc.createTextNode(u[p])),a.appendChild(c),d[p]=c}else for(d=a.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?g(d[p],{dy:l*k,x:s.x}):g(d[0],{dy:0});g(a,{x:s.x,y:s.y}),n._.dirty=1;var m=n._getBBox(),v=s.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(d[0],{dy:v})}},T=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},S=i.el;T.prototype=S,S.constructor=T,i._engine.path=function(e,t){var i=g("path");t.canvas&&t.canvas.appendChild(i);var n=new T(i,t);return n.type="path",w(n,{fill:"none",stroke:"#000",path:e}),n},S.rotate=function(e,i,o){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(i=o),null==i||null==o){var r=this.getBBox(1);i=r.x+r.width/2,o=r.y+r.height/2}return this.transform(this._.transform.concat([["r",e,i,o]])),this},S.scale=function(e,i,o,r){if(this.removed)return this;if(e=t(e).split(c),e.length-1&&(i=n(e[1]),o=n(e[2]),r=n(e[3])),e=n(e[0]),null==i&&(i=e),null==r&&(o=r),null==o||null==r)var s=this.getBBox(1);return o=null==o?s.x+s.width/2:o,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,i,o,r]])),this},S.translate=function(e,i){return this.removed?this:(e=t(e).split(c),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",e,i]])),this)},S.transform=function(t){var n=this._;if(null==t)return n.transform;if(i._extractTransform(this,t),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),n.sx!=1||n.sy!=1){var o=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},S.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},S.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},S.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),i._tear(this,e),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var t in this)this[t]=typeof this[t]=="function"?i._removedFactory(t):null;this.removed=!0}},S._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(i){}finally{t=t||{}}return e&&this.hide(),t},S.attr=function(t,n){if(this.removed)return this;if(null==t){var o={};for(var r in this.attrs)this.attrs[e](r)&&(o[r]=this.attrs[r]);return o.gradient&&o.fill=="none"&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(t,"string")){if("fill"==t&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var s=t.split(c),a={},l=0,h=s.length;h>l;l++)t=s[l],a[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return h-1?a:a[s[0]]}if(null==n&&i.is(t,"array")){for(a={},l=0,h=t.length;h>l;l++)a[t[l]]=this.attr(t[l]);return a}if(null!=n){var d={};d[t]=n}else null!=t&&i.is(t,"object")&&(d=t);for(var p in d)u("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var m in f)f[e](m)&&(d[m]=f[m])}return w(this,d),this},S.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&i._tofront(this,e),this},S.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;return e.tagName.toLowerCase()=="a"?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this},S.insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this},S.insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),i._insertbefore(this,e,this.paper),this},S.blur=function(e){var t=this;if(0!==+e){var n=g("filter"),o=g("feGaussianBlur");t.attrs.blur=e,n.id=i.createUUID(),g(o,{stdDeviation:+e||1.5}),n.appendChild(o),t.paper.defs.appendChild(n),t._blur=n,g(t.node,{filter:"url(#"+n.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},i._engine.circle=function(e,t,i,n){var o=g("circle");e.canvas&&e.canvas.appendChild(o);var r=new T(o,e);return r.attrs={cx:t,cy:i,r:n,fill:"none",stroke:"#000"},r.type="circle",g(o,r.attrs),r},i._engine.rect=function(e,t,i,n,o,r){var s=g("rect");e.canvas&&e.canvas.appendChild(s);var a=new T(s,e);return a.attrs={x:t,y:i,width:n,height:o,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"},a.type="rect",g(s,a.attrs),a},i._engine.ellipse=function(e,t,i,n,o){var r=g("ellipse");e.canvas&&e.canvas.appendChild(r);var s=new T(r,e);return s.attrs={cx:t,cy:i,rx:n,ry:o,fill:"none",stroke:"#000"},s.type="ellipse",g(r,s.attrs),s},i._engine.image=function(e,t,i,n,o,r){var s=g("image");g(s,{x:i,y:n,width:o,height:r,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",t),e.canvas&&e.canvas.appendChild(s);var a=new T(s,e);return a.attrs={x:i,y:n,width:o,height:r,src:t},a.type="image",a},i._engine.text=function(e,t,n,o){var r=g("text");e.canvas&&e.canvas.appendChild(r);var s=new T(r,e);return s.attrs={x:t,y:n,"text-anchor":"middle",text:o,font:i._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},i._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e&&e.container,n=e.x,o=e.y,r=e.width,s=e.height;if(!t)throw new Error("SVG container not found.");var a,l=g("svg"),c="overflow:hidden;";return n=n||0,o=o||0,r=r||512,s=s||342,g(l,{height:s,version:1.1,width:r,xmlns:"http://www.w3.org/2000/svg"}),1==t?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+o+"px",i._g.doc.body.appendChild(l),a=1):(l.style.cssText=c+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),t=new i._Paper,t.width=r,t.height=s,t.canvas=l,t.clear(),t._left=t._top=0,a&&(t.renderfix=function(){}),t.renderfix(),t},i._engine.setViewBox=function(e,t,i,n,o){u("raphael.setViewBox",this,this._viewBox,[e,t,i,n,o]);var r,a,l=s(i/this.width,n/this.height),c=this.top,h=o?"meet":"xMinYMin";for(null==e?(this._vbSize&&(l=1),delete this._vbSize,r="0 0 "+this.width+d+this.height):(this._vbSize=l,r=e+d+t+d+i+d+n),g(this.canvas,{viewBox:r,preserveAspectRatio:h});l&&c;)a="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":a}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[e,t,i,n,!!o],this},i.prototype.renderfix=function(){var e,t=this.canvas,i=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var o=-e.e%1,r=-e.f%1;(o||r)&&(o&&(this._left=(this._left+o)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?i._removedFactory(e):null};var $=i.st;for(var D in S)S[e](D)&&!$[e](D)&&($[D]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(D))}}(),// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(){if(i.vml){var e="hasOwnProperty",t=String,n=parseFloat,o=Math,r=o.round,s=o.max,a=o.min,l=o.abs,c="fill",u=/[, ]+/,h=i.eve,d=" progid:DXImageTransform.Microsoft",p=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,b=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var n=/[ahqstv]/gi,o=i._pathToAbsolute;if(t(e).match(n)&&(o=i._path2curve),n=/[clmz]/g,o==i._pathToAbsolute&&!t(e).match(n)){var s=t(e).replace(g,function(e,t,i){var n=[],o=t.toLowerCase()=="m",s=m[t];return i.replace(b,function(e){o&&n.length==2&&(s+=n+m["m"==t?"l":"L"],n=[]),n.push(r(e*x))}),s+n});return s}var a,l,c=o(e);s=[];for(var u=0,h=c.length;h>u;u++){a=c[u],l=c[u][0].toLowerCase(),"z"==l&&(l="x");for(var d=1,v=a.length;v>d;d++)l+=r(a[d]*x)+(d!=v-1?",":f);s.push(l)}return s.join(p)},C=function(e,t,n){var o=i.matrix();return o.rotate(-e,.5,.5),{dx:o.x(t,n),dy:o.y(t,n)}},T=function(e,t,i,n,o,r){var s=e._,a=e.matrix,u=s.fillpos,h=e.node,d=h.style,f=1,m="",g=x/t,v=x/i;if(d.visibility="hidden",t&&i){if(h.coordsize=l(g)+p+l(v),d.rotation=r*(0>t*i?-1:1),r){var b=C(r,n,o);n=b.dx,o=b.dy}if(0>t&&(m+="x"),0>i&&(m+=" y")&&(f=-1),d.flip=m,h.coordorigin=n*-g+p+o*-v,u||s.fillsize){var y=h.getElementsByTagName(c);y=y&&y[0],h.removeChild(y),u&&(b=C(r,a.x(u[0],u[1]),a.y(u[0],u[1])),y.position=b.dx*f+p+b.dy*f),s.fillsize&&(y.size=s.fillsize[0]*l(t)+p+s.fillsize[1]*l(i)),h.appendChild(y)}d.visibility="visible"}};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(e,i,n){for(var o=t(i).toLowerCase().split("-"),r=n?"end":"start",s=o.length,a="classic",l="medium",c="medium";s--;)switch(o[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=o[s];break;case"wide":case"narrow":c=o[s];break;case"long":case"short":l=o[s]}var u=e.node.getElementsByTagName("stroke")[0];u[r+"arrow"]=a,u[r+"arrowlength"]=l,u[r+"arrowwidth"]=c},$=function(o,l){o.attrs=o.attrs||{};var h=o.node,d=o.attrs,m=h.style,g=_[o.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),v=w[o.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),b=o;for(var y in l)l[e](y)&&(d[y]=l[y]);if(g&&(d.path=i._getPath[o.type](o),o._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&o.type=="path"||g)&&(h.path=k(~t(d.path).toLowerCase().indexOf("r")?i._pathToAbsolute(d.path):d.path),o.type=="image"&&(o._.fillpos=[d.x,d.y],o._.fillsize=[d.width,d.height],T(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),v){var C=+d.cx,$=+d.cy,E=+d.rx||+d.r||0,A=+d.ry||+d.r||0;h.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",r((C-E)*x),r(($-A)*x),r((C+E)*x),r(($+A)*x),r(C*x)),o._.dirty=1}if("clip-rect"in l){var M=t(l["clip-rect"]).split(u);if(M.length==4){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var j=h.clipRect||i._g.doc.createElement("div"),I=j.style;I.clip=i.format("rect({1}px {2}px {3}px {0}px)",M),h.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=o.paper.width+"px",I.height=o.paper.height+"px",h.parentNode.insertBefore(j,h),j.appendChild(h),h.clipRect=j)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(o.textpath){var L=o.textpath.style;l.font&&(L.font=l.font),l["font-family"]&&(L.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(L.fontSize=l["font-size"]),l["font-weight"]&&(L.fontWeight=l["font-weight"]),l["font-style"]&&(L.fontStyle=l["font-style"])}if("arrow-start"in l&&S(b,l["arrow-start"]),"arrow-end"in l&&S(b,l["arrow-end"],1),l.opacity!=null||l["stroke-width"]!=null||l.fill!=null||l.src!=null||l.stroke!=null||l["stroke-width"]!=null||l["stroke-opacity"]!=null||l["fill-opacity"]!=null||l["stroke-dasharray"]!=null||l["stroke-miterlimit"]!=null||l["stroke-linejoin"]!=null||l["stroke-linecap"]!=null){var P=h.getElementsByTagName(c),F=!1;if(P=P&&P[0],!P&&(F=P=N(c)),o.type=="image"&&l.src&&(P.src=l.src),l.fill&&(P.on=!0),(P.on==null||l.fill=="none"||l.fill===null)&&(P.on=!1),P.on&&l.fill){var R=t(l.fill).match(i._ISURL);if(R){P.parentNode==h&&h.removeChild(P),P.rotate=!0,P.src=R[1],P.type="tile";var O=o.getBBox(1);P.position=O.x+p+O.y,o._.fillpos=[O.x,O.y],i._preload(R[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else P.color=i.getRGB(l.fill).hex,P.src=f,P.type="solid",i.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||t(l.fill).charAt()!="r")&&D(b,l.fill,P)&&(d.fill="none",d.gradient=l.fill,P.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);z=a(s(z,0),1),P.opacity=z,P.src&&(P.color="none")}h.appendChild(P);var H=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],B=!1;!H&&(B=H=N("stroke")),(l.stroke&&l.stroke!="none"||l["stroke-width"]||l["stroke-opacity"]!=null||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),(l.stroke=="none"||l.stroke===null||H.on==null||l.stroke==0||l["stroke-width"]==0)&&(H.on=!1);var q=i.getRGB(l.stroke);H.on&&l.stroke&&(H.color=q.hex),z=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+q.o+1||2)-1);var W=(n(l["stroke-width"])||1)*.75;if(z=a(s(z,0),1),l["stroke-width"]==null&&(W=d["stroke-width"]),l["stroke-width"]&&(H.weight=W),W&&1>W&&(z*=W)&&(H.weight=1),H.opacity=z,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap=l["stroke-linecap"]=="butt"?"flat":l["stroke-linecap"]=="square"?"square":"round"),l["stroke-dasharray"]){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=G[e](l["stroke-dasharray"])?G[l["stroke-dasharray"]]:f}B&&h.appendChild(H)}if(b.type=="text"){b.paper.canvas.style.display=f;var U=b.paper.span,X=100,V=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);m=U.style,d.font&&(m.font=d.font),d["font-family"]&&(m.fontFamily=d["font-family"]),d["font-weight"]&&(m.fontWeight=d["font-weight"]),d["font-style"]&&(m.fontStyle=d["font-style"]),V=n(d["font-size"]||V&&V[0])||10,m.fontSize=V*X+"px",b.textpath.string&&(U.innerHTML=t(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=U.getBoundingClientRect();b.W=d.w=(Y.right-Y.left)/X,b.H=d.h=(Y.bottom-Y.top)/X,b.X=d.x,b.Y=d.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=i.format("m{0},{1}l{2},{1}",r(d.x*x),r(d.y*x),r(d.x*x)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,Z=K.length;Z>Q;Q++)if(K[Q]in l){b._.dirty=1;break}switch(d["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},D=function(e,r,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),l="linear",c=".5 .5";if(e.attrs.gradient=r,r=t(r).replace(i._radial_gradient,function(e,t,i){return l="radial",t&&i&&(t=n(t),i=n(i),a(t-.5,2)+a(i-.5,2)>.25&&(i=o.sqrt(.25-a(t-.5,2))*(2*(i>.5)-1)+.5),c=t+p+i),f}),r=r.split(/\s*\-\s*/),"linear"==l){var u=r.shift();if(u=-n(u),isNaN(u))return null}var h=i._parseDots(r);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(s),s.on=!0,s.method="none",s.color=h[0].color,s.color2=h[h.length-1].color;for(var d=[],m=0,g=h.length;g>m;m++)h[m].offset&&d.push(h[m].offset+p+h[m].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=c,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},E=function(e,t){this[0]=this.node=e,e.raphael=!0,this.id=i._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},A=i.el;E.prototype=A,A.constructor=E,A.transform=function(e){if(null==e)return this._.transform;var n,o=this.paper._viewBoxShift,r=o?"s"+[o.scale,o.scale]+"-1-1t"+[o.dx,o.dy]:f;o&&(n=e=t(e).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,r+e);var s,a=this.matrix.clone(),l=this.skew,c=this.node,u=~t(this.attrs.fill).indexOf("-"),h=!t(this.attrs.fill).indexOf("url(");if(a.translate(1,1),h||u||this.type=="image")if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),u&&s.noRotation||!s.isSimple){c.style.filter=a.toFilter();var d=this.getBBox(),m=this.getBBox(1),g=d.x-m.x,v=d.y-m.y;c.coordorigin=g*-x+p+v*-x,T(this,1,1,g,v,0)}else c.style.filter=f,T(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else c.style.filter=f,l.matrix=t(a),l.offset=a.offset();return n&&(this._.transform=n),this},A.rotate=function(e,i,o){if(this.removed)return this;if(null!=e){if(e=t(e).split(u),e.length-1&&(i=n(e[1]),o=n(e[2])),e=n(e[0]),null==o&&(i=o),null==i||null==o){var r=this.getBBox(1);i=r.x+r.width/2,o=r.y+r.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,i,o]])),this}},A.translate=function(e,i){return this.removed?this:(e=t(e).split(u),e.length-1&&(i=n(e[1])),e=n(e[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",e,i]])),this)},A.scale=function(e,i,o,r){if(this.removed)return this;if(e=t(e).split(u),e.length-1&&(i=n(e[1]),o=n(e[2]),r=n(e[3]),isNaN(o)&&(o=null),isNaN(r)&&(r=null)),e=n(e[0]),null==i&&(i=e),null==r&&(o=r),null==o||null==r)var s=this.getBBox(1);return o=null==o?s.x+s.width/2:o,r=null==r?s.y+s.height/2:r,this.transform(this._.transform.concat([["s",e,i,o,r]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=f),this},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]=typeof this[e]=="function"?i._removedFactory(e):null;this.removed=!0}},A.attr=function(t,n){if(this.removed)return this;if(null==t){var o={};for(var r in this.attrs)this.attrs[e](r)&&(o[r]=this.attrs[r]);return o.gradient&&o.fill=="none"&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(t,"string")){if(t==c&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var s=t.split(u),a={},l=0,d=s.length;d>l;l++)t=s[l],a[t]=t in this.attrs?this.attrs[t]:i.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:i._availableAttrs[t];return d-1?a:a[s[0]]}if(this.attrs&&null==n&&i.is(t,"array")){for(a={},l=0,d=t.length;d>l;l++)a[t[l]]=this.attr(t[l]);return a}var p;null!=n&&(p={},p[t]=n),null==n&&i.is(t,"object")&&(p=t);for(var f in p)h("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&i.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var g in m)m[e](g)&&(p[g]=m[g])}p.text&&this.type=="text"&&(this.textpath.string=p.text),$(this,p)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),i._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==i.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),i._insertbefore(this,e,this.paper),this)},A.blur=function(e){var t=this.node.runtimeStyle,n=t.filter;return n=n.replace(v,f),0!==+e?(this.attrs.blur=e,t.filter=n+p+d+".Blur(pixelradius="+(+e||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",r(+e||1.5))):(t.filter=n,t.margin=0,delete this.attrs.blur),this},i._engine.path=function(e,t){var i=N("shape");i.style.cssText=y,i.coordsize=x+p+x,i.coordorigin=t.coordorigin;var n=new E(i,t),o={fill:"none",stroke:"#000"};e&&(o.path=e),n.type="path",n.path=[],n.Path=f,$(n,o),t.canvas.appendChild(i);var r=N("skew");return r.on=!0,i.appendChild(r),n.skew=r,n.transform(f),n},i._engine.rect=function(e,t,n,o,r,s){var a=i._rectPath(t,n,o,r,s),l=e.path(a),c=l.attrs;return l.X=c.x=t,l.Y=c.y=n,l.W=c.width=o,l.H=c.height=r,c.r=s,c.path=a,l.type="rect",l},i._engine.ellipse=function(e,t,i,n,o){var r=e.path();return r.attrs,r.X=t-n,r.Y=i-o,r.W=2*n,r.H=2*o,r.type="ellipse",$(r,{cx:t,cy:i,rx:n,ry:o}),r},i._engine.circle=function(e,t,i,n){var o=e.path();return o.attrs,o.X=t-n,o.Y=i-n,o.W=o.H=2*n,o.type="circle",$(o,{cx:t,cy:i,r:n}),o},i._engine.image=function(e,t,n,o,r,s){var a=i._rectPath(n,o,r,s),l=e.path(a).attr({stroke:"none"}),u=l.attrs,h=l.node,d=h.getElementsByTagName(c)[0];return u.src=t,l.X=u.x=n,l.Y=u.y=o,l.W=u.width=r,l.H=u.height=s,u.path=a,l.type="image",d.parentNode==h&&h.removeChild(d),d.rotate=!0,d.src=t,d.type="tile",l._.fillpos=[n,o],l._.fillsize=[r,s],h.appendChild(d),T(l,1,1,0,0,0),l},i._engine.text=function(e,n,o,s){var a=N("shape"),l=N("path"),c=N("textpath");n=n||0,o=o||0,s=s||"",l.v=i.format("m{0},{1}l{2},{1}",r(n*x),r(o*x),r(n*x)+1),l.textpathok=!0,c.string=t(s),c.on=!0,a.style.cssText=y,a.coordsize=x+p+x,a.coordorigin="0 0";var u=new E(a,e),h={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:s};u.shape=a,u.path=l,u.textpath=c,u.type="text",u.attrs.text=t(s),u.attrs.x=n,u.attrs.y=o,u.attrs.w=1,u.attrs.h=1,$(u,h),a.appendChild(c),a.appendChild(l),e.canvas.appendChild(a);var d=N("skew");return d.on=!0,a.appendChild(d),u.skew=d,u.transform(f),u},i._engine.setSize=function(e,t){var n=this.canvas.style;return this.width=e,this.height=t,e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(e,t,n,o,r){i.eve("raphael.setViewBox",this,this._viewBox,[e,t,n,o,r]);var a,l,c=this.width,u=this.height,h=1/s(n/c,o/u);return r&&(a=u/o,l=c/n,c>n*a&&(e-=(c-n*a)/2/a),u>o*l&&(t-=(u-o*l)/2/l)),this._viewBox=[e,t,n,o,!!r],this._viewBoxShift={dx:-e,dy:-t,scale:h},this.forEach(function(e){e.transform("...")}),this};var N;i._engine.initWin=function(e){var t=e.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),N=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(i){N=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var e=i._getContainer.apply(0,arguments),t=e.container,n=e.height,o=e.width,r=e.x,s=e.y;if(!t)throw new Error("VML container not found.");var a=new i._Paper,l=a.canvas=i._g.doc.createElement("div"),c=l.style;return r=r||0,s=s||0,o=o||512,n=n||342,a.width=o,a.height=n,o==+o&&(o+="px"),n==+n&&(n+="px"),a.coordsize=1e3*x+p+1e3*x,a.coordorigin="0 0",a.span=i._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,n),1==t?(i._g.doc.body.appendChild(l),c.left=r+"px",c.top=s+"px",c.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),a.renderfix=function(){},a},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=typeof this[e]=="function"?i._removedFactory(e):null;return!0};var M=i.st;for(var j in A)A[e](j)&&!M[e](j)&&(M[j]=function(e){return function(){var t=arguments;return this.forEach(function(i){i[e].apply(i,t)})}}(j))}}(),$.was?S.win.Raphael=i:Raphael=i,i}),/*!
 * g.Raphael 0.51 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009-2012 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael.el.popup=function(e,t,i,n){var o,r,s,a,l,c=this.paper||this[0].paper;if(c){switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}e=null==e?"up":e,t=t||5,o=this.getBBox(),i="number"==typeof i?i:s?o.x+o.width/2:o.x,n="number"==typeof n?n:s?o.y+o.height/2:o.y,a=Math.max(o.width/2-t,0),l=Math.max(o.height/2-t,0),this.translate(i-o.x-(s?o.width/2:0),n-o.y-(s?o.height/2:0)),o=this.getBBox();var u={up:["M",i,n,"l",-t,-t,-a,0,"a",t,t,0,0,1,-t,-t,"l",0,-o.height,"a",t,t,0,0,1,t,-t,"l",2*t+2*a,0,"a",t,t,0,0,1,t,t,"l",0,o.height,"a",t,t,0,0,1,-t,t,"l",-a,0,"z"].join(","),down:["M",i,n,"l",t,t,a,0,"a",t,t,0,0,1,t,t,"l",0,o.height,"a",t,t,0,0,1,-t,t,"l",-(2*t+2*a),0,"a",t,t,0,0,1,-t,-t,"l",0,-o.height,"a",t,t,0,0,1,t,-t,"l",a,0,"z"].join(","),left:["M",i,n,"l",-t,t,0,l,"a",t,t,0,0,1,-t,t,"l",-o.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-(2*t+2*l),"a",t,t,0,0,1,t,-t,"l",o.width,0,"a",t,t,0,0,1,t,t,"l",0,l,"z"].join(","),right:["M",i,n,"l",t,-t,0,-l,"a",t,t,0,0,1,t,-t,"l",o.width,0,"a",t,t,0,0,1,t,t,"l",0,2*t+2*l,"a",t,t,0,0,1,-t,t,"l",-o.width,0,"a",t,t,0,0,1,-t,-t,"l",0,-l,"z"].join(",")};return r={up:{x:-!s*(o.width/2),y:2*-t-(s?o.height/2:o.height)},down:{x:-!s*(o.width/2),y:2*t+(s?o.height/2:o.height)},left:{x:2*-t-(s?o.width/2:o.width),y:-!s*(o.height/2)},right:{x:2*t+(s?o.width/2:o.width),y:-!s*(o.height/2)}}[e],this.translate(r.x,r.y),c.path(u[e]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}},Raphael.el.tag=function(e,t,i,n){var o=3,r=this.paper||this[0].paper;if(r){var s,a,l,c=r.path().attr({fill:"#000",stroke:"#000"}),u=this.getBBox();switch(this.type){case"text":case"circle":case"ellipse":l=!0;break;default:l=!1}return e=e||0,i="number"==typeof i?i:l?u.x+u.width/2:u.x,n="number"==typeof n?n:l?u.y+u.height/2:u.y,t=null==t?5:t,a=.5522*t,u.height>=2*t?c.attr({path:["M",i,n+t,"a",t,t,0,1,1,0,2*-t,t,t,0,1,1,0,2*t,"m",0,2*-t-o,"a",t+o,t+o,0,1,0,0,2*(t+o),"L",i+t+o,n+u.height/2+o,"l",u.width+2*o,0,0,-u.height-2*o,-u.width-2*o,0,"L",i,n-t-o].join(",")}):(s=Math.sqrt(Math.pow(t+o,2)-Math.pow(u.height/2+o,2)),c.attr({path:["M",i,n+t,"c",-a,0,-t,a-t,-t,-t,0,-a,t-a,-t,t,-t,a,0,t,t-a,t,t,0,a,a-t,t,-t,t,"M",i+s,n-u.height/2-o,"a",t+o,t+o,0,1,0,0,u.height+2*o,"l",t+o-s+u.width+2*o,0,0,-u.height-2*o,"L",i+s,n-u.height/2-o].join(",")})),e=360-e,c.rotate(e,i,n),this.attrs?(this.attr(this.attrs.x?"x":"cx",i+t+o+(l?u.width/2:"text"==this.type?u.width:0)).attr("y",l?n:n-u.height/2),this.rotate(e,i,n),e>90&&270>e&&this.attr(this.attrs.x?"x":"cx",i-t-o-(l?u.width/2:u.width)).rotate(180,i,n)):e>90&&270>e?(this.translate(i-u.x-u.width-t-o,n-u.y-u.height/2),this.rotate(e-180,u.x+u.width+t+o,u.y+u.height/2)):(this.translate(i-u.x+t+o,n-u.y-u.height/2),this.rotate(e,u.x-t-o,u.y+u.height/2)),c.insertBefore(this.node?this:this[0])}},Raphael.el.drop=function(e,t,i){var n,o,r,s,a,l=this.getBBox(),c=this.paper||this[0].paper;if(c){switch(this.type){case"text":case"circle":case"ellipse":n=!0;break;default:n=!1}return e=e||0,t="number"==typeof t?t:n?l.x+l.width/2:l.x,i="number"==typeof i?i:n?l.y+l.height/2:l.y,o=Math.max(l.width,l.height)+Math.min(l.width,l.height),r=c.path(["M",t,i,"l",o,0,"A",.4*o,.4*o,0,1,0,t+.7*o,i-.7*o,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-e,t,i),e=(e+90)*Math.PI/180,s=t+o*Math.sin(e)-(n?0:l.width/2),a=i+o*Math.cos(e)-(n?0:l.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",s).attr(this.attrs.y?"y":"cy",a):this.translate(s-l.x,a-l.y),r.insertBefore(this.node?this:this[0])}},Raphael.el.flag=function(e,t,i){var n=3,o=this.paper||this[0].paper;if(o){var r,s=o.path().attr({fill:"#000",stroke:"#000"}),a=this.getBBox(),l=a.height/2;switch(this.type){case"text":case"circle":case"ellipse":r=!0;break;default:r=!1}return e=e||0,t="number"==typeof t?t:r?a.x+a.width/2:a.x,i="number"==typeof i?i:r?a.y+a.height/2:a.y,s.attr({path:["M",t,i,"l",l+n,-l-n,a.width+2*n,0,0,a.height+2*n,-a.width-2*n,0,"z"].join(",")}),e=360-e,s.rotate(e,t,i),this.attrs?(this.attr(this.attrs.x?"x":"cx",t+l+n+(r?a.width/2:"text"==this.type?a.width:0)).attr("y",r?i:i-a.height/2),this.rotate(e,t,i),e>90&&270>e&&this.attr(this.attrs.x?"x":"cx",t-l-n-(r?a.width/2:a.width)).rotate(180,t,i)):e>90&&270>e?(this.translate(t-a.x-a.width-l-n,i-a.y-a.height/2),this.rotate(e-180,a.x+a.width+l+n,a.y+a.height/2)):(this.translate(t-a.x+l+n,i-a.y-a.height/2),this.rotate(e,a.x-l-n,a.y+a.height/2)),s.insertBefore(this.node?this:this[0])}},Raphael.el.label=function(){var e=this.getBBox(),t=this.paper||this[0].paper,i=Math.min(20,e.width+10,e.height+10)/2;return t?t.rect(e.x-i/2,e.y-i/2,e.width+i,e.height+i,i).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0]):void 0},Raphael.el.blob=function(e,t,i){var n,o,r,s=this.getBBox(),a=Math.PI/180,l=this.paper||this[0].paper;if(l){switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}n=l.path().attr({fill:"#000",stroke:"none"}),e=(+e+1?e:45)+90,r=Math.min(s.height,s.width),t="number"==typeof t?t:o?s.x+s.width/2:s.x,i="number"==typeof i?i:o?s.y+s.height/2:s.y;var c=Math.max(s.width+r,25*r/12),u=Math.max(s.height+r,25*r/12),h=t+r*Math.sin((e-22.5)*a),d=i+r*Math.cos((e-22.5)*a),p=t+r*Math.sin((e+22.5)*a),f=i+r*Math.cos((e+22.5)*a),m=(p-h)/2,g=(f-d)/2,v=c/2,b=u/2,y=-Math.sqrt(Math.abs(v*v*b*b-v*v*g*g-b*b*m*m)/(v*v*g*g+b*b*m*m)),x=y*v*g/b+(p+h)/2,_=y*-b*m/v+(f+d)/2;return n.attr({x:x,y:_,path:["M",t,i,"L",p,f,"A",v,b,0,1,1,h,d,"z"].join(",")}),this.translate(x-s.x-s.width/2,_-s.y-s.height/2),n.insertBefore(this.node?this:this[0])}},Raphael.fn.label=function(e,t,i){var n=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),n.push(i.label(),i)},Raphael.fn.popup=function(e,t,i,n,o){var r=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),r.push(i.popup(n,o),i)},Raphael.fn.tag=function(e,t,i,n,o){var r=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),r.push(i.tag(n,o),i)},Raphael.fn.flag=function(e,t,i,n){var o=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),o.push(i.flag(n),i)},Raphael.fn.drop=function(e,t,i,n){var o=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),o.push(i.drop(n),i)},Raphael.fn.blob=function(e,t,i,n){var o=this.set();return i=this.text(e,t,i).attr(Raphael.g.txtattr),o.push(i.blob(n),i)},Raphael.el.lighter=function(e){e=e||2;var t=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[t[0],t[1]],t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex),t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex),t[0].b=Math.min(t[0].b*e,1),t[0].s=t[0].s/e,t[1].b=Math.min(t[1].b*e,1),t[1].s=t[1].s/e,this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"}),this},Raphael.el.darker=function(e){e=e||2;var t=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[t[0],t[1]],t[0]=Raphael.rgb2hsb(Raphael.getRGB(t[0]).hex),t[1]=Raphael.rgb2hsb(Raphael.getRGB(t[1]).hex),t[0].s=Math.min(t[0].s*e,1),t[0].b=t[0].b/e,t[1].s=Math.min(t[1].s*e,1),t[1].b=t[1].b/e,this.attr({fill:"hsb("+[t[0].h,t[0].s,t[0].b]+")",stroke:"hsb("+[t[1].h,t[1].s,t[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var e=["lighter","darker","resetBrightness"],t=["popup","tag","flag","label","drop","blob"];for(var i in t)(function(e){Raphael.st[e]=function(){return Raphael.el[e].apply(this,arguments)}})(t[i]);for(var i in e)(function(e){Raphael.st[e]=function(){for(var t=0;this.length>t;t++)this[t][e].apply(this[t],arguments);return this}})(e[i])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var e=[.6,.2,.05,.1333,.75,0],t=[],i=0;10>i;i++)e.length>i?t.push("hsb("+e[i]+",.75, .75)"):t.push("hsb("+e[i-e.length]+", 1, .5)");return t}(),snapEnds:function(e,t,i){function n(e){return.25>Math.abs(e-.5)?~~e+.5:Math.round(e)}var o=e,r=t;if(o==r)return{from:o,to:r,power:0};var s=(r-o)/i,a=~~s,l=a,c=0;if(a){for(;l;)c--,l=~~(s*Math.pow(10,c))/Math.pow(10,c);c++}else{if(0!=s&&isFinite(s))for(;!a;)c=c||1,a=~~(s*Math.pow(10,c))/Math.pow(10,c),c++;else c=1;c&&c--}return r=n(t*Math.pow(10,c))/Math.pow(10,c),t>r&&(r=n((t+.5)*Math.pow(10,c))/Math.pow(10,c)),o=n((e-(c>0?0:.5))*Math.pow(10,c))/Math.pow(10,c),{from:o,to:r,power:c}},axis:function(e,t,i,n,o,r,s,a,l,c,u){c=null==c?2:c,l=l||"t",r=r||10,u=arguments[arguments.length-1];var h,d="|"==l||" "==l?["M",e+.5,t,"l",0,.001]:1==s||3==s?["M",e+.5,t,"l",0,-i]:["M",e,t+.5,"l",i,0],p=this.snapEnds(n,o,r),f=p.from,m=p.to,g=p.power,v=0,b={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},y=u.set();h=(m-f)/r;var x=f,_=g>0?g:0;if(T=i/r,1==+s||3==+s){for(var w=t,k=(s-1?1:-1)*(c+3+!!(s-1));w>=t-i;)"-"!=l&&" "!=l&&(d=d.concat(["M",e-("+"==l||"|"==l?c:2*!(s-1)*c),w+.5,"l",2*c+1,0])),y.push(u.text(e+k,w,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(_))).attr(b).attr({"text-anchor":s-1?"start":"end"})),x+=h,w-=T;Math.round(w+T-(t-i))&&("-"!=l&&" "!=l&&(d=d.concat(["M",e-("+"==l||"|"==l?c:2*!(s-1)*c),t-i+.5,"l",2*c+1,0])),y.push(u.text(e+k,t-i,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(_))).attr(b).attr({"text-anchor":s-1?"start":"end"})))}else{x=f,_=(g>0)*g,k=(s?-1:1)*(c+9+!s);for(var C=e,T=i/r,S=0,$=0;e+i>=C;){"-"!=l&&" "!=l&&(d=d.concat(["M",C+.5,t-("+"==l?c:2*!!s*c),"l",0,2*c+1])),y.push(S=u.text(C,t+k,a&&a[v++]||(Math.round(x)==x?x:+x.toFixed(_))).attr(b));var D=S.getBBox();$>=D.x-5?y.pop(y.length-1).remove():$=D.x+D.width,x+=h,C+=T}Math.round(C-T-e-i)&&("-"!=l&&" "!=l&&(d=d.concat(["M",e+i+.5,t-("+"==l?c:2*!!s*c),"l",0,2*c+1])),y.push(u.text(e+i,t+k,a&&a[v]||(Math.round(x)==x?x:+x.toFixed(_))).attr(b)))}var E=u.path(d);return E.text=y,E.all=u.set([E,y]),E.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},E},labelise:function(e,t,i){return e?(e+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(e,n,o){return n?(+t).toFixed(n.replace(/^#+\.?/g,"").length):o?(100*t/i).toFixed(o.replace(/^%+\.?/g,"").length)+"%":void 0}):(+t).toFixed(0)}},/*!
 * g.Raphael 0.5 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 * From: https://github.com/jhurt/g.raphael/blob/master/g.bar.js
 */
function(){function e(e,t,i,r,s,a,l,c){var u,h={round:"round",sharp:"sharp",soft:"soft",square:"square"};if(s&&!r||!s&&!i)return l?"":c.path();switch(a=h[a]||"square",r=Math.round(r),i=Math.round(i),e=Math.round(e),t=Math.round(t),a){case"round":if(s)d=~~(i/2),d>r?(d=r,u=["M",e-~~(i/2),t,"l",0,0,"a",~~(i/2),d,0,0,1,i,0,"l",0,0,"z"]):u=["M",e-d,t,"l",0,d-r,"a",d,d,0,1,1,i,0,"l",0,r-d,"z"];else{var d=~~(r/2);d>i?(d=i,u=["M",e+.5,t+.5-~~(r/2),"l",0,0,"a",d,~~(r/2),0,0,1,0,r,"l",0,0,"z"]):u=["M",e+.5,t+.5-d,"l",i-d,0,"a",d,d,0,1,1,0,r,"l",d-i,0,"z"]}break;case"sharp":if(s)p=~~(i/2),u=["M",e+p,t,"l",-i,0,0,-o(r-p,0),p,-n(p,r),p,n(p,r),p,"z"];else{var p=~~(r/2);u=["M",e,t+p,"l",0,-r,o(i-p,0),0,n(p,i),p,-n(p,i),p+(r>2*p),"z"]}break;case"square":u=s?["M",e+~~(i/2),t,"l",1-i,0,0,-r,i-1,0,"z"]:["M",e,t+~~(r/2),"l",0,-r,i,0,0,r,"z"];break;case"soft":s?(d=n(Math.round(i/5),r),u=["M",e-~~(i/2),t,"l",0,d-r,"a",d,d,0,0,1,d,-d,"l",i-2*d,0,"a",d,d,0,0,1,d,d,"l",0,r-d,"z"]):(d=n(i,Math.round(r/5)),u=["M",e+.5,t+.5-~~(r/2),"l",i-d,0,"a",d,d,0,0,1,d,d,"l",0,r-2*d,"a",d,d,0,0,1,-d,d,"l",d-i,0,"z"])}return l?u.join(","):c.path(u)}function t(t,i,n,o,r,s,a){a=a||{};var l=this,c=a.type||"square",u=parseFloat(a.gutter||"20%"),h=t.set(),d=t.set(),p=t.set(),f=t.set(),m=Math.max.apply(Math,s),g=[],v=0,b=a.colors||l.colors,y=s.length;if(Raphael.is(s[0],"array")){m=[],v=y,y=0;for(var x=s.length;x--;)d.push(t.set()),m.push(Math.max.apply(Math,s[x])),y=Math.max(y,s[x].length);if(a.stacked)for(var x=y;x--;){for(var _=0,w=s.length;w--;)_+=+s[w][x]||0;g.push(_)}for(var x=s.length;x--;)if(y>s[x].length)for(var w=y;w--;)s[x].push(0);m=Math.max.apply(Math,a.stacked?g:m)}m=a.to||m;var k=100*(o/(y*(100+u)+u)),C=k*u/100,T=null==a.vgutter?20:a.vgutter,S=[],$=i+C,D=(r-2*T)/m;a.stretch||(C=Math.round(C),k=Math.floor(k)),!a.stacked&&(k/=v||1);for(var x=0;y>x;x++){S=[];for(var w=0;(v||1)>w;w++){var E=Math.round((v?s[w][x]:s[x])*D),A=n+r-T-E,N=e(Math.round($+k/2),A+E,k,E,!0,c,null,t).attr({stroke:"none",fill:b[v?w:x]});v?d[w].push(N):d.push(N),N.y=A,N.x=Math.round($+k/2),N.w=k,N.h=E,N.value=v?s[w][x]:s[x],a.stacked?S.push(N):$+=k}if(a.stacked){var M;f.push(M=t.rect(S[0].x-S[0].w/2,n,k,r).attr(l.shim)),M.bars=t.set();for(var j=0,I=S.length;I--;)S[I].toFront();for(var I=0,L=S.length;L>I;I++){var P,N=S[I],E=(j+N.value)*D,F=e(N.x,n+r-T-.5*!!j,k,E,!0,c,1,t);M.bars.push(N),j&&N.attr({path:F}),N.h=E,N.y=n+r-T-.5*!!j-E,p.push(P=t.rect(N.x-N.w/2,N.y,k,N.value*D).attr(l.shim)),P.bar=N,P.value=N.value,j+=N.value}$+=k}$+=C}if(f.toFront(),$=i+C,!a.stacked)for(var x=0;y>x;x++){for(var w=0;(v||1)>w;w++){var P;p.push(P=t.rect(Math.round($),n+T,k,r-T).attr(l.shim)),P.bar=v?d[w][x]:d[x],P.value=P.bar.value,$+=k}$+=C}return h.label=function(e,i){e=e||[],this.labels=t.set();var o,c=-1/0;if(a.stacked){for(var u=0;y>u;u++)for(var h=0,f=0;(v||1)>f;f++)if(h+=v?s[f][u]:s[u],f==v-1){var g=l.labelise(e[u],h,m);o=t.text(d[f][u].x,n+r-T/2,g).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[u*(v||1)+f]);var b=o.getBBox();c>b.x-7?o.remove():(this.labels.push(o),c=b.x+b.width)}}else for(var u=0;y>u;u++)for(var f=0;(v||1)>f;f++){var g=l.labelise(v?e[f]&&e[f][u]:e[u],v?s[f][u]:s[u],m);o=t.text(d[f][u].x-k/2,i?n+r-T/2:d[f][u].y-10,g).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[u*(v||1)+f]);var b=o.getBBox();o.translate((k-b.width)/2,1),c>b.x-7?o.remove():(this.labels.push(o),c=b.x+b.width)}return this},h.hover=function(e,t){return f.hide(),p.show(),p.mouseover(e).mouseout(t),this},h.hoverColumn=function(e,t){return p.hide(),f.show(),t=t||function(){},f.mouseover(e).mouseout(t),this},h.click=function(e){return f.hide(),p.show(),p.click(e),this},h.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=p.length;t--;)e.call(p[t]);return this},h.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=f.length;t--;)e.call(f[t]);return this},h.clickColumn=function(e){return p.hide(),f.show(),f.click(e),this},h.push(d,p,f),h.bars=d,h.covers=p,h}function i(t,i,n,o,r,s,a){a=a||{};var l=this,c=a.type||"square",u=parseFloat(a.gutter||"20%"),h=t.set(),d=t.set(),p=t.set(),f=t.set(),m=Math.max.apply(Math,s),g=[],v=0,b=a.colors||l.colors,y=s.length;if(Raphael.is(s[0],"array")){m=[],v=y,y=0;for(var x=s.length;x--;)d.push(t.set()),m.push(Math.max.apply(Math,s[x])),y=Math.max(y,s[x].length);if(a.stacked)for(var x=y;x--;){for(var _=0,w=s.length;w--;)_+=+s[w][x]||0;g.push(_)}for(var x=s.length;x--;)if(y>s[x].length)for(var w=y;w--;)s[x].push(0);m=Math.max.apply(Math,a.stacked?g:m)}m=a.to||m;var k=Math.floor(100*(r/(y*(100+u)+u))),C=Math.floor(k*u/100),T=[],S=n+C,$=(o-1)/m;!a.stacked&&(k/=v||1);for(var x=0;y>x;x++){T=[];for(var w=0;(v||1)>w;w++){var D=v?s[w][x]:s[x],E=e(i,S+k/2,Math.round(D*$),k-1,!1,c,null,t).attr({stroke:"none",fill:b[v?w:x]});v?d[w].push(E):d.push(E),E.x=i+Math.round(D*$),E.y=S+k/2,E.w=Math.round(D*$),E.h=k,E.value=+D,a.stacked?T.push(E):S+=k}if(a.stacked){var A=t.rect(i,T[0].y-T[0].h/2,o,k).attr(l.shim);f.push(A),A.bars=t.set();for(var N=0,M=T.length;M--;)T[M].toFront();for(var M=0,j=T.length;j>M;M++){var I,E=T[M],D=Math.round((N+E.value)*$),L=e(i,E.y,D,k-1,!1,c,1,t);A.bars.push(E),N&&E.attr({path:L}),E.w=D,E.x=i+D,p.push(I=t.rect(i+N*$,E.y-E.h/2,E.value*$,k).attr(l.shim)),I.bar=E,N+=E.value}S+=k}S+=C}if(f.toFront(),S=n+C,!a.stacked)for(var x=0;y>x;x++){for(var w=0;(v||1)>w;w++){var I=t.rect(i,S,o,k).attr(l.shim);p.push(I),I.bar=v?d[w][x]:d[x],I.value=I.bar.value,S+=k}S+=C}return h.label=function(e,n){e=e||[],this.labels=t.set();for(var o=0;y>o;o++)for(var r=0;v>r;r++){var c,u=l.labelise(v?e[r]&&e[r][o]:e[o],v?s[r][o]:s[o],m),h=n?d[r][o].x-k/2+3:i+5;this.labels.push(c=t.text(h,d[r][o].y,u).attr(l.txtattr).attr({fill:a.legendcolor||"#000","text-anchor":"start"}).insertBefore(p[0])),i+5>c.getBBox().x?c.attr({x:i+5,"text-anchor":"start"}):d[r][o].label=c}return this},h.hover=function(e,t){return f.hide(),p.show(),t=t||function(){},p.mouseover(e).mouseout(t),this},h.hoverColumn=function(e,t){return p.hide(),f.show(),t=t||function(){},f.mouseover(e).mouseout(t),this},h.each=function(e){if(!Raphael.is(e,"function"))return this;for(var t=p.length;t--;)e.call(p[t]);return this},h.eachColumn=function(e){if(!Raphael.is(e,"function"))return this;for(var t=f.length;t--;)e.call(f[t]);return this},h.click=function(e){return f.hide(),p.show(),p.click(e),this},h.clickColumn=function(e){return p.hide(),f.show(),f.click(e),this},h.push(d,p,f),h.bars=d,h.covers=p,h}var n=Math.min,o=Math.max,r=function(){};r.prototype=Raphael.g,i.prototype=t.prototype=new r,Raphael.fn.hbarchart=function(e,t,n,o,r,s){return new i(this,e,t,n,o,r,s)},Raphael.fn.barchart=function(e,i,n,o,r,s){return new t(this,e,i,n,o,r,s)}}(),function(){var e;e=function(){function e(e,t){this.element=e,this.options=t,this.preparedCommits={},this.mtime=0,this.mspace=0,this.parents={},this.colors=["#000"],this.offsetX=120,this.offsetY=20,this.unitTime=30,this.unitSpace=10,this.prev_start=-1,this.load()}return e.prototype.load=function(){return $.ajax({url:this.options.url,method:"get",dataType:"json",success:$.proxy(function(e){return $(".loading",this.element).hide(),this.prepareData(e.days,e.commits),this.buildGraph()},this)})},e.prototype.prepareData=function(e,t){var i,n,o,r,s,a;for(this.days=e,this.commits=t,this.collectParents(),this.graphHeight=$(this.element).height(),this.graphWidth=$(this.element).width(),n=Math.max(this.graphHeight,this.offsetY+this.unitTime*this.mtime+150),o=Math.max(this.graphWidth,this.offsetX+this.unitSpace*this.mspace+300),this.r=Raphael(this.element.get(0),o,n),this.top=this.r.set(),this.barHeight=Math.max(this.graphHeight,this.unitTime*this.days.length+320),a=this.commits,r=0,s=a.length;s>r;r++)i=a[r],i.id in this.parents&&(i.isParent=!0),this.preparedCommits[i.id]=i,this.markCommit(i);return this.collectColors()},e.prototype.collectParents=function(){var e,t,i,n,o,r;for(o=this.commits,r=[],i=0,n=o.length;n>i;i++)e=o[i],this.mtime=Math.max(this.mtime,e.time),this.mspace=Math.max(this.mspace,e.space),r.push(function(){var i,n,o,r;for(o=e.parents,r=[],i=0,n=o.length;n>i;i++)t=o[i],this.parents[t[0]]=!0,r.push(this.mspace=Math.max(this.mspace,t[1]));return r}.call(this));return r},e.prototype.collectColors=function(){var e,t;for(e=0,t=[];e<this.mspace;)this.colors.push(Raphael.getColor(.8)),Raphael.getColor(),Raphael.getColor(),t.push(e++);return t},e.prototype.buildGraph=function(){var e,t,i,n,o,r,s,a;for(o=this.r,e=0,t="",o.rect(0,0,26,this.barHeight).attr({fill:"#222"}),o.rect(26,0,20,this.barHeight).attr({fill:"#444"}),a=this.days,n=r=0,s=a.length;s>r;n=++r)i=a[n],e!==i[0]&&(o.text(36,this.offsetY+this.unitTime*n,i[0]).attr({font:"12px Monaco, monospace",fill:"#DDD"}),e=i[0]),t!==i[1]&&(o.text(13,this.offsetY+this.unitTime*n,i[1]).attr({font:"12px Monaco, monospace",fill:"#EEE"}),t=i[1]);return this.renderPartialGraph(),this.bindEvents()},e.prototype.renderPartialGraph=function(){var e,t,i,n,o,r;if(n=Math.floor((this.element.scrollTop()-this.offsetY)/this.unitTime)-10,0>n&&(n=0),t=n+40,this.commits.length<t&&(t=this.commits.length),this.prev_start===-1||Math.abs(this.prev_start-n)>10){for(i=n,this.prev_start=n;t>i;)e=this.commits[i],i+=1,e.hasDrawn!==!0&&(o=this.offsetX+this.unitSpace*(this.mspace-e.space),r=this.offsetY+this.unitTime*e.time,this.drawDot(o,r,e),this.drawLines(o,r,e),this.appendLabel(o,r,e),this.appendAnchor(o,r,e),e.hasDrawn=!0);return this.top.toFront()}},e.prototype.bindEvents=function(){var e,t,i=this;return e={},t=this.element,$(t).scroll(function(){return i.renderPartialGraph()}),$(window).on({keydown:function(e){return e.keyCode===37&&t.scrollLeft(t.scrollLeft()-50),e.keyCode===38&&t.scrollTop(t.scrollTop()-50),e.keyCode===39&&t.scrollLeft(t.scrollLeft()+50),e.keyCode===40&&t.scrollTop(t.scrollTop()+50),i.renderPartialGraph()}})},e.prototype.appendLabel=function(e,t,i){var n,o,r,s,a,l,c;if(i.refs)return o=this.r,s=i.refs,s.length>17&&(s=s.substr(0,15)+"…"),a=o.text(e+4,t,s).attr({"text-anchor":"start",font:"10px Monaco, monospace",fill:"#FFF",title:i.refs}),l=a.getBBox(),r=o.rect(e,t-7,l.width+5,l.height+5,4).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),c=o.path(["M",e-5,t,"L",e-15,t-4,"L",e-15,t+4,"Z"]).attr({fill:"#000","fill-opacity":.5,stroke:"none"}),n=o.set(r,a),n.transform(["t",-r.getBBox().width-15,0]),a.toFront()},e.prototype.appendAnchor=function(e,t,i){var n,o,r,s;return r=this.r,s=this.top,o=this.options,n=r.circle(e,t,10).attr({fill:"#000",opacity:0,cursor:"pointer"}).click(function(){return window.open(o.commit_url.replace("%s",i.id),"_blank")}).hover(function(){return this.tooltip=r.commitTooltip(e+5,t,i),s.push(this.tooltip.insertBefore(this))},function(){return this.tooltip&&this.tooltip.remove()&&delete this.tooltip}),s.push(n)},e.prototype.drawDot=function(e,t,i){var n;return n=this.r,n.circle(e,t,3).attr({fill:this.colors[i.space],stroke:"none"}),n.image(i.author.icon,this.offsetX+this.unitSpace*this.mspace+10,t-10,20,20),n.text(this.offsetX+this.unitSpace*this.mspace+35,t,i.message.split("\n")[0]).attr({"text-anchor":"start",font:"14px Monaco, monospace"})},e.prototype.drawLines=function(e,t,i){var n,o,r,s,a,l,c,u,h,d,p,f,m,g,v;for(d=this.r,g=i.parents,v=[],r=f=0,m=g.length;m>f;r=++f)a=g[r],l=this.preparedCommits[a[0]],h=this.offsetY+this.unitTime*l.time,c=this.offsetX+this.unitSpace*(this.mspace-l.space),u=this.offsetX+this.unitSpace*(this.mspace-a[1]),o=l.space<=i.space?this.colors[i.space]:this.colors[l.space],a[1]===i.space?(s=[0,5],n="l-2,5,4,0,-2,-5,0,5"):a[1]<i.space?(s=[3,3],n="l5,0,-2,4,-3,-4,4,2"):(s=[-3,3],n="l-5,0,2,4,3,-4,-4,2"),p=["M",e+s[0],t+s[1]],r>0&&p.push(n),(i.space!==l.space||i.space!==a[1])&&p.push("L",u,t+10,"L",u,h-5),p.push("L",c,h),v.push(d.path(p).attr({stroke:o,"stroke-width":2}));return v},e.prototype.markCommit=function(e){var t,i,n;return e.id===this.options.commit_id?(t=this.r,i=this.offsetX+this.unitSpace*(this.mspace-e.space),n=this.offsetY+this.unitTime*e.time,t.path(["M",i+5,n,"L",i+15,n+4,"L",i+15,n-4,"Z"]).attr({fill:"#F00",stroke:"none"}),this.element.scrollTop(n-this.graphHeight/2)):void 0},e}(),Raphael.prototype.commitTooltip=function(e,t,i){var n,o,r,s,a,l,c,u,h;return o=300,n=200,r=this.image(i.author.icon,e,t,20,20),l=this.text(e+25,t+10,i.author.name),s=this.text(e,t+35,i.id),a=this.text(e,t+50,i.message),u=this.set(r,l,s,a).attr({"text-anchor":"start",font:"12px Monaco, monospace"}),l.attr({font:"14px Arial","font-weight":"bold"}),s.attr({fill:"#AAA"}),this.textWrap(a,o-50),c=this.rect(e-10,t-10,o,100,4).attr({fill:"#FFF",stroke:"#000","stroke-linecap":"round","stroke-width":2}),h=this.set(c,u),c.attr({height:h.getBBox().height+10,width:h.getBBox().width+10}),h.transform(["t",20,20]),h},Raphael.prototype.textWrap=function(e,t){var i,n,o,r,s,a,l,c,u,h,d;for(o=e.attr("text"),i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e.attr({text:i}),s=e.getBBox().width/i.length,e.attr({text:o}),c=o.split(" "),u=0,a=[],h=0,d=c.length;d>h;h++)l=c[h],u+l.length*s>t&&(a.push("\n"),u=0),u+=l.length*s,a.push(l+" ");return e.attr({text:a.join("")}),n=e.getBBox(),r=Math.abs(n.y2)-Math.abs(n.y)+1,e.attr({y:n.y+r})},this.BranchGraph=e}.call(this),function(e,t,i,n){"use strict";e.fn.modal=function(o){var r,s=e(this),a=e(t),l=e(i),c=e("body"),u=s.selector||"",h=(new Date).getTime(),d=[],p=arguments[0],f="string"==typeof p,m=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,v,b,y,x,_,w,k,C,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),S=T.selector,$=T.className,D=T.namespace,E=T.error,A="."+D,N="module-"+D,M=e(this),j=e(T.context),I=M.find(S.close),L=this,P=M.data(N);C={initialize:function(){C.verbose("Initializing dimmer",j),C.create.id(),C.create.dimmer(),C.refreshModals(),C.verbose("Attaching close events",I),C.bind.events(),C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),P=C,M.data(N,P)},create:{dimmer:function(){var t={debug:T.debug,dimmerName:"modals",duration:{show:T.duration,hide:T.duration}},i=e.extend(!0,t,T.dimmerSettings);return e.fn.dimmer===n?(C.error(E.dimmer),void 0):(C.debug("Creating dimmer with settings",i),y=j.dimmer(i),T.detachable&&(C.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",M)),x=y.dimmer("get dimmer"),void 0)},id:function(){C.verbose("Creating unique id for element"),w=C.get.uniqueID(),_="."+w}},destroy:function(){C.verbose("Destroying previous modal"),M.removeData(N).off(A),a.off(_),I.off(A),j.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(k=new MutationObserver(function(){C.debug("DOM tree modified, refreshing"),C.refresh()}),k.observe(L,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",k))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.set.screenHeight(),C.set.type(),C.set.position()},refreshModals:function(){v=M.siblings(S.modal),s=v.add(M)},attachEvents:function(t,i){var n=e(t);i=e.isFunction(C[i])?C[i]:C.toggle,n.size()>0?(C.debug("Attaching modal events to element",t,i),n.off(A).on("click"+A,i)):C.error(E.notFound,t)},bind:{events:function(){I.on("click"+A,C.event.close),a.on("resize"+_,C.event.resize)}},get:{uniqueID:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){C.verbose("Closing element pressed"),e(this).is(S.approve)?e.proxy(T.onApprove,L)()!==!1?C.hide():C.verbose("Approve callback returned false cancelling hide"):e(this).is(S.deny)?e.proxy(T.onDeny,L)()!==!1?C.hide():C.verbose("Deny callback returned false cancelling hide"):C.hide()},click:function(t){e(t.target).closest(M).size()===0&&(C.debug("Dimmer clicked, hiding all modals"),C.is.active()&&(C.remove.clickaway(),T.allowMultiple?C.hide():C.hideAll()))},debounce:function(e,t){clearTimeout(C.timer),C.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,i=27;t==i&&(T.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&g(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.set.position(),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!T.allowMultiple&&v.filter(":visible").size()>0?(C.debug("Other modals visible, queueing show animation"),C.hideOthers(C.showModal)):(e.proxy(T.onShow,L)(),T.transition&&e.fn.transition!==n&&M.transition("is supported")?(C.debug("Showing modal with css animations"),M.transition({debug:T.debug,animation:T.transition+" in",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){e.proxy(T.onVisible,L)(),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),C.set.autofocus(),t()}})):(C.debug("Showing modal with javascript"),M.fadeIn(T.duration,T.easing,function(){e.proxy(T.onVisible,L)(),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),t()})))):C.debug("Modal is already visible")},hideModal:function(t){t=e.isFunction(t)?t:function(){},C.debug("Hiding modal"),e.proxy(T.onHide,L)(),(C.is.animating()||C.is.active())&&(T.transition&&e.fn.transition!==n&&M.transition("is supported")?(C.remove.active(),M.transition({debug:T.debug,animation:T.transition+" out",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){C.othersActive()||C.hideDimmer(),C.remove.keyboardShortcuts()},onComplete:function(){e.proxy(T.onHidden,L)(),C.restore.focus(),t()}})):(C.remove.active(),C.othersActive()||C.hideDimmer(),C.remove.keyboardShortcuts(),M.fadeOut(T.duration,T.easing,function(){e.proxy(T.onHidden,L)(),C.restore.focus(),t()})))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(C.debug("Showing dimmer"),y.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?(y.dimmer("hide",function(){T.transition&&e.fn.transition!==n&&M.transition("is supported")&&(C.remove.clickaway(),C.remove.screenHeight())}),void 0):(C.debug("Dimmer is not visible cannot hide"),void 0)},hideAll:function(t){t=e.isFunction(t)?t:function(){},s.is(":visible")&&(C.debug("Hiding all visible modals"),C.hideDimmer(),s.filter(":visible").modal("hide modal",t))},hideOthers:function(t){t=e.isFunction(t)?t:function(){},v.is(":visible")&&(C.debug("Hiding other modals",v),v.filter(":visible").modal("hide modal",t))},othersActive:function(){return v.filter("."+$.active).size()>0},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),l.on("keyup"+A,C.event.keyboard)}},save:{focus:function(){b=e(i.activeElement).blur()}},restore:{focus:function(){b&&b.size()>0&&b.focus()}},remove:{active:function(){M.removeClass($.active)},clickaway:function(){T.closable&&x.off("click"+_)},screenHeight:function(){C.cache.height>C.cache.pageHeight&&(C.debug("Removing page height"),c.css("height",""))},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),l.off("keyup"+A)},scrolling:function(){y.removeClass($.scrolling),M.removeClass($.scrolling)}},cacheSizes:function(){var o=M.outerHeight();(C.cache===n||0!==o)&&(C.cache={pageHeight:e(i).outerHeight(),height:o+T.offset,contextHeight:T.context=="body"?e(t).height():y.height()}),C.debug("Caching modal and container sizes",C.cache)},can:{fit:function(){return C.cache.height<C.cache.contextHeight}},is:{active:function(){return M.hasClass($.active)},animating:function(){return M.transition("is supported")?M.transition("is animating"):M.is(":visible")},scrolling:function(){return y.hasClass($.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){if(T.autofocus){var e=M.find(":input:visible"),t=e.filter("[autofocus]"),i=t.size()>0?t:e;i.first().focus()}},clickaway:function(){T.closable&&x.on("click"+_,C.event.click)},screenHeight:function(){C.cache.height>C.cache.pageHeight?(C.debug("Modal is taller than page content, resizing page height"),c.css("height",C.cache.height+T.padding)):c.css("height","")},active:function(){M.addClass($.active)},scrolling:function(){y.addClass($.scrolling),M.addClass($.scrolling)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.othersActive||C.remove.scrolling()):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},position:function(){C.verbose("Centering modal on page",C.cache),C.can.fit()?M.css({top:"",marginTop:-(C.cache.height/2)}):M.css({marginTop:"",top:l.scrollTop()})}},setting:function(t,i){if(C.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,T,t);else{if(i===n)return T[t];T[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(i===n)return C[t];C[t]=i}},debug:function(){T.debug&&(T.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,T.name+":"),C.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,T.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;T.performance&&(t=(new Date).getTime(),n=h||t,i=t-n,h=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,100)},display:function(){var t=T.name+":",i=0;h=!1,clearTimeout(C.performance.timer),e.each(d,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",u&&(t+=" '"+u+"'"),(console.group!==n||console.table!==n)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,i,o){var s,a,l,c=P;return i=i||m,o=L||o,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,o){var r=i!=s?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[r])&&i!=s)c=c[r];else{if(c[r]!==n)return a=c[r],!1;if(!e.isPlainObject(c[o])||i==s)return c[o]!==n?(a=c[o],!1):!1;c=c[o]}})),e.isFunction(a)?l=a.apply(o,i):a!==n&&(l=a),e.isArray(r)?r.push(l):r!==n?r=[r,l]:l!==n&&(r=l),a}},f?(P===n&&C.initialize(),C.invoke(p)):(P!==n&&C.destroy(),C.initialize())}),r!==n?r:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:30,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(jQuery,window,document),/*!
 * # Semantic UI 1.12.3 - Sticky
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2014 Contributorss
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,i,n){"use strict";e.fn.sticky=function(i){var o,r=e(this),s=r.selector||"",a=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,h=[].slice.call(arguments,1);return r.each(function(){var r,d,p,f=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),m=f.className,g=f.namespace,v=f.error,b="."+g,y="module-"+g,x=e(this),_=e(t),w=x.offsetParent(),k=e(f.scrollContext),C=(x.selector||"",x.data(y)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},S=this;p={initialize:function(){p.determineContext(),p.verbose("Initializing sticky",f,w),p.save.positions(),p.checkErrors(),p.bind.events(),f.observeChanges&&p.observeChanges(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),C=p,x.data(y,p)},destroy:function(){p.verbose("Destroying previous instance"),p.reset(),d&&d.disconnect(),_.off("load"+b,p.event.load).off("resize"+b,p.event.resize),k.off("scrollchange"+b,p.event.scrollchange),x.removeData(y)},observeChanges:function(){var e=r[0];"MutationObserver"in t&&(d=new MutationObserver(function(){clearTimeout(p.timer),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu"),p.refresh()},100)}),d.observe(S,{childList:!0,subtree:!0}),d.observe(e,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",d))},determineContext:function(){return r=f.context?e(f.context):w,0===r.length?void p.error(v.invalidContext,f.context,x):void 0},checkErrors:function(){return p.is.hidden()&&p.error(v.visible,x),p.cache.element.height>p.cache.context.height?(p.reset(),void p.error(v.elementSize,x)):void 0},bind:{events:function(){_.on("load"+b,p.event.load).on("resize"+b,p.event.resize),k.off("scroll"+b).on("scroll"+b,p.event.scroll).on("scrollchange"+b,p.event.scrollchange)}},event:{load:function(){p.verbose("Page contents finished loading"),T(p.refresh)},resize:function(){p.verbose("Window resized"),T(p.refresh)},scroll:function(){T(function(){k.trigger("scrollchange"+b,k.scrollTop())})},scrollchange:function(e,t){p.stick(t),f.onScroll.call(S)}},refresh:function(e){p.reset(),e&&(w=x.offsetParent()),p.save.positions(),p.stick(),f.onReposition.call(S)},supports:{sticky:function(){var t=e("<div/>");return t.get(),t.addClass(m.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){p.lastScroll=e},positions:function(){var e={height:_.height()},t={margin:{top:parseInt(x.css("margin-top"),10),bottom:parseInt(x.css("margin-bottom"),10)},offset:x.offset(),width:x.outerWidth(),height:x.outerHeight()},i={offset:r.offset(),height:r.outerHeight(),bottomPadding:parseInt(r.css("padding-bottom"),10)};p.cache={fits:t.height<e.height,window:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:i.offset.top,height:i.height,bottomPadding:i.bottomPadding,bottom:i.offset.top+i.height-i.bottomPadding}},p.set.containerSize(),p.set.size(),p.stick(),p.debug("Caching element positions",p.cache)}},get:{direction:function(e){var t="down";return e=e||k.scrollTop(),p.lastScroll!==n&&(p.lastScroll<e?t="down":p.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||k.scrollTop(),p.lastScroll?e-p.lastScroll:0},currentElementScroll:function(){return p.is.top()?Math.abs(parseInt(x.css("top"),10))||0:Math.abs(parseInt(x.css("bottom"),10))||0},elementScroll:function(e){e=e||k.scrollTop();var t,i=p.cache.element,n=p.cache.window,o=p.get.scrollChange(e),r=i.height-n.height+f.offset,t=p.get.currentElementScroll(),s=t+o;return t=p.cache.fits||0>s?0:s>r?r:s}},remove:{offset:function(){x.css("margin-top","")}},set:{offset:function(){p.verbose("Setting offset on element",f.offset),x.css("margin-top",f.offset)},containerSize:function(){var e=w.get(0).tagName;"HTML"===e||"body"==e?w=x.offsetParent():Math.abs(w.height()-p.cache.context.height)>5&&(p.debug("Context has padding, specifying exact height for container",p.cache.context.height),w.css({height:p.cache.context.height}))},scroll:function(e){p.debug("Setting scroll on element",e),p.is.top()&&x.css("bottom","").css("top",-e),p.is.bottom()&&x.css("top","").css("bottom",e)},size:function(){0!==p.cache.element.height&&0!==p.cache.element.width&&x.css({width:p.cache.element.width,height:p.cache.element.height})}},is:{top:function(){return x.hasClass(m.top)},bottom:function(){return x.hasClass(m.bottom)},initialPosition:function(){return!p.is.fixed()&&!p.is.bound()},hidden:function(){return!x.is(":visible")},bound:function(){return x.hasClass(m.bound)},fixed:function(){return x.hasClass(m.fixed)}},stick:function(e){var t=e||k.scrollTop(),i=p.cache,n=i.fits,o=i.element,r=i.window,s=i.context,a=p.is.bottom()&&f.pushing?f.bottomOffset:f.offset,e={top:t+a,bottom:t+a+r.height},l=(p.get.direction(e.top),n?0:p.get.elementScroll(e.top)),c=!n,u=0!==o.height;p.save.lastScroll(e.top),u&&(p.is.initialPosition()?e.top>=s.bottom?(p.debug("Element bottom of container"),p.bindBottom()):e.top>=o.top&&(p.debug("Element passed, fixing element to page"),p.fixTop()):p.is.fixed()?p.is.top()?e.top<o.top?(p.debug("Fixed element reached top of container"),p.setInitialPosition()):o.height+e.top-l>s.bottom?(p.debug("Fixed element reached bottom of container"),p.bindBottom()):c&&p.set.scroll(l):p.is.bottom()&&(e.bottom-o.height<o.top?(p.debug("Bottom fixed rail has reached top of container"),p.setInitialPosition()):e.bottom>s.bottom?(p.debug("Bottom fixed rail has reached bottom of container"),p.bindBottom()):c&&p.set.scroll(l)):p.is.bottom()&&(f.pushing?p.is.bound()&&e.bottom<s.bottom&&(p.debug("Fixing bottom attached element to bottom of browser."),p.fixBottom()):p.is.bound()&&e.top<s.bottom-o.height&&(p.debug("Fixing bottom attached element to top of browser."),p.fixTop())))},bindTop:function(){p.debug("Binding element to top of parent container"),p.remove.offset(),x.css("left","").css("top","").css("margin-bottom","").removeClass(m.fixed).removeClass(m.bottom).addClass(m.bound).addClass(m.top),f.onTop.call(S),f.onUnstick.call(S)},bindBottom:function(){p.debug("Binding element to bottom of parent container"),p.remove.offset(),x.css("left","").css("top","").css("margin-bottom",p.cache.context.bottomPadding).removeClass(m.fixed).removeClass(m.top).addClass(m.bound).addClass(m.bottom),f.onBottom.call(S),f.onUnstick.call(S)},setInitialPosition:function(){p.unfix(),p.unbind()},fixTop:function(){p.debug("Fixing element to top of page"),p.set.offset(),x.css("left",p.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.bottom).addClass(m.fixed).addClass(m.top),f.onStick.call(S)},fixBottom:function(){p.debug("Sticking element to bottom of page"),p.set.offset(),x.css("left",p.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.top).addClass(m.fixed).addClass(m.bottom),f.onStick.call(S)},unbind:function(){p.debug("Removing absolute position on element"),p.remove.offset(),x.removeClass(m.bound).removeClass(m.top).removeClass(m.bottom)},unfix:function(){p.debug("Removing fixed position on element"),p.remove.offset(),x.removeClass(m.fixed).removeClass(m.top).removeClass(m.bottom),f.onUnstick.call(S)},reset:function(){p.debug("Reseting elements position"),p.unbind(),p.unfix(),p.resetCSS(),p.remove.offset()},resetCSS:function(){x.css({width:"",height:""}),w.css({height:""})},setting:function(t,i){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(i===n)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(i===n)return p[t];p[t]=i}},debug:function(){f.debug&&(f.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,f.name+":"),p.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,f.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;f.performance&&(t=(new Date).getTime(),n=a||t,i=t-n,a=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,0)},display:function(){var t=f.name+":",i=0;a=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",s&&(t+=" '"+s+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,i,r){var s,a,l,c=C;return i=i||h,r=S||r,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,o){var r=i!=s?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[r])&&i!=s)c=c[r];else{if(c[r]!==n)return a=c[r],!1;if(!e.isPlainObject(c[o])||i==s)return c[o]!==n?(a=c[o],!1):!1;c=c[o]}})),e.isFunction(a)?l=a.apply(r,i):a!==n&&(l=a),e.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),a}},u?(C===n&&p.initialize(),p.invoke(c)):(C!==n&&C.invoke("destroy"),p.initialize())}),o!==n?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,i,n){e.fn.dimmer=function(t){var o,r=e(this),s=(new Date).getTime(),a=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var h,d,p,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),m=f.selector,g=f.namespace,v=f.className,b=f.error,y="."+g,x="module-"+g,_=r.selector||"",w="ontouchstart"in i.documentElement?"touchstart":"click",k=e(this),C=this,T=k.data(x);p={preinitialize:function(){p.is.dimmer()?(d=k.parent(),h=k):(d=k,h=p.has.dimmer()?f.dimmerName?d.children(m.dimmer).filter("."+f.dimmerName):d.children(m.dimmer):p.create())},initialize:function(){p.debug("Initializing dimmer",f),f.on=="hover"?d.on("mouseenter"+y,p.show).on("mouseleave"+y,p.hide):f.on=="click"&&d.on(w+y,p.toggle),p.is.page()&&(p.debug("Setting as a page dimmer",d),p.set.pageDimmer()),p.is.closable()&&(p.verbose("Adding dimmer close event",h),h.on(w+y,p.event.click)),p.set.dimmable(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),T=p,k.data(x,T)},destroy:function(){p.verbose("Destroying previous module",h),k.removeData(x),d.off(y),h.off(y)},event:{click:function(t){p.verbose("Determining if event occured on dimmer",t),(h.find(t.target).size()===0||e(t.target).is(m.content))&&(p.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);p.debug("Add content to dimmer",i),i.parent()[0]!==h[0]&&i.detach().appendTo(h)},create:function(){var t=e(f.template.dimmer());return f.variation&&(p.debug("Creating dimmer with variation",f.variation),t.addClass(v.variation)),f.dimmerName&&(p.debug("Creating named dimmer",f.dimmerName),t.addClass(f.dimmerName)),t.appendTo(d),t},show:function(t){t=e.isFunction(t)?t:function(){},p.debug("Showing dimmer",h,f),p.is.dimmed()&&!p.is.animating()||!p.is.enabled()?p.debug("Dimmer is already shown or disabled"):(p.animate.show(t),e.proxy(f.onShow,C)(),e.proxy(f.onChange,C)())},hide:function(t){t=e.isFunction(t)?t:function(){},p.is.dimmed()||p.is.animating()?(p.debug("Hiding dimmer",h),p.animate.hide(t),e.proxy(f.onHide,C)(),e.proxy(f.onChange,C)()):p.debug("Dimmer is not visible")},toggle:function(){p.verbose("Toggling dimmer visibility",h),p.is.dimmed()?p.hide():p.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},f.useCSS&&e.fn.transition!==n&&h.transition("is supported")?h.transition({animation:f.transition+" in",queue:!1,duration:p.get.duration(),onStart:function(){p.set.dimmed()},onComplete:function(){p.set.active(),t()}}):(p.verbose("Showing dimmer animation with javascript"),p.set.dimmed(),h.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(p.get.duration(),1,function(){h.removeAttr("style"),p.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},f.useCSS&&e.fn.transition!==n&&h.transition("is supported")?(p.verbose("Hiding dimmer with css"),h.transition({animation:f.transition+" out",queue:!1,duration:p.get.duration(),onStart:function(){p.remove.dimmed()},onComplete:function(){p.remove.active(),t()}})):(p.verbose("Hiding dimmer with javascript"),p.remove.dimmed(),h.stop().fadeOut(p.get.duration(),function(){p.remove.active(),h.removeAttr("style"),t()}))}},get:{dimmer:function(){return h},duration:function(){return typeof f.duration=="object"?p.is.active()?f.duration.hide:f.duration.show:f.duration}},has:{dimmer:function(){return f.dimmerName?k.children(m.dimmer).filter("."+f.dimmerName).size()>0:k.children(m.dimmer).size()>0}},is:{active:function(){return h.hasClass(v.active)},animating:function(){return h.is(":animated")||h.hasClass(v.animating)},closable:function(){return f.closable=="auto"?f.on=="hover"?!1:!0:f.closable},dimmer:function(){return k.is(m.dimmer)},dimmable:function(){return k.is(m.dimmable)},dimmed:function(){return d.hasClass(v.dimmed)},disabled:function(){return d.hasClass(v.disabled)},enabled:function(){return!p.is.disabled()},page:function(){return d.is("body")},pageDimmer:function(){return h.hasClass(v.pageDimmer)}},can:{show:function(){return!h.hasClass(v.disabled)}},set:{active:function(){h.addClass(v.active)},dimmable:function(){d.addClass(v.dimmable)},dimmed:function(){d.addClass(v.dimmed)},pageDimmer:function(){h.addClass(v.pageDimmer)},disabled:function(){h.addClass(v.disabled)}},remove:{active:function(){h.removeClass(v.active)},dimmed:function(){d.removeClass(v.dimmed)},disabled:function(){h.removeClass(v.disabled)}},setting:function(t,i){if(p.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,f,t);else{if(i===n)return f[t];f[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(i===n)return p[t];p[t]=i}},debug:function(){f.debug&&(f.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,f.name+":"),p.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,f.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,i,n;f.performance&&(t=(new Date).getTime(),n=s||t,i=t-n,s=t,a.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var t=f.name+":",i=0;s=!1,clearTimeout(p.performance.timer),e.each(a,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",_&&(t+=" '"+_+"'"),r.size()>1&&(t+=" ("+r.size()+")"),(console.group!==n||console.table!==n)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,i,r){var s,a,l,c=T;return i=i||u,r=C||r,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,o){var r=i!=s?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[r])&&i!=s)c=c[r];else{if(c[r]!==n)return a=c[r],!1;if(!e.isPlainObject(c[o])||i==s)return c[o]!==n?(a=c[o],!1):(p.error(b.method,t),!1);c=c[o]}})),e.isFunction(a)?l=a.apply(r,i):a!==n&&(l=a),e.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),a}},p.preinitialize(),c?(T===n&&p.initialize(),p.invoke(l)):(T!==n&&p.destroy(),p.initialize())}),o!==n?o:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",transition:"fade",useCSS:!0,on:!1,duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(jQuery,window,document),/*
colpick Color Picker
Copyright 2013 Jose Vargas. Licensed under GPL license. Based on Stefan Petre's Color Picker www.eyecon.ro, dual licensed under the MIT and GPL licenses

For usage and examples: colpick.com/plugin
 */
function(e){var t=function(){var t='<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>',i={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},s=function(t,i){var n=r(t);e(i).data("colpick").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},l=function(t,i){e(i).data("colpick").fields.eq(4).val(Math.round(t.h)).end().eq(5).val(Math.round(t.s)).end().eq(6).val(Math.round(t.b)).end()},c=function(t,i){e(i).data("colpick").fields.eq(0).val(a(t))},u=function(t,i){e(i).data("colpick").selector.css("backgroundColor","#"+a({h:t.h,s:100,b:100})),e(i).data("colpick").selectorIndic.css({left:parseInt(e(i).data("colpick").height*t.s/100,10),top:parseInt(e(i).data("colpick").height*(100-t.b)/100,10)})},h=function(t,i){e(i).data("colpick").hue.css("top",parseInt(e(i).data("colpick").height-e(i).data("colpick").height*t.h/360,10))},d=function(t,i){e(i).data("colpick").currentColor.css("backgroundColor","#"+a(t))},p=function(t,i){e(i).data("colpick").newColor.css("backgroundColor","#"+a(t))},f=function(){var t,i=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(i.data("colpick").color=t=n(M(this.value)),s(t,i.get(0)),l(t,i.get(0))):this.parentNode.className.indexOf("_hsb")>0?(i.data("colpick").color=t=A({h:parseInt(i.data("colpick").fields.eq(4).val(),10),s:parseInt(i.data("colpick").fields.eq(5).val(),10),b:parseInt(i.data("colpick").fields.eq(6).val(),10)}),s(t,i.get(0)),c(t,i.get(0))):(i.data("colpick").color=t=o(N({r:parseInt(i.data("colpick").fields.eq(1).val(),10),g:parseInt(i.data("colpick").fields.eq(2).val(),10),b:parseInt(i.data("colpick").fields.eq(3).val(),10)})),c(t,i.get(0)),l(t,i.get(0))),u(t,i.get(0)),h(t,i.get(0)),p(t,i.get(0)),i.data("colpick").onChange.apply(i.parent(),[t,a(t),r(t)])},m=function(){e(this).parent().removeClass("colpick_focus")},g=function(){e(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),e(this).parent().addClass("colpick_focus")},v=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i=e(this).parent().find("input").focus(),n={el:e(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:i,val:parseInt(i.val(),10),preview:e(this).parent().parent().data("colpick").livePreview};e(document).mouseup(n,y),e(document).mousemove(n,b)},b=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val-e.pageY+e.data.y,10)))),e.data.preview&&f.apply(e.data.field.get(0),[!0]),!1},y=function(t){return f.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colpick_slider").find("input").focus(),e(document).off("mouseup",y),e(document).off("mousemove",b),!1},x=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i={cal:e(this).parent(),y:e(this).offset().top};i.preview=i.cal.data("colpick").livePreview,e(document).mouseup(i,w),e(document).mousemove(i,_),f.apply(i.cal.data("colpick").fields.eq(4).val(parseInt(360*(i.cal.data("colpick").height-(t.pageY-i.y))/i.cal.data("colpick").height,10)).get(0),[i.preview])},_=function(e){return f.apply(e.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,e.pageY-e.data.y)))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},w=function(t){return s(t.data.cal.data("colpick").color,t.data.cal.get(0)),c(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup",w),e(document).off("mousemove",_),!1},k=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i={cal:e(this).parent(),pos:e(this).offset()};i.preview=i.cal.data("colpick").livePreview,e(document).mouseup(i,T),e(document).mousemove(i,C),f.apply(i.cal.data("colpick").fields.eq(6).val(parseInt(100*(i.cal.data("colpick").height-(t.pageY-i.pos.top))/i.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(t.pageX-i.pos.left)/i.cal.data("colpick").height,10)).get(0),[i.preview])},C=function(e){return f.apply(e.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,e.pageY-e.data.pos.top)))/e.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(e.data.cal.data("colpick").height,e.pageX-e.data.pos.left))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},T=function(t){return s(t.data.cal.data("colpick").color,t.data.cal.get(0)),c(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup",T),e(document).off("mousemove",C),!1},S=function(){var t=e(this).parent(),i=t.data("colpick").color;t.data("colpick").origColor=i,d(i,t.get(0)),t.data("colpick").onSubmit(i,a(i),r(i),t.data("colpick").el)},$=function(){var t=e("#"+e(this).data("colpickId"));t.data("colpick").onBeforeShow.apply(this,[t.get(0)]);var i=e(this).offset(),n=i.top+this.offsetHeight,o=i.left,r=E();o+346>r.l+r.w&&(o-=346),t.css({left:o+"px",top:n+"px"}),t.data("colpick").onShow.apply(this,[t.get(0)])!=0&&t.show(),e("html").mousedown({cal:t},D),t.mousedown(function(e){e.stopPropagation()})},D=function(t){t.data.cal.data("colpick").onHide.apply(this,[t.data.cal.get(0)])!=0&&t.data.cal.hide(),e("html").off("mousedown",D)},E=function(){var e=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth)}},A=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},N=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},M=function(e){var t=6-e.length;if(t>0){for(var i=[],n=0;t>n;n++)i.push("0");i.push(e),e=i.join("")}return e},j=function(){var t=e(this).parent(),i=t.data("colpick").origColor;t.data("colpick").color=i,s(i,t.get(0)),c(i,t.get(0)),l(i,t.get(0)),u(i,t.get(0)),h(i,t.get(0)),p(i,t.get(0))};return{init:function(r){if(r=e.extend({},i,r||{}),typeof r.color=="string")r.color=n(r.color);else if(r.color.r!=void 0&&r.color.g!=void 0&&r.color.b!=void 0)r.color=o(r.color);else{if(r.color.h==void 0||r.color.s==void 0||r.color.b==void 0)return this;r.color=A(r.color)}return this.each(function(){if(!e(this).data("colpickId")){var i=e.extend({},r);i.origColor=r.color;var n="collorpicker_"+parseInt(Math.random()*1e3);e(this).data("colpickId",n);var o=e(t).attr("id",n);o.addClass("colpick_"+i.layout+(i.submit?"":" colpick_"+i.layout+"_ns")),i.colorScheme!="light"&&o.addClass("colpick_"+i.colorScheme),o.find("div.colpick_submit").html(i.submitText).click(S),i.fields=o.find("input").change(f).blur(m).focus(g),o.find("div.colpick_field_arrs").mousedown(v).end().find("div.colpick_current_color").click(j),i.selector=o.find("div.colpick_color").mousedown(k),i.selectorIndic=i.selector.find("div.colpick_selector_outer"),i.el=this,i.hue=o.find("div.colpick_hue_arrs"),huebar=i.hue.parent();var a=navigator.userAgent.toLowerCase(),b=navigator.appName==="Microsoft Internet Explorer",y=b?parseFloat(a.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,_=b&&10>y,w=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(_){var C,T;for(C=0;11>=C;C++)T=e("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+w[C]+", endColorstr="+w[C+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+w[C]+", endColorstr="+w[C+1]+')";'),huebar.append(T)}else stopList=w.join(","),huebar.attr("style","background:-webkit-linear-gradient(top center,"+stopList+"); background:-moz-linear-gradient(top center,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); "),huebar.css({background:"linear-gradient(to bottom,"+stopList+")"}),huebar.css({background:"-moz-linear-gradient(top,"+stopList+")"});o.find("div.colpick_hue").mousedown(x),i.newColor=o.find("div.colpick_new_color"),i.currentColor=o.find("div.colpick_current_color"),o.data("colpick",i),s(i.color,o.get(0)),l(i.color,o.get(0)),c(i.color,o.get(0)),h(i.color,o.get(0)),u(i.color,o.get(0)),d(i.color,o.get(0)),p(i.color,o.get(0)),i.flat?(o.appendTo(this).show(),o.css({position:"relative",display:"block"})):(o.appendTo(document.body),e(this).on(i.showEvent,$),o.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){e(this).data("colpickId")&&$.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colpickId")&&e("#"+e(this).data("colpickId")).hide()})},setColor:function(t,i){if(i="undefined"==typeof i?1:i,"string"==typeof t)t=n(t);else if(t.r!=void 0&&t.g!=void 0&&t.b!=void 0)t=o(t);else{if(t.h==void 0||t.s==void 0||t.b==void 0)return this;t=A(t)}return this.each(function(){if(e(this).data("colpickId")){var n=e("#"+e(this).data("colpickId"));n.data("colpick").color=t,n.data("colpick").origColor=t,s(t,n.get(0)),l(t,n.get(0)),c(t,n.get(0)),h(t,n.get(0)),u(t,n.get(0)),p(t,n.get(0)),n.data("colpick").onChange.apply(n.parent(),[t,a(t),r(t),1]),i&&d(t,n.get(0))}})}}}(),i=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},n=function(e){return o(i(e))},o=function(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),o=n-i;return t.b=n,t.s=0!=n?255*o/n:0,t.h=t.s!=0?e.r==n?(e.g-e.b)/o:e.g==n?2+(e.b-e.r)/o:4+(e.r-e.g)/o:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},r=function(e){var t={},i=Math.round(e.h),n=Math.round(e.s*255/100),o=Math.round(e.b*255/100);if(0==n)t.r=t.g=t.b=o;else{var r=o,s=(255-n)*o/255,a=(r-s)*(i%60)/60;360==i&&(i=0),60>i?(t.r=r,t.b=s,t.g=s+a):120>i?(t.g=r,t.b=s,t.r=r-a):180>i?(t.g=r,t.r=s,t.b=s+a):240>i?(t.b=r,t.r=s,t.g=r-a):300>i?(t.b=r,t.g=s,t.r=s+a):360>i?(t.r=r,t.g=s,t.b=r-a):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},s=function(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(i,function(e,t){t.length==1&&(i[e]="0"+t)}),i.join("")},a=function(e){return s(r(e))};e.fn.extend({colpick:t.init,colpickHide:t.hidePicker,colpickShow:t.showPicker,colpickSetColor:t.setColor}),e.extend({colpickRgbToHex:s,colpickRgbToHsb:o,colpickHsbToHex:a,colpickHsbToRgb:r,colpickHexToHsb:n,colpickHexToRgb:i})}(jQuery),function(){$(function(){var e,t,i,n,o,r,s,a,l;e=1,t=50,a=5,this.title_fork_url="",this.title_project_name="",this.title_post_url="",this.title_p_name="",this.title_description="",this.title_form_authenticity_token="";try{$(".author").length===1?(o=$.trim($(".author").attr("href"))+"/"+title_project_name+"/check_fetch",l=$.trim($(".author").attr("href"))+"/projects"):$(".author").length>1&&(o=$.trim($(".author").eq(0).attr("href"))+"/"+title_project_name+"/check_fetch",l=$.trim($(".author").eq(0).attr("href"))+"/projects")}catch(c){return s=c,void 0}return r=function(e,t,n){var o,r;return null==t&&(t=!0),null==n&&(n=""),t?(gon.wait_fetch=!0,r=!0,e===this.title_import_url||e===l?(r=!1,$(".popup-github i").addClass("loading spinner").removeClass("refresh"),$(".popup-github i").css("color","green")):($(".fetch-code").addClass("loading spinner").removeClass("refresh"),$(".fetch-code").css("color","green")),$("#git-project-title .popup >.content").text("项目正在后台同步中,同步完成将自动刷新界面,请稍等"),i(r),void 0):(o=void 0,o=e===this.title_import_url||e===l?$(".remote-message .popup > .content"):$(".fork-message .popup > .content"),void 0!==n&&""!==n?o.text(n):o.text("由于队列已满,或者其他错误,暂无法拉取代码"),void 0)},i=function(e){e?setTimeout(function(){return $.ajax({type:"GET",url:o,dataType:"json",success:function(t){return t.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(e)}})},5e3):setTimeout(function(){return $.ajax({type:"GET",url:o,dataType:"json",success:function(t){return t.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(e)}})},5e3)},n=function(i){i?setTimeout(function(){return t>e?(e+=1,$.ajax({type:"GET",url:o,dataType:"json",success:function(e){return e.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(i)},error:function(){return n(i)}})):void 0},5e3):setTimeout(function(){return t>e?(e+=1,$.ajax({type:"GET",url:o,dataType:"json",success:function(e){return e.status===1?($("#fetch-ok").fadeIn(),location.reload(!0)):n(i)},error:function(){return n(i)}})):void 0},5e3)},$(".fetch-code, .popup-github").popup({inline:!0,hoverable:!0,position:"right center",delay:{show:400,hide:100}}),$("#write-cloneurl-message button").click(function(){var e,t;return e=$("#write-cloneurl-message #import_url").val(),t=$("#write-cloneurl-message span.message"),e.indexOf("http")===-1?(t.html(" * 必须是http/https的clone地址"),void 0):e.indexOf(title_project_name)===-1?(t.html(" * 这似乎并不是该仓库的clone地址"),void 0):($("#write-cloneurl-message i.refresh").show(),$.post(post_url,{import_url:e},function(){var i;return t.html("操作成功."),i=e,$("#write-cloneurl-message").hide(),$("#imported-message").show()}))}),$(".popup-github").on("click",function(){return gon.wait_fetch===void 0||gon.wait_fetch!==!0?"false"===import_url?($("#write-cloneurl-message").show(),void 0):($("#fork-imported-message").is(":visible")&&$("#fork-imported-message").hide(),$("#imported-message").show()):void 0}),$("#imported-message .button.close").click(function(){return $("#imported-message").hide()}),$("#imported-message .button.positive").click(function(){return $.ajax({type:"POST",url:l,timeout:12e4,dataType:"json",data:{"project[name]":title_p_name,"project[description]":title_description,"private":0,"project[import_url]":title_import_url,authenticity_token:title_form_authenticity_token,ignore:"no",license:"no",imported:1},beforeSend:function(){return $(".popup-github i").css("color",""),$("#imported-message").hide(),$(".popup-github i").addClass("loading spinner").removeClass("refresh")},success:function(e){return e.status===0?(e.message!==void 0&&e.message!==""&&($("#import-result-message .status-message").text(e.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),r(title_import_url,!1,e.message),$(".popup-github i").removeClass("loading spinner").addClass("refresh")):(r(title_import_url),$("#new_file_bread").on("click",function(e){return e.preventDefault(),alert("项目正在后台处理中,请稍后执行此功能"),!1}))}})}),$(".fetch-code").click(function(){(gon.wait_fetch===void 0||gon.wait_fetch!==!0)&&($("#imported-message").is(":visible")&&$("#imported-message").hide(),$("#fork-imported-message").show())}),$("#fork-imported-message .button.positive").on("click",function(){$.ajax({type:"POST",url:title_fork_url,dataType:"json",data:{fetch_code:1},beforeSend:function(){return $(".fetch-code").css("color",""),$("#fork-imported-message").hide(),$(".fetch-code").addClass("loading spinner").removeClass("refresh")},success:function(e){return e.status===0?(e.message!==void 0&&e.message!==""&&($("#import-result-message .status-title").text("提示"),$("#import-result-message .status-message").text(e.message),$("#import-result-message").fadeIn(),setTimeout(function(){return $("#import-result-message").fadeOut()},2e3)),r(title_fork_url,!1,e.message),$(".fetch-code").removeClass("loading spinner").addClass("refresh")):r(title_fork_url)}})}),$("#fork-imported-message .button.close").on("click",function(){$("#fork-imported-message").hide()}),gon.fetch_url!==void 0?r(gon.fetch_url):void 0})}.call(this),function(){$(function(){var e,t,i,n,o,r,s,a,l,c,u;return e=24,t=void 0,r=void 0,s=void 0,a=0,l=!1,n=function(e,t,i){var n,o,r,s,a,l,c;return r=i+e.parent_path+e.name+"?oid="+e.oid,$.trim(t).length>=1?(o=e.parent_path+e.name,l=o.toLowerCase(),c=t.toLowerCase(),a=l.indexOf(c),-1===a?t=o:(n=o.substring(a,a+t.length),t=o.replace(n,"<span style='color:#01609d'>"+n+"</span>")),s="<div class='color-item'><div class='row tree-item' style='height:28px;margin-left:12px;font-size:0.9rem;line-height:28px;'><div class='six wide column tree-item-file-name' style='padding:0px;overflow-x:hidden;white-space:nowrap;'><i class='icon text outline file' style='color:#4183c4'><strong style='margin-left:12px;font-weight:normal;'><a href='"+r+"'>"+t+"</a></strong></i></div></div></div>"):s="<div class='color-item'><div class='row tree-item' style='height:28px;margin-left:12px;font-size:0.9rem;line-height:28px;'><div class='six wide column tree-item-file-name' style='padding:0px;overflow-x:hidden;white-space:nowrap;'><i class='icon text outline file' style='color:#4183c4'><strong style='margin-left:12px;font-weight:normal;'><a href='"+r+"'>"+e.parent_path+e.name+"</a></strong></i></div></div></div>",s},i=function(e,t,i){var o,a,l,c,u,h;if(c="<div class='row column tree-holder' id='temp-list'><div class='tree-content-holder' style='margin-top:6px;'><div class='tree-content' style='padding-top:6px;background-color:#fff '>",l="</div></div></div>",e.length===0)return c+"<div style='font-size:10px;'>找不到相关文件</div>"+l;if(e.length===1&&e[0].parent_path==="#"&&e[0].oid==="")return c+"<div style='font-size:12px;padding-left:12px;padding-top:6px;padding-bottom:6px;'>"+e[0].name+"</div>"+l;for(i=s+"/blob/"+r+"/",o="",u=0,h=e.length;h>u;u++)a=e[u],o+=n(a,t,i);return c+o+l},$("#search-name").on("keyup",function(n){var o,r,s,l,c,u,h,d,p,f;if(n.which!==13){if(n.keyCode===27)return $("#back-to-list").trigger("click");for(a=0,h=$.trim($("#search-name").val()),s=[],p=0,f=t.length;f>p;p++)o=t[p],o.type!=="tree"&&(r=o.parent_path+o.name,c=r.toLowerCase(),u=h.toLowerCase(),(c.indexOf(u)!==-1||h.length===0)&&s.length<e&&s.push(o));return $("#temp-list").remove(),$("#search-plane").append(i(s,h)),$(".color-item").on("click",function(){return window.location.href=$(this).find("a").attr("href")})}return d=$("#temp-list").find(".tree-item"),d.length>0?(l=$(d[a]).find("a").attr("href"),window.location.href=l):void 0}),$("#search-files").on("click",function(){return o()}),$("#back-to-list").on("click",function(){return $("#git-project").show(),$("#git-project-nav").remove("#search-plane"),$("#search-plane").hide()}),c=function(){return u(),$("#git-project").hide(),$("#git-project-nav").append($("#search-plane")),$("#search-plane").show(),$("#search-name").val("").focus().trigger("keyup")},u=function(){return $("#search-files-loading").toggleClass("octicon octicon-list-unordered spinner loading icon")},o=function(){var e,i;return u(),void 0!==t?(c(),void 0):(l||(l=!0,r=$(".chzn-single").children("span").text(),e=gon.http_clone,s=e.replace(".git","").replace("https://","//"),i=s+"/file_list",(void 0===r||$.trim(r)==="")&&(r="master"),$.ajax({url:i,data:{ref:r},type:"GET",success:function(e){l=!1,t=e,c()},error:function(){l=!1,u(),alert("因为网络或其他原因,文件列表获取失败,请稍后重试!")}})),void 0)}})}.call(this),$(function(){function e(e){e.keyCode==9&&(this.value=this.value+"	",e.returnValue=!1)}$("select.chosen").chosen(),$(".project-refs-form .group-result").each(function(e){if(0==e){var t=0;$(this).nextAll().each(function(){return $(this).hasClass("group-option")?(t+=1,void 0):!1});var i="/"+gon.user_project+"/branches/recent",n=$(this).text();$(this).text(n+"("+t+")"),$(this).append("<a href='#' style='float:right;' onclick='javascript:window.location.href=\""+i+"\"'>"+gon.manage_branch+"</a>")}else if(1==e){var o=$(this).next(),t=0;if(o.text()=="占位符看起来挺不错的"){o.css("display","none");var t=-1}$(this).nextAll().each(function(){return $(this).hasClass("group-option")?(t+=1,void 0):!1});var r="/"+gon.user_project+"/tags",n=$(this).text();$(this).text(n+"("+t+")"),$(this).append("<a href='#' style='float:right;' onclick='javascript:window.location.href=\""+r+"\"'>"+gon.manage_tag+"</a>")}}),$(".project-refs-select").trigger("chosen:updated"),$(".js-comment-form").length>0&&(Notes.initCommentForm($(".js-comment-form")),$(".js-comment-text").blur(function(){$(this).html(this.value)}).keydown(e))});